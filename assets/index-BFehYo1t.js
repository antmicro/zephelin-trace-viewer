const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./tiling-layout-CD4cMF_A.js","./tiling-layout-BLMxeyW7.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const Bo="modulepreload",Wo=function(t,e){return new URL(t,e).href},mn={},Ge=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let s=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(r.map(d=>{if(d=Wo(d,n),d in mn)return;mn[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(!!n)for(let y=a.length-1;y>=0;y--){const _=a[y];if(_.href===d&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${p}`))return;const C=document.createElement("link");if(C.rel=u?"stylesheet":Bo,u||(C.as="script"),C.crossOrigin="",C.href=d,f&&C.setAttribute("nonce",f),document.head.appendChild(C),u)return new Promise((y,_)=>{C.addEventListener("load",y),C.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var ot,M,Li,Le,gn,Pi,Fi,Ai,Zr,Ar,kr,ki,tt={},Mi=[],zo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,st=Array.isArray;function ge(t,e){for(var r in e)t[r]=e[r];return t}function Xr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ae(t,e,r){var n,i,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?ot.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return Je(t,s,n,i,null)}function Je(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Li,__i:-1,__u:0};return i==null&&M.vnode!=null&&M.vnode(o),o}function $o(){return{current:null}}function _e(t){return t.children}function he(t,e){this.props=t,this.context=e}function He(t,e){if(e==null)return t.__?He(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?He(t):null}function Vi(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Vi(t)}}function Mr(t){(!t.__d&&(t.__d=!0)&&Le.push(t)&&!Zt.__r++||gn!=M.debounceRendering)&&((gn=M.debounceRendering)||Pi)(Zt)}function Zt(){for(var t,e,r,n,i,o,s,a=1;Le.length;)Le.length>a&&Le.sort(Fi),t=Le.shift(),a=Le.length,t.__d&&(r=void 0,i=(n=(e=t).__v).__e,o=[],s=[],e.__P&&((r=ge({},n)).__v=n.__v+1,M.vnode&&M.vnode(r),Yr(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,o,i??He(n),!!(32&n.__u),s),r.__v=n.__v,r.__.__k[r.__i]=r,Oi(o,r,s),r.__e!=i&&Vi(r)));Zt.__r=0}function Ni(t,e,r,n,i,o,s,a,l,f,d){var u,p,m,C,y,_,x=n&&n.__k||Mi,h=e.length;for(l=Uo(r,e,x,l,h),u=0;u<h;u++)(m=r.__k[u])!=null&&(p=m.__i==-1?tt:x[m.__i]||tt,m.__i=u,_=Yr(t,m,p,i,o,s,a,l,f,d),C=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&Jr(p.ref,null,m),d.push(m.ref,m.__c||C,m)),y==null&&C!=null&&(y=C),4&m.__u||p.__k===m.__k?l=Ii(m,l,t):typeof m.type=="function"&&_!==void 0?l=_:C&&(l=C.nextSibling),m.__u&=-7);return r.__e=y,l}function Uo(t,e,r,n,i){var o,s,a,l,f,d=r.length,u=d,p=0;for(t.__k=new Array(i),o=0;o<i;o++)(s=e[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=o+p,(s=t.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Je(null,s,null,null,null):st(s)?Je(_e,{children:s},null,null,null):s.constructor==null&&s.__b>0?Je(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,a=null,(f=s.__i=Go(s,r,l,u))!=-1&&(u--,(a=r[f])&&(a.__u|=2)),a==null||a.__v==null?(f==-1&&(i>d?p--:i<d&&p++),typeof s.type!="function"&&(s.__u|=4)):f!=l&&(f==l-1?p--:f==l+1?p++:(f>l?p--:p++,s.__u|=4))):t.__k[o]=null;if(u)for(o=0;o<d;o++)(a=r[o])!=null&&(2&a.__u)==0&&(a.__e==n&&(n=He(a)),Di(a,a));return n}function Ii(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=Ii(n[i],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=He(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Se(t,e){return e=e||[],t==null||typeof t=="boolean"||(st(t)?t.some(function(r){Se(r,e)}):e.push(t)),e}function Go(t,e,r,n){var i,o,s=t.key,a=t.type,l=e[r];if(l===null&&t.key==null||l&&s==l.key&&a==l.type&&(2&l.__u)==0)return r;if(n>(l!=null&&(2&l.__u)==0?1:0))for(i=r-1,o=r+1;i>=0||o<e.length;){if(i>=0){if((l=e[i])&&(2&l.__u)==0&&s==l.key&&a==l.type)return i;i--}if(o<e.length){if((l=e[o])&&(2&l.__u)==0&&s==l.key&&a==l.type)return o;o++}}return-1}function _n(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||zo.test(e)?r:r+"px"}function gt(t,e,r,n,i){var o,s;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||_n(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||_n(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Ai,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Zr,t.addEventListener(e,o?kr:Ar,o)):t.removeEventListener(e,o?kr:Ar,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function wn(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Zr++;else if(e.t<r.u)return;return r(M.event?M.event(e):e)}}}function Yr(t,e,r,n,i,o,s,a,l,f){var d,u,p,m,C,y,_,x,h,g,w,v,E,T,L,k,F,I=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),o=[a=e.__e=r.__e]),(d=M.__b)&&d(e);e:if(typeof I=="function")try{if(x=e.props,h="prototype"in I&&I.prototype.render,g=(d=I.contextType)&&n[d.__c],w=d?g?g.props.value:d.__:n,r.__c?_=(u=e.__c=r.__c).__=u.__E:(h?e.__c=u=new I(x,w):(e.__c=u=new he(x,w),u.constructor=I,u.render=qo),g&&g.sub(u),u.props=x,u.state||(u.state={}),u.context=w,u.__n=n,p=u.__d=!0,u.__h=[],u._sb=[]),h&&u.__s==null&&(u.__s=u.state),h&&I.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ge({},u.__s)),ge(u.__s,I.getDerivedStateFromProps(x,u.__s))),m=u.props,C=u.state,u.__v=e,p)h&&I.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),h&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(h&&I.getDerivedStateFromProps==null&&x!==m&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(x,w),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(x,u.__s,w)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(u.props=x,u.state=u.__s,u.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(B){B&&(B.__=e)}),v=0;v<u._sb.length;v++)u.__h.push(u._sb[v]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(x,u.__s,w),h&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(m,C,y)})}if(u.context=w,u.props=x,u.__P=t,u.__e=!1,E=M.__r,T=0,h){for(u.state=u.__s,u.__d=!1,E&&E(e),d=u.render(u.props,u.state,u.context),L=0;L<u._sb.length;L++)u.__h.push(u._sb[L]);u._sb=[]}else do u.__d=!1,E&&E(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++T<25);u.state=u.__s,u.getChildContext!=null&&(n=ge(ge({},n),u.getChildContext())),h&&!p&&u.getSnapshotBeforeUpdate!=null&&(y=u.getSnapshotBeforeUpdate(m,C)),k=d,d!=null&&d.type===_e&&d.key==null&&(k=Hi(d.props.children)),a=Ni(t,st(k)?k:[k],e,r,n,i,o,s,a,l,f),u.base=e.__e,e.__u&=-161,u.__h.length&&s.push(u),_&&(u.__E=u.__=null)}catch(B){if(e.__v=null,l||o!=null)if(B.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,e.__e=a}else for(F=o.length;F--;)Xr(o[F]);else e.__e=r.__e,e.__k=r.__k;M.__e(B,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=jo(r.__e,e,r,n,i,o,s,l,f);return(d=M.diffed)&&d(e),128&e.__u?void 0:a}function Oi(t,e,r){for(var n=0;n<r.length;n++)Jr(r[n],r[++n],r[++n]);M.__c&&M.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){M.__e(o,i.__v)}})}function Hi(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:st(t)?t.map(Hi):ge({},t)}function jo(t,e,r,n,i,o,s,a,l){var f,d,u,p,m,C,y,_=r.props,x=e.props,h=e.type;if(h=="svg"?i="http://www.w3.org/2000/svg":h=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(f=0;f<o.length;f++)if((m=o[f])&&"setAttribute"in m==!!h&&(h?m.localName==h:m.nodeType==3)){t=m,o[f]=null;break}}if(t==null){if(h==null)return document.createTextNode(x);t=document.createElementNS(i,h,x.is&&x),a&&(M.__m&&M.__m(e,o),a=!1),o=null}if(h==null)_===x||a&&t.data==x||(t.data=x);else{if(o=o&&ot.call(t.childNodes),_=r.props||tt,!a&&o!=null)for(_={},f=0;f<t.attributes.length;f++)_[(m=t.attributes[f]).name]=m.value;for(f in _)if(m=_[f],f!="children"){if(f=="dangerouslySetInnerHTML")u=m;else if(!(f in x)){if(f=="value"&&"defaultValue"in x||f=="checked"&&"defaultChecked"in x)continue;gt(t,f,null,m,i)}}for(f in x)m=x[f],f=="children"?p=m:f=="dangerouslySetInnerHTML"?d=m:f=="value"?C=m:f=="checked"?y=m:a&&typeof m!="function"||_[f]===m||gt(t,f,m,_[f],i);if(d)a||u&&(d.__html==u.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(u&&(t.innerHTML=""),Ni(e.type=="template"?t.content:t,st(p)?p:[p],e,r,n,h=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,s,o?o[0]:r.__k&&He(r,0),a,l),o!=null)for(f=o.length;f--;)Xr(o[f]);a||(f="value",h=="progress"&&C==null?t.removeAttribute("value"):C!=null&&(C!==t[f]||h=="progress"&&!C||h=="option"&&C!=_[f])&&gt(t,f,C,_[f],i),f="checked",y!=null&&y!=t[f]&&gt(t,f,y,_[f],i))}return t}function Jr(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){M.__e(i,r)}}function Di(t,e,r){var n,i;if(M.unmount&&M.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Jr(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){M.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Di(n[i],e,r||typeof t.type!="function");r||Xr(t.__e),t.__c=t.__=t.__e=void 0}function qo(t,e,r){return this.constructor(t,r)}function rt(t,e,r){var n,i,o,s;e==document&&(e=document.documentElement),M.__&&M.__(t,e),i=(n=!1)?null:e.__k,o=[],s=[],Yr(e,t=e.__k=Ae(_e,null,[t]),i||tt,tt,e.namespaceURI,i?null:e.firstChild?ot.call(e.childNodes):null,o,i?i.__e:e.firstChild,n,s),Oi(o,t,s)}function Ko(t,e,r){var n,i,o,s,a=ge({},t.props);for(o in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)o=="key"?n=e[o]:o=="ref"?i=e[o]:a[o]=e[o]===void 0&&s!=null?s[o]:e[o];return arguments.length>2&&(a.children=arguments.length>3?ot.call(arguments,2):r),Je(t.type,a,n||t.key,i||t.ref,null)}function cr(t){function e(r){var n,i;return this.getChildContext||(n=new Set,(i={})[e.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&n.forEach(function(s){s.__e=!0,Mr(s)})},this.sub=function(o){n.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){n&&n.delete(o),s&&s.call(o)}}),r.children}return e.__c="__cC"+ki++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,n){return r.children(n)}).contextType=e,e}ot=Mi.slice,M={__e:function(t,e,r,n){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},Li=0,he.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ge({},this.state),typeof t=="function"&&(t=t(ge({},r),this.props)),t&&ge(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Mr(this))},he.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Mr(this))},he.prototype.render=_e,Le=[],Pi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fi=function(t,e){return t.__v.__b-e.__v.__b},Zt.__r=0,Ai=/(PointerCapture)$|Capture$/i,Zr=0,Ar=wn(!1),kr=wn(!0),ki=0;var Zo=0;function c(t,e,r,n,i,o){e||(e={});var s,a,l=e;if("ref"in l)for(a in l={},e)a=="ref"?s=e[a]:l[a]=e[a];var f={type:t,props:l,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Zo,__i:-1,__u:0,__source:i,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)l[a]===void 0&&(l[a]=s[a]);return M.vnode&&M.vnode(f),f}var ke,z,Cr,vn,De=0,Bi=[],j=M,Cn=j.__b,yn=j.__r,Sn=j.diffed,xn=j.__c,bn=j.unmount,En=j.__;function at(t,e){j.__h&&j.__h(z,t,De||e),De=0;var r=z.__H||(z.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function le(t){return De=1,Xo(zi,t)}function Xo(t,e,r){var n=at(ke++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):zi(void 0,e),function(a){var l=n.__N?n.__N[0]:n.__[0],f=n.t(l,a);l!==f&&(n.__N=[f,n.__[1]],n.__c.setState({}))}],n.__c=z,!z.__f)){var i=function(a,l,f){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!o||o.call(this,a,l,f);var u=n.__c.props!==a;return d.forEach(function(p){if(p.__N){var m=p.__[0];p.__=p.__N,p.__N=void 0,m!==p.__[0]&&(u=!0)}}),o&&o.call(this,a,l,f)||u};z.__f=!0;var o=z.shouldComponentUpdate,s=z.componentWillUpdate;z.componentWillUpdate=function(a,l,f){if(this.__e){var d=o;o=void 0,i(a,l,f),o=d}s&&s.call(this,a,l,f)},z.shouldComponentUpdate=i}return n.__N||n.__}function fe(t,e){var r=at(ke++,3);!j.__s&&Qr(r.__H,e)&&(r.__=t,r.u=e,z.__H.__h.push(r))}function Wi(t,e){var r=at(ke++,4);!j.__s&&Qr(r.__H,e)&&(r.__=t,r.u=e,z.__h.push(r))}function te(t){return De=5,Y(function(){return{current:t}},[])}function eu(t,e,r){De=6,Wi(function(){if(typeof t=="function"){var n=t(e());return function(){t(null),n&&typeof n=="function"&&n()}}if(t)return t.current=e(),function(){return t.current=null}},r==null?r:r.concat(t))}function Y(t,e){var r=at(ke++,7);return Qr(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function D(t,e){return De=8,Y(function(){return t},e)}function je(t){var e=z.context[t.__c],r=at(ke++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(z)),e.props.value):t.__}function Yo(){for(var t;t=Bi.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ut),t.__H.__h.forEach(Vr),t.__H.__h=[]}catch(e){t.__H.__h=[],j.__e(e,t.__v)}}j.__b=function(t){z=null,Cn&&Cn(t)},j.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),En&&En(t,e)},j.__r=function(t){yn&&yn(t),ke=0;var e=(z=t.__c).__H;e&&(Cr===z?(e.__h=[],z.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(Ut),e.__h.forEach(Vr),e.__h=[],ke=0)),Cr=z},j.diffed=function(t){Sn&&Sn(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Bi.push(e)!==1&&vn===j.requestAnimationFrame||((vn=j.requestAnimationFrame)||Jo)(Yo)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Cr=z=null},j.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Ut),r.__h=r.__h.filter(function(n){return!n.__||Vr(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],j.__e(n,r.__v)}}),xn&&xn(t,e)},j.unmount=function(t){bn&&bn(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ut(n)}catch(i){e=i}}),r.__H=void 0,e&&j.__e(e,r.__v))};var Tn=typeof requestAnimationFrame=="function";function Jo(t){var e,r=function(){clearTimeout(n),Tn&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);Tn&&(e=requestAnimationFrame(r))}function Ut(t){var e=z,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),z=e}function Vr(t){var e=z;t.__c=t.__(),z=e}function Qr(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function zi(t,e){return typeof e=="function"?e(t):e}function Qo(t,e){for(var r in e)t[r]=e[r];return t}function Nr(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function Rn(t,e){this.props=t,this.context=e}function W(t,e){function r(i){var o=this.props.ref,s=o==i.ref;return!s&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!s:Nr(this.props,i)}function n(i){return this.shouldComponentUpdate=r,Ae(t,i)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(Rn.prototype=new he).isPureReactComponent=!0,Rn.prototype.shouldComponentUpdate=function(t,e){return Nr(this.props,t)||Nr(this.state,e)};var Ln=M.__b;M.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ln&&Ln(t)};var Pn=function(t,e){return t==null?null:Se(Se(t).map(e))},es={map:Pn,forEach:Pn,count:function(t){return t?Se(t).length:0},only:function(t){var e=Se(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Se},ts=M.__e;M.__e=function(t,e,r,n){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}ts(t,e,r,n)};var Fn=M.unmount;function $i(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Qo({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return $i(n,e,r)})),t}function Ui(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return Ui(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function Gt(){this.__u=0,this.o=null,this.__b=null}function Gi(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function rs(t){var e,r,n;function i(o){if(e||(e=t()).then(function(s){r=s.default||s},function(s){n=s}),n)throw n;if(!r)throw e;return Ae(r,o)}return i.displayName="Lazy",i.__f=!0,i}function _t(){this.i=null,this.l=null}M.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Fn&&Fn(t)},(Gt.prototype=new he).__c=function(t,e){var r=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var i=Gi(n.__v),o=!1,s=function(){o||(o=!0,r.__R=null,i?i(a):a())};r.__R=s;var a=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Ui(l,l.__c.__P,l.__c.__O)}var f;for(n.setState({__a:n.__b=null});f=n.o.pop();)f.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},Gt.prototype.componentWillUnmount=function(){this.o=[]},Gt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=$i(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&Ae(_e,null,t.fallback);return i&&(i.__u&=-33),[Ae(_e,null,e.__a?null:t.children),i]};var An=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};function ns(t){return this.getChildContext=function(){return t.context},t.children}function is(t){var e=this,r=t.h;if(e.componentWillUnmount=function(){rt(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var n=e.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:n.__m},contains:function(){return!0},insertBefore:function(i,o){this.childNodes.push(i),e.h.insertBefore(i,o)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.h.removeChild(i)}}}rt(Ae(ns,{context:e.context},t.__v),e.v)}function tu(t,e){var r=Ae(is,{__v:t,h:e});return r.containerInfo=e,r}(_t.prototype=new he).__a=function(t){var e=this,r=Gi(e.__v),n=e.l.get(t);return n[0]++,function(i){var o=function(){e.props.revealOrder?(n.push(i),An(e,t,n)):i()};r?r(o):o()}},_t.prototype.render=function(t){this.i=null,this.l=new Map;var e=Se(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},_t.prototype.componentDidUpdate=_t.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){An(t,r,e)})};var ji=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,os=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ss=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,as=/[A-Z0-9]/g,ls=typeof document<"u",cs=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function ru(t,e,r){return e.__k==null&&(e.textContent=""),rt(t,e),typeof r=="function"&&r(),t?t.__c:null}he.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(he.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var kn=M.event;function hs(){}function us(){return this.cancelBubble}function fs(){return this.defaultPrevented}M.event=function(t){return kn&&(t=kn(t)),t.persist=hs,t.isPropagationStopped=us,t.isDefaultPrevented=fs,t.nativeEvent=t};var ds={enumerable:!1,configurable:!0,get:function(){return this.class}},Mn=M.vnode;M.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,i={},o=n.indexOf("-")===-1;for(var s in r){var a=r[s];if(!(s==="value"&&"defaultValue"in r&&a==null||ls&&s==="children"&&n==="noscript"||s==="class"||s==="className")){var l=s.toLowerCase();s==="defaultValue"&&"value"in r&&r.value==null?s="value":s==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?s="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||cs(r.type)?l==="onfocus"?s="onfocusin":l==="onblur"?s="onfocusout":ss.test(s)&&(s=l):l=s="oninput":o&&os.test(s)?s=s.replace(as,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&i[s=l]&&(s="oninputCapture"),i[s]=a}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Se(r.children).forEach(function(f){f.props.selected=i.value.indexOf(f.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=Se(r.children).forEach(function(f){f.props.selected=i.multiple?i.defaultValue.indexOf(f.props.value)!=-1:i.defaultValue==f.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",ds)):(r.className&&!r.class||r.class&&r.className)&&(i.class=i.className=r.className),e.props=i}(t),t.$$typeof=ji,Mn&&Mn(t)};var Vn=M.__r;M.__r=function(t){Vn&&Vn(t),t.__c};var Nn=M.diffed;M.diffed=function(t){Nn&&Nn(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value)};function ps(t){return!!t&&t.$$typeof===ji}function ms(t){return ps(t)?Ko.apply(null,arguments):t}function nu(t){return!!t.__k&&(rt(null,t),!0)}var qi={version:"18.3.1",Children:es};const gs="_app_pla8y_1",_s="_background_pla8y_124",ws="_maximize_pla8y_164",re={app:gs,background:_s,"layout-container":"_layout-container_pla8y_84","tiling-container":"_tiling-container_pla8y_1","tiling-layout":"_tiling-layout_pla8y_1","on-drag":"_on-drag_pla8y_103","block-pointer-events":"_block-pointer-events_pla8y_116","tiling-panel":"_tiling-panel_pla8y_119","speedscope-container":"_speedscope-container_pla8y_1","welcome-message-code":"_welcome-message-code_pla8y_139","loading-icon":"_loading-icon_pla8y_144","loading-screen":"_loading-screen_pla8y_155",maximize:ws};class U{constructor(e,r){this.state=e,this.observers=[],this.set=this.set.bind(this),this.get=this.get.bind(this)}set(e){this.state!==e&&(this.state=e,this.observers.forEach(r=>r()))}get(){return this.state}subscribe(e){this.observers.push(e)}unsubscribe(e){const r=this.observers.indexOf(e);r!==-1&&this.observers.splice(r,1)}}function O(t){const[e,r]=le(t.get());return Wi(()=>{r(t.get());function n(){r(t.get())}return t.subscribe(n),()=>{t.unsubscribe(n)}},[t]),e}var Ie=(t=>(t[t.SYSTEM=0]="SYSTEM",t[t.DARK=1]="DARK",t[t.LIGHT=2]="LIGHT",t))(Ie||{});const jt="speedscope-color-scheme";function vs(){const t=window.localStorage&&window.localStorage[jt];return t==="DARK"?1:t==="LIGHT"?2:0}function Cs(){return matchMedia("(prefers-color-scheme: dark)")}function ys(t){if(Cs().matches)switch(t){case 0:return 2;case 2:return 1;case 1:return 0}else switch(t){case 0:return 1;case 1:return 2;case 2:return 0}}class Ss extends U{constructor(){super(...arguments),this.cycleToNextColorScheme=()=>{this.set(ys(this.get()))}}}const nt=new Ss(vs(),"colorScheme");nt.subscribe(()=>{const t=nt.get();switch(t){case 1:{window.localStorage[jt]="DARK";break}case 2:{window.localStorage[jt]="LIGHT";break}case 0:{delete window.localStorage[jt];break}default:return t}return t});function ue(t,e,r){return t<e?e:t>r?r:t}const J=class J{constructor(e,r){this.x=e,this.y=r}withX(e){return new J(e,this.y)}withY(e){return new J(this.x,e)}plus(e){return new J(this.x+e.x,this.y+e.y)}minus(e){return new J(this.x-e.x,this.y-e.y)}times(e){return new J(this.x*e,this.y*e)}timesPointwise(e){return new J(this.x*e.x,this.y*e.y)}dividedByPointwise(e){return new J(this.x/e.x,this.y/e.y)}dot(e){return this.x*e.x+this.y*e.y}equals(e){return this.x===e.x&&this.y===e.y}approxEquals(e,r=1e-9){return Math.abs(this.x-e.x)<r&&Math.abs(this.y-e.y)<r}length2(){return this.dot(this)}length(){return Math.sqrt(this.length2())}abs(){return new J(Math.abs(this.x),Math.abs(this.y))}static min(e,r){return new J(Math.min(e.x,r.x),Math.min(e.y,r.y))}static max(e,r){return new J(Math.max(e.x,r.x),Math.max(e.y,r.y))}static clamp(e,r,n){return new J(ue(e.x,r.x,n.x),ue(e.y,r.y,n.y))}flatten(){return[this.x,this.y]}};J.zero=new J(0,0),J.unit=new J(1,1);let S=J;class A{constructor(e=1,r=0,n=0,i=0,o=1,s=0){this.m00=e,this.m01=r,this.m02=n,this.m10=i,this.m11=o,this.m12=s}withScale(e){let{m00:r,m01:n,m02:i,m10:o,m11:s,m12:a}=this;return r=e.x,s=e.y,new A(r,n,i,o,s,a)}static withScale(e){return new A().withScale(e)}scaledBy(e){return A.withScale(e).times(this)}getScale(){return new S(this.m00,this.m11)}withTranslation(e){let{m00:r,m01:n,m02:i,m10:o,m11:s,m12:a}=this;return i=e.x,a=e.y,new A(r,n,i,o,s,a)}static withTranslation(e){return new A().withTranslation(e)}getTranslation(){return new S(this.m02,this.m12)}translatedBy(e){return A.withTranslation(e).times(this)}static betweenRects(e,r){return A.withTranslation(e.origin.times(-1)).scaledBy(new S(r.size.x/e.size.x,r.size.y/e.size.y)).translatedBy(r.origin)}times(e){const r=this.m00*e.m00+this.m01*e.m10,n=this.m00*e.m01+this.m01*e.m11,i=this.m00*e.m02+this.m01*e.m12+this.m02,o=this.m10*e.m00+this.m11*e.m10,s=this.m10*e.m01+this.m11*e.m11,a=this.m10*e.m02+this.m11*e.m12+this.m12;return new A(r,n,i,o,s,a)}equals(e){return this.m00==e.m00&&this.m01==e.m01&&this.m02==e.m02&&this.m10==e.m10&&this.m11==e.m11&&this.m12==e.m12}approxEquals(e,r=1e-9){return Math.abs(this.m00-e.m00)<r&&Math.abs(this.m01-e.m01)<r&&Math.abs(this.m02-e.m02)<r&&Math.abs(this.m10-e.m10)<r&&Math.abs(this.m11-e.m11)<r&&Math.abs(this.m12-e.m12)<r}timesScalar(e){const{m00:r,m01:n,m02:i,m10:o,m11:s,m12:a}=this;return new A(e*r,e*n,e*i,e*o,e*s,e*a)}det(){const{m00:e,m01:r,m02:n,m10:i,m11:o,m12:s}=this,a=0,l=0,f=1;return e*(o*f-s*l)-r*(i*f-s*a)+n*(i*l-o*a)}adj(){const{m00:e,m01:r,m02:n,m10:i,m11:o,m12:s}=this,a=0,l=0,f=1,d=+(o*f-s*l),u=-(r*f-n*l),p=+(r*s-n*o),m=-(i*f-s*a),C=+(e*f-n*a),y=-(e*s-n*i);return new A(d,u,p,m,C,y)}inverted(){const e=this.det();return e===0?null:this.adj().timesScalar(1/e)}transformVector(e){return new S(e.x*this.m00+e.y*this.m01,e.x*this.m10+e.y*this.m11)}inverseTransformVector(e){const r=this.inverted();return r?r.transformVector(e):null}transformPosition(e){return new S(e.x*this.m00+e.y*this.m01+this.m02,e.x*this.m10+e.y*this.m11+this.m12)}inverseTransformPosition(e){const r=this.inverted();return r?r.transformPosition(e):null}transformRect(e){const r=this.transformVector(e.size),n=this.transformPosition(e.origin);return r.x<0&&r.y<0?new P(n.plus(r),r.abs()):r.x<0?new P(n.withX(n.x+r.x),r.abs()):r.y<0?new P(n.withY(n.y+r.y),r.abs()):new P(n,r)}inverseTransformRect(e){const r=this.inverted();return r?r.transformRect(e):null}flatten(){return[this.m00,this.m10,0,this.m01,this.m11,0,this.m02,this.m12,1]}}const de=class de{constructor(e,r){this.origin=e,this.size=r}isEmpty(){return this.width()==0||this.height()==0}width(){return this.size.x}height(){return this.size.y}left(){return this.origin.x}right(){return this.left()+this.width()}top(){return this.origin.y}bottom(){return this.top()+this.height()}topLeft(){return this.origin}topRight(){return this.origin.plus(new S(this.width(),0))}bottomRight(){return this.origin.plus(this.size)}bottomLeft(){return this.origin.plus(new S(0,this.height()))}withOrigin(e){return new de(e,this.size)}withSize(e){return new de(this.origin,e)}closestPointTo(e){return new S(ue(e.x,this.left(),this.right()),ue(e.y,this.top(),this.bottom()))}distanceFrom(e){return e.minus(this.closestPointTo(e)).length()}contains(e){return this.distanceFrom(e)===0}hasIntersectionWith(e){const r=Math.max(this.top(),e.top());if(Math.max(r,Math.min(this.bottom(),e.bottom()))-r===0)return!1;const i=Math.max(this.left(),e.left());return Math.max(i,Math.min(this.right(),e.right()))-i!==0}intersectWith(e){const r=S.max(this.topLeft(),e.topLeft()),n=S.max(r,S.min(this.bottomRight(),e.bottomRight()));return new de(r,n.minus(r))}equals(e){return this.origin.equals(e.origin)&&this.size.equals(e.size)}approxEquals(e){return this.origin.approxEquals(e.origin)&&this.size.approxEquals(e.size)}area(){return this.size.x*this.size.y}};de.empty=new de(S.zero,S.zero),de.unit=new de(S.zero,S.unit),de.NDC=new de(new S(-1,-1),new S(2,2));let P=de;class oe{constructor(e=0,r=0,n=0,i=1){this.r=e,this.g=r,this.b=n,this.a=i}static fromLumaChromaHue(e,r,n){const i=n/60,o=r*(1-Math.abs(i%2-1)),[s,a,l]=i<1?[r,o,0]:i<2?[o,r,0]:i<3?[0,r,o]:i<4?[0,o,r]:i<5?[o,0,r]:[r,0,o],f=e-(.3*s+.59*a+.11*l);return new oe(ue(s+f,0,1),ue(a+f,0,1),ue(l+f,0,1),1)}static fromCSSHex(e){const r=e.length;if(r!==7&&r!==9||e[0]!=="#")throw new Error(`Invalid color input ${e}`);const n=parseInt(e.slice(1,3),16)/255,i=parseInt(e.slice(3,5),16)/255,o=parseInt(e.slice(5,7),16)/255;let s=1;if(r===9&&(s=parseInt(e.slice(7,9),16)/255),n<0||n>1||i<0||i>1||o<0||o>1)throw new Error(`Invalid color input ${e}`);return new oe(n,i,o,s)}withAlpha(e){return new oe(this.r,this.g,this.b,e)}toCSS(){return`rgba(${(255*this.r).toFixed()}, ${(255*this.g).toFixed()}, ${(255*this.b).toFixed()}, ${this.a.toFixed(2)})`}}function Ee(t){return t[t.length-1]||null}function qt(t,e){function r(n,i){const o=e(n),s=e(i);return o<s?-1:o>s?1:0}t.sort(r)}function iu(t,e,r){return t.has(e)||t.set(e,r(e)),t.get(e)}function ou(t,e,r){return t.has(e)?t.get(e):r(e)}function su(t,e){if(!t.has(e))throw new Error(`Expected key ${e}`);return t.get(e)}class Ki{constructor(){this.map=new Map}getOrInsert(e){const r=e.key,n=this.map.get(r);return n||(this.map.set(r,e),e)}forEach(e){this.map.forEach(e)}[Symbol.iterator](){return this.map.values()}}function*au(t,e){for(let r of t)yield e(r)}function lu(t,e){for(let r of t)e(r)}function xs(t,e){return new Array(Math.max(e-t.length,0)+1).join("0")+t}function Be(t){let e=`${t.toFixed(0)}%`;return t===100?e="100%":t>99?e=">99%":t<.01?e="<0.01%":t<1?e=`${t.toFixed(2)}%`:t<10&&(e=`${t.toFixed(1)}%`),e}function bs(t){return t-Math.floor(t)}function Zi(t){return 2*Math.abs(bs(t)-.5)-1}function Es(t,e,r,n,i=1){for(;;){if(e-t<=i)return[t,e];const o=(e+t)/2;r(o)<n?t=o:e=o}}function Ts(t,e){if(t.length===0)return-1;let r=0,n=t.length-1;for(;n!==r;){const i=Math.floor((r+n)/2);e(t[i])?n=i:r=i+1}return e(t[n])?n:-1}function en(...t){}function tn(t,e){for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(t[r]!==e[r])return!1;return!0}function we(t){let e=null;return r=>{let n;return e==null?(n=t(r),e={args:r,result:n},n):(tn(e.args,r)||(e.args=r,e.result=t(r)),e.result)}}function hr(t){let e=null;return r=>{let n;return e==null?(n=t(r),e={args:r,result:n},n):(e.args===r||(e.args=r,e.result=t(r)),e.result)}}function Rs(t){let e=null;return()=>(e==null&&(e={result:t()}),e.result)}const Ls=Rs(()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Map;for(let r=0;r<t.length;r++)e.set(t.charAt(r),r);return e.set("=",-1),e});function cu(t){const e=Ls();if(t.length%4!==0)throw new Error(`Invalid length for base64 encoded string. Expected length % 4 = 0, got length = ${t.length}`);const r=t.length/4;let n;t.length>=4&&t.charAt(t.length-1)==="="?t.charAt(t.length-2)==="="?n=r*3-2:n=r*3-1:n=r*3;const i=new Uint8Array(n);let o=0;for(let s=0;s<r;s++){const a=t.charAt(s*4+0),l=t.charAt(s*4+1),f=t.charAt(s*4+2),d=t.charAt(s*4+3),u=e.get(a),p=e.get(l),m=e.get(f),C=e.get(d);if(u==null||p==null||m==null||C==null)throw new Error(`Invalid quartet at indices ${s*4} .. ${s*4+3}: ${t.substring(s*4,s*4+3)}`);i[o++]=u<<2|p>>4,f!=="="&&(i[o++]=(p&15)<<4|m>>2),d!=="="&&(i[o++]=(m&7)<<6|C)}if(o!==n)throw new Error(`Expected to decode ${n} bytes, but only decoded ${o})`);return i}const Xi=(t,e)=>{const r=t.x*1e3,n=Math.round(e.transformPosition(new S(r,0)).x);return{configSpacePos:r,physicalSpacePos:n}},Yi=.2,Ji=.1,Qi=.2,eo=.1,Ps=t=>{const e=Zi(30*t),r=360*(.9*t),n=Yi+Ji*e,i=Qi-eo*e;return oe.fromLumaChromaHue(i,n,r)},Fs=`
  vec3 colorForBucket(float t) {
    float x = triangle(30.0 * t);
    float H = 360.0 * (0.9 * t);
    float C = ${Yi.toFixed(1)} + ${Ji.toFixed(1)} * x;
    float L = ${Qi.toFixed(1)} - ${eo.toFixed(1)} * x;
    return hcl2rgb(H, C, L);
  }
`,be={fgPrimaryColor:"#D0D0D0",fgSecondaryColor:"#666666",bgPrimaryColor:"#060606",bgSecondaryColor:"#0C0C0C",altFgPrimaryColor:"#D0D0D0",altFgSecondaryColor:"#666666",altBgPrimaryColor:"#000000",altBgSecondaryColor:"#0C0C0C",selectionPrimaryColor:"#00769B",selectionSecondaryColor:"#004E75",bgCanvas:"#060606",weightColor:"#0F8A42",searchMatchTextColor:"#0C0C0C",searchMatchPrimaryColor:"#A66F1C",searchMatchSecondaryColor:"#D6AE24",colorForBucket:Ps,colorForBucketGLSL:Fs},to=.25,ro=.2,no=.8,io=.15,As=t=>{const e=Zi(30*t),r=360*(.9*t),n=to+ro*e,i=no-io*e;return oe.fromLumaChromaHue(i,n,r)},ks=`
  vec3 colorForBucket(float t) {
    float x = triangle(30.0 * t);
    float H = 360.0 * (0.9 * t);
    float C = ${to.toFixed(1)} + ${ro.toFixed(1)} * x;
    float L = ${no.toFixed(1)} - ${io.toFixed(1)} * x;
    return hcl2rgb(H, C, L);
  }
`,Ce={fgPrimaryColor:"#000000",fgSecondaryColor:"#BDBDBD",bgPrimaryColor:"#FFFFFF",bgSecondaryColor:"#F6F6F6",altFgPrimaryColor:"#FFFFFF",altFgSecondaryColor:"#BDBDBD",altBgPrimaryColor:"#000000",altBgSecondaryColor:"#222222",selectionPrimaryColor:"#2F80ED",selectionSecondaryColor:"#8EB7ED",bgCanvas:"#F6F6F6",weightColor:"#6FCF97",searchMatchTextColor:"#000000",searchMatchPrimaryColor:"#FFAC02",searchMatchSecondaryColor:"#FEDC62",colorForBucket:As,colorForBucketGLSL:ks};var q=(t=>(t[t.CHRONO_FLAME_CHART=0]="CHRONO_FLAME_CHART",t[t.LEFT_HEAVY_FLAME_GRAPH=1]="LEFT_HEAVY_FLAME_GRAPH",t[t.SANDWICH_VIEW=2]="SANDWICH_VIEW",t))(q||{});function Ms(t){switch(t){case"time-ordered":return q.CHRONO_FLAME_CHART;case"left-heavy":return q.LEFT_HEAVY_FLAME_GRAPH;case"sandwich":return q.SANDWICH_VIEW;default:return null}}function Vs(t=window.location.hash){try{if(!t.startsWith("#"))return{};const e=t.substr(1).split("&"),r={};for(const n of e){let[i,o]=n.split("=");if(o=decodeURIComponent(o),i==="profileURL")r.profileURL=o;else if(i==="title")r.title=o;else if(i==="localProfilePath")r.localProfilePath=o;else if(i==="view"){const s=Ms(o);s!==null&&(r.viewMode=s)}}return r}catch{return{}}}var lt=(t=>(t.LEFT_HEAVY="LEFT_HEAVY",t.CHRONO="CHRONO",t.SANDWICH_INVERTED_CALLERS="SANDWICH_INVERTED_CALLERS",t.SANDWICH_CALLEES="SANDWICH_CALLEES",t))(lt||{});let wt={hover:null,selectedNode:null,configSpaceViewportRect:P.empty,logicalSpaceViewportSize:S.zero};class Ns extends U{constructor(){super(...arguments),this.setProfileGroup=e=>{this.set({name:e.name,indexToView:e.indexToView,profiles:e.profiles.map(r=>({profile:r,chronoViewState:wt,leftHeavyViewState:wt,sandwichViewState:{callerCallee:null}}))})},this.setProfileIndexToView=e=>{this.state!=null&&(e=ue(e,0,this.state.profiles.length-1),this.set({...this.state,indexToView:e}))},this.setSelectedFrame=e=>{this.state==null||this.getActiveProfile()==null||(Qe.set(e),this.updateActiveSandwichViewState(n=>e==null?{callerCallee:null}:{callerCallee:{invertedCallerFlamegraph:wt,calleeFlamegraph:wt,selectedFrame:e}}))}}set(e){const r=this.state;r!=null&&e!=null&&tn(r,e)||super.set(e)}getActiveProfile(){var e;return this.state==null?null:this.state.profiles[(e=this.state)==null?void 0:e.indexToView]||null}updateActiveProfileState(e){if(this.state==null)return;const{indexToView:r,profiles:n}=this.state;this.set({...this.state,profiles:n.map((i,o)=>o!=r?i:e(i))})}updateActiveSandwichViewState(e){this.updateActiveProfileState(r=>({...r,sandwichViewState:e(r.sandwichViewState)}))}updateFlamechartState(e,r){switch(e){case"CHRONO":{this.updateActiveProfileState(n=>({...n,chronoViewState:r(n.chronoViewState)}));break}case"LEFT_HEAVY":{this.updateActiveProfileState(n=>({...n,leftHeavyViewState:r(n.leftHeavyViewState)}));break}case"SANDWICH_CALLEES":{this.updateActiveSandwichViewState(n=>({...n,callerCallee:n.callerCallee==null?null:{...n.callerCallee,calleeFlamegraph:r(n.callerCallee.calleeFlamegraph)}}));break}case"SANDWICH_INVERTED_CALLERS":{this.updateActiveSandwichViewState(n=>({...n,callerCallee:n.callerCallee==null?null:{...n.callerCallee,invertedCallerFlamegraph:r(n.callerCallee.invertedCallerFlamegraph)}}));break}}}setFlamechartHoveredNode(e,r){Os.set((r==null?void 0:r.node)??null),this.updateFlamechartState(e,n=>({...n,hover:r}))}setSelectedNode(e,r){Qe.set(r),this.updateFlamechartState(e,n=>({...n,selectedNode:r}))}setConfigSpaceViewportRect(e,r){this.updateFlamechartState(e,n=>({...n,configSpaceViewportRect:r}))}setLogicalSpaceViewportSize(e,r){this.updateFlamechartState(e,n=>({...n,logicalSpaceViewportSize:r}))}clearHoverNode(){this.setFlamechartHoveredNode("CHRONO",null),this.setFlamechartHoveredNode("LEFT_HEAVY",null),this.setFlamechartHoveredNode("SANDWICH_CALLEES",null),this.setFlamechartHoveredNode("SANDWICH_INVERTED_CALLERS",null)}}const it=new U(!1,"flattenRecursion"),Xt=new U(!1,"searchIsActive"),Yt=new U("","searchQueryAtom"),Fe=new U(q.CHRONO_FLAME_CHART,"viewMode"),ie=new Ns(null,"profileGroup"),Qe=new U(null,"selected");Fe.subscribe(()=>{var e;ie.clearHoverNode();const t=ie.getActiveProfile();switch(Fe.get()){case q.CHRONO_FLAME_CHART:Qe.set((t==null?void 0:t.chronoViewState.selectedNode)??null);break;case q.LEFT_HEAVY_FLAME_GRAPH:Qe.set((t==null?void 0:t.leftHeavyViewState.selectedNode)??null);break;case q.SANDWICH_VIEW:Qe.set(((e=t==null?void 0:t.sandwichViewState.callerCallee)==null?void 0:e.selectedFrame)??null);break}});const oo=Vs(),Is=new U(oo,"hashParams"),Jt=new U(null,"glCanvas"),In=new U(!1,"dragActive"),On=window.location.protocol,Ir=On==="http:"||On==="https:",so=Ir&&oo.profileURL!=null,Qt=new U(so,"loading"),ao=new U({},"loadingCallbacks"),er=new U(!1,"error"),tr=new U(null,"metadata"),Or=new U({},"welcomeMessage"),Oe=new U(!1,"metadataOnlyProfile"),rr=new U({},"toolbarConfig"),We=new U(null,"appRef"),Ve=new U(null,"timestampHovered"),Os=new U(null,"hovered");var se=(t=>(t[t.SYMBOL_NAME=0]="SYMBOL_NAME",t[t.SELF=1]="SELF",t[t.TOTAL=2]="TOTAL",t))(se||{}),me=(t=>(t[t.ASCENDING=0]="ASCENDING",t[t.DESCENDING=1]="DESCENDING",t))(me||{});const Hr=new U({field:1,direction:1},"tableSortMethod"),lo=cr(Ce);function $(){return je(lo)}function ve(t){return hr(t)}function Hn(){return matchMedia("(prefers-color-scheme: dark)")}function Hs(t,e){switch(t){case Ie.SYSTEM:return e?be:Ce;case Ie.DARK:return be;case Ie.LIGHT:return Ce}}function Ds(t){const[e,r]=le(()=>Hn().matches),n=D(a=>{r(a.matches)},[r]);fe(()=>{const a=Hn();return a.addEventListener("change",n),()=>{a.removeEventListener("change",n)}},[n]);const i=O(nt);let o=Hs(i,e);if(O(Oe)){o=Object.assign({},o);const a=oe.fromCSSHex("#1A1A1A");o.colorForBucket=()=>a,o.colorForBucketGLSL=`vec3 colorForBucket(float t) {return vec3(${a.r}, ${a.g}, ${a.b});}`}return c(lo.Provider,{value:o,children:t.children})}const Bs="_panels_1osxb_1",Ws="_category_1osxb_117",zs="_dropdown_1osxb_141",$s="_left_1osxb_71",Us="_right_1osxb_159",Gs="_disabled_1osxb_176",js="_clicked_1osxb_204",X={"top-bar":"_top-bar_1osxb_1",panels:Bs,"left-button":"_left-button_1osxb_71","left-buttons":"_left-buttons_1osxb_1","top-title":"_top-title_1osxb_1","right-buttons":"_right-buttons_1osxb_1",category:Ws,dropdown:zs,left:$s,right:Us,"panel-button":"_panel-button_1osxb_169",disabled:Gs,clicked:js,"drag-tooltip":"_drag-tooltip_1osxb_208"};function co({color:t="#9E9EA4",up:e}){return c("svg",{style:e?{transformBox:"fill-box",transforOrigin:"center",transform:"rotate(180deg)"}:{},width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M4.00006 6L8.00006 10L12.0001 6",stroke:t,"stroke-linecap":"round","stroke-linejoin":"round"})})}function ho({color:t="#D5D5D5",size:e="16"}){return c("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M13.3333 4L5.99996 11.3333L2.66663 8",stroke:t,"stroke-linecap":"round","stroke-linejoin":"round"})})}function qs(...t){return t.join(" ")}function uo(t){return qs(...Object.entries(t).filter(([e,r])=>r).map(([e,r])=>e))}let Re,Ne;function hu(){return Re}function Ks({draggedElement:t}){const e=te(null),r=t.getBoundingClientRect();if(!Ne)return null;const n=Ne[0]-r.left,i=Ne[1]-r.top,o=(a,l)=>{e.current&&(e.current.style.left=`${a-n}px`,e.current.style.top=`${l-i}px`)},s=a=>{o(a.clientX,a.clientY)};return fe(()=>{var l;const a=t.cloneNode(!0);return a.style.width=`${r.width}px`,a.style.height=`${r.height}px`,(l=e.current)==null||l.appendChild(a),Ne&&o(...Ne),window.addEventListener("mousemove",s),()=>{var f;window.removeEventListener("mousemove",s),(f=e.current)==null||f.removeChild(a)}}),c("div",{ref:e,className:X["drag-tooltip"]})}function Te(t,e){return new DragEvent(t,e?{clientX:e.clientX,clientY:e.clientY}:{})}const Zs=W(({component:t,tilingRef:e,setCustomDraggingSt:r})=>{const n=O(t.available),i=O(t.instances),o=te(null),s=()=>{var _,x;return(x=(_=e.current)==null?void 0:_.getRef().current)==null?void 0:x.base},a=()=>{const _=s();_&&(_.removeEventListener("mouseenter",f),_.removeEventListener("mousemove",l),_.removeEventListener("mouseleave",d)),window.removeEventListener("click",u),window.removeEventListener("keydown",p),Re=void 0,r(null)},l=_=>{var x;(x=s())==null||x.dispatchEvent(Te("dragover",_))},f=_=>{var x;(x=s())==null||x.dispatchEvent(Te("dragenter",_))},d=_=>{var x;(x=s())==null||x.dispatchEvent(Te("dragleave",_))},u=_=>{const x=s();a();const h=x==null?void 0:x.getBoundingClientRect();x&&h&&h.left<=_.clientX&&_.clientX<=h.right&&h.top<=_.clientY&&_.clientY<=h.bottom&&x.dispatchEvent(Te("drop",_))},p=_=>{var x;switch(_.key){case"Escape":a(),(x=s())==null||x.dispatchEvent(Te("dragleave"));break}},m=_=>{if(o.current===null)return;const x=s();Re===t.title&&(window.removeEventListener("mousemove",l),a(),o.current.dispatchEvent(Te("dragleave"))),Re===void 0&&(x&&(x.addEventListener("mouseenter",f),x.addEventListener("mousemove",l),x.addEventListener("mouseleave",d)),window.addEventListener("click",u),window.addEventListener("keydown",p),o.current.dispatchEvent(Te("dragenter",_)),Re=t.title,o.current instanceof HTMLDivElement&&(Ne=[_.clientX,_.clientY],r(o.current))),_.preventDefault()},C="12px",y=i>=t.maxInstances;return c("div",{ref:o,onDragStart:()=>Re=t.title,onDragEnd:()=>Re=void 0,draggable:!y,className:uo({[X["panel-button"]]:!0,[X.disabled]:y}),style:n?{}:{display:"none"},onClick:y?void 0:m,children:[c("div",{children:t.title}),y?c(ho,{color:"var(--colors-gray-6)",size:C}):c("div",{style:{width:C,height:C}})]})});function vt(t,e,r){return(e=function(n){var i=function(o,s){if(typeof o!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var l=a.call(o,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(n,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}var Xs=["children","onClickAway","focusEvent","mouseEvent","touchEvent"],yr={click:"onClick",focusin:"onFocus",focusout:"onBlur",mousedown:"onMouseDown",mouseup:"onMouseUp",touchstart:"onTouchStart",touchend:"onTouchEnd"},Ys=parseInt(qi.version.split(".")[0],10),fo=function(t){var e=t.children,r=t.onClickAway,n=t.focusEvent,i=n===void 0?"focusin":n,o=t.mouseEvent,s=o===void 0?"click":o,a=t.touchEvent,l=a===void 0?"touchend":a,f=function(v,E){if(v==null)return{};var T,L,k=function(I,B){if(I==null)return{};var wr={};for(var Me in I)if({}.hasOwnProperty.call(I,Me)){if(B.includes(Me))continue;wr[Me]=I[Me]}return wr}(v,E);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(v);for(L=0;L<F.length;L++)T=F[L],E.includes(T)||{}.propertyIsEnumerable.call(v,T)&&(k[T]=v[T])}return k}(t,Xs),d=te(null),u=te(null),p=te(!1);fe(function(){return setTimeout(function(){p.current=!0},0),function(){p.current=!1}},[]);var m,C=function(v){return function(E){u.current=E.target;var T=e==null?void 0:e.props[v];T&&T(E)}},y=null;Ys>=19?y=((m=e.props)===null||m===void 0?void 0:m.ref)||null:"ref"in e&&(y=e.ref);var _,x=(_=[d,y],function(v){_.forEach(function(E){typeof E=="function"?E(v):E!=null&&(E.current=v)})});fe(function(){var v,E,T=(v=(E=d.current)===null||E===void 0?void 0:E.ownerDocument)!==null&&v!==void 0?v:document,L=function(k){p.current&&(d.current&&d.current.contains(k.target)||u.current===k.target||!T.contains(k.target)||r(k))};return T.addEventListener(s,L),T.addEventListener(l,L),T.addEventListener(i,L),function(){T.removeEventListener(s,L),T.removeEventListener(l,L),T.removeEventListener(i,L)}},[i,s,r,l]);var h=yr[s],g=yr[l],w=yr[i];return qi.Children.only(ms(e,function(v){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{};E%2?Dn(Object(T),!0).forEach(function(L){vt(v,L,T[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(T)):Dn(Object(T)).forEach(function(L){Object.defineProperty(v,L,Object.getOwnPropertyDescriptor(T,L))})}return v}(vt(vt(vt({ref:x},w,C(w)),h,C(h)),g,C(g)),f)))};fo.displayName="ClickAwayListener";const Bn=W(({name:t,left:e,right:r,children:n,onClickAwayCallback:i})=>{const o=te(null),s=te(null),a=()=>{var d,u;(d=o.current)!=null&&d.classList.contains(X.clicked)&&((u=o.current)==null||u.classList.remove(X.clicked),i&&i())},l=d=>{var u,p;(u=o.current)!=null&&u.classList.contains(X.clicked)||((p=o.current)==null||p.classList.add(X.clicked),d.stopImmediatePropagation())},f=d=>{var u;(u=o.current)!=null&&u.classList.contains(X.clicked)&&(a(),d.stopPropagation())};return c(fo,{onClickAway:a,children:c("div",{ref:o,className:X.category,onClick:f,children:[c("button",{onClick:l,children:t}),c("div",{ref:s,className:uo({[X.dropdown]:!0,[X.left]:e??!1,[X.right]:r??!1}),children:n})]})})});class Js{constructor(e,r,n,i,o=1,s,a){this.title=e,this.component=r,this.available=n,this.instances=i,this.maxInstances=o,this.additionalProps=s,this.dataProvider=a,this.data=void 0}incrInstances(){this.instances.set(this.instances.get()+1)}decrInstances(){this.instances.set(this.instances.get()-1)}calculateData(){this.dataProvider&&(this.data=this.dataProvider()??void 0,this.available.set(!!this.data))}createJSONNode(){return{type:"tab",name:this.title,component:this.title,config:this.data,...this.additionalProps}}}const nr={},uu="enable-overflow",Qs=(t,e,r={})=>{var o,s,a,l;if(e in nr)return;r.additionalProps??(r.additionalProps={}),(o=r.additionalProps).minWidth??(o.minWidth=100),(s=r.additionalProps).minHeight??(s.minHeight=100),(a=r.additionalProps).enableClose??(a.enableClose=!0),(l=r.additionalProps).enableRename??(l.enableRename=!1);const n=r.dataProvider===void 0,i=new Js(e,t,new U(n,`${e}_available`),new U(0,`${e}_instances`),r.maxInstances??1,r.additionalProps,r.dataProvider);return Qt.subscribe(()=>{Qt.get()||i.calculateData()}),nr[e]=i,i};function fu(t){return nr[t]}function ea(){return Object.values(nr)}function ta({color:t="#97979B"}){return c("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c("g",{"clip-path":"url(#clip0_32_7)",children:c("path",{d:"M5.33337 8.00001L10.6667 8.00001M8.00004 5.33334L8.00004 10.6667M14.6667 8.00001C14.6667 11.6819 11.6819 14.6667 8.00004 14.6667C4.31814 14.6667 1.33337 11.6819 1.33337 8.00001C1.33337 4.31811 4.31814 1.33334 8.00004 1.33334C11.6819 1.33334 14.6667 4.31811 14.6667 8.00001Z",stroke:t,"stroke-linecap":"round","stroke-linejoin":"round"})}),c("defs",{children:c("clipPath",{id:"clip0_32_7",children:c("rect",{width:"16",height:"16",fill:"white"})})})]})}function ra(){return c("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c("g",{"clip-path":"url(#clip0_137_4210)",children:[c("path",{d:"M7.78693 17.103C8.89059 18.6608 9.50373 19.0923 9.50828 19.0969C9.50828 19.0969 10.9526 19.2513 12.1062 18.9424C13.0146 18.7017 13.5414 17.5345 13.7276 17.053C12.5831 17.212 11.375 17.2983 10.1441 17.3028C9.3266 17.3028 8.53633 17.2347 7.78693 17.103Z",fill:"url(#paint0_linear_137_4210)"}),c("path",{d:"M20.5263 9.92687L21.5482 7.9103C21.7526 7.50154 21.4437 7.02465 20.985 7.0519L18.9366 7.16544C18.6232 7.18361 18.328 7.30624 18.0918 7.51062L17.8738 7.70138C18.9412 8.42353 19.8404 9.18201 20.5263 9.92233V9.92687Z",fill:"url(#paint1_linear_137_4210)"}),c("path",{d:"M19.3362 15.4907C18.3779 15.9539 17.2016 16.3536 15.8845 16.6579L16.216 17.0985C16.4159 17.3619 16.6929 17.5526 17.0108 17.6344L19.0955 18.1976C19.5588 18.3202 19.9812 17.8978 19.8586 17.4346L19.3362 15.4907Z",fill:"url(#paint2_linear_137_4210)"}),c("path",{d:"M21.8698 12.5796C21.8562 12.5614 21.8426 12.5478 21.8244 12.5296C21.6927 12.3934 21.4929 12.2435 21.2385 12.0845C20.7253 11.7711 19.9713 11.4169 19.0357 11.0444C17.16 10.3041 14.5302 9.48659 11.6008 8.77806C8.66676 8.07408 5.93713 7.75615 3.90239 7.80611C2.88503 7.83336 2.04025 7.95145 1.4271 8.16038C1.08647 8.27846 0.809415 8.42834 0.618659 8.61002C1.1228 7.00221 2.50805 5.88492 4.40654 5.34899C6.5094 4.75401 9.22995 4.87664 12.0459 5.83951C14.8709 6.81146 17.4188 8.08771 19.2129 9.37304C20.1121 10.018 20.8161 10.6584 21.2748 11.267C21.6291 11.7348 21.8335 12.1753 21.8698 12.5705V12.5796ZM21.1613 12.2162C20.6617 11.9119 19.9168 11.5622 18.9812 11.1898C17.1145 10.4495 14.4939 9.63647 11.5644 8.92794L11.2919 8.86436C8.47146 8.20579 5.85992 7.91058 3.90693 7.96054C2.89865 7.98779 2.0675 8.10587 1.47706 8.31026C0.900251 8.5101 0.57324 8.7826 0.496029 9.10962V9.14141C0.427902 9.48205 0.641368 9.86356 1.13188 10.2632C1.61786 10.6584 2.35817 11.0535 3.29379 11.4214C5.11052 12.139 7.66756 12.7567 10.5425 13.1064L10.8196 13.1382C13.8126 13.4788 16.5514 13.6106 18.5588 13.5561C19.5626 13.5288 20.3847 13.4561 20.9569 13.338C21.2431 13.279 21.4656 13.2109 21.62 13.1337C21.7654 13.061 21.829 12.9929 21.8471 12.9293C21.8471 12.9247 21.8471 12.9202 21.8471 12.9157C21.8562 12.8521 21.8244 12.7567 21.7018 12.6295C21.5837 12.5069 21.3975 12.3661 21.1477 12.2117L21.1613 12.2162ZM4.36566 5.20819C6.50486 4.60413 9.2572 4.7313 12.0958 5.70325C14.9345 6.67974 17.4915 7.96508 19.3037 9.2595C20.2075 9.90898 20.9251 10.563 21.3975 11.1852C21.5246 11.3533 21.6337 11.5168 21.7245 11.6803C20.7798 9.44571 16.9874 6.61616 12.3366 4.89481C7.84469 3.24613 3.44821 4.18174 1.46798 6.87504C2.18559 6.10747 3.18024 5.54883 4.36566 5.21274V5.20819ZM2.94407 14.0557C4.75171 15.341 7.38597 16.1631 10.3609 16.2266C13.3494 16.2811 16.1426 15.9496 18.2318 15.3501C19.2764 15.0503 20.1439 14.687 20.7662 14.2691C21.2521 13.9467 21.5837 13.6015 21.7517 13.2427C21.7336 13.2518 21.7109 13.2654 21.6927 13.2745C21.5201 13.3608 21.2839 13.4289 20.9887 13.4925C20.4028 13.6106 19.5717 13.6832 18.5634 13.7105C16.5468 13.765 13.799 13.6333 10.8014 13.2926L10.5198 13.2608C7.63577 12.9111 5.06964 12.2889 3.23475 11.5667C2.29005 11.1943 1.53156 10.7901 1.03196 10.3813C0.754913 10.1542 0.545989 9.91806 0.427902 9.68188C0.355233 11.3624 1.30447 12.893 2.93953 14.0557H2.94407ZM20.8525 14.3963C20.2075 14.8232 19.3264 15.1911 18.2727 15.4954C16.1653 16.0995 13.3585 16.4356 10.3563 16.3765C7.35872 16.3129 4.69267 15.4818 2.85323 14.1783C1.6769 13.3426 0.836666 12.3071 0.47332 11.158C1.11372 14.6461 5.07872 17.3121 10.1383 17.3031C15.4432 17.2803 20.262 15.727 21.5882 13.765C21.3975 13.9875 21.1477 14.201 20.8479 14.3963H20.8525Z",fill:"url(#paint3_radial_137_4210)"})]}),c("defs",{children:[c("linearGradient",{id:"paint0_linear_137_4210",x1:"10.7573",y1:"15.3953",x2:"10.7573",y2:"17.9659",gradientUnits:"userSpaceOnUse",children:[c("stop",{"stop-color":"#3E156C"}),c("stop",{offset:"1","stop-color":"#4B63EE"})]}),c("linearGradient",{id:"paint1_linear_137_4210",x1:"17.8693",y1:"10.1812",x2:"19.9404",y2:"8.06018",gradientUnits:"userSpaceOnUse",children:[c("stop",{"stop-color":"#3E156C"}),c("stop",{offset:"1","stop-color":"#4B63EE"})]}),c("linearGradient",{id:"paint2_linear_137_4210",x1:"17.0108",y1:"14.4824",x2:"18.0418",y2:"17.2211",gradientUnits:"userSpaceOnUse",children:[c("stop",{"stop-color":"#3E156C"}),c("stop",{offset:"1","stop-color":"#4B63EE"})]}),c("radialGradient",{id:"paint3_radial_137_4210",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.31726 8.10266) rotate(17.3) scale(13.7481 9.62366)",children:[c("stop",{offset:"0.3","stop-color":"#C880F9"}),c("stop",{offset:"1","stop-color":"#3533C9"})]}),c("clipPath",{id:"clip0_137_4210",children:c("rect",{width:"22",height:"22",fill:"white"})})]})]})}const du=W(()=>c("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M12 4L4 12M4 4L12 12",stroke:"#9E9EA4","stroke-linecap":"round","stroke-linejoin":"round"})}));function na({size:t="14",color:e="var(--colors-gray-4)"}){return c("svg",{width:t,height:t,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M6.99999 1.75V8.75M6.99999 8.75L4.66666 6.41667M6.99999 8.75L9.33332 6.41667M4.66666 2.91667H2.33332C2.0239 2.91667 1.72716 3.03958 1.50837 3.25838C1.28957 3.47717 1.16666 3.77391 1.16666 4.08333V9.91667C1.16666 10.2261 1.28957 10.5228 1.50837 10.7416C1.72716 10.9604 2.0239 11.0833 2.33332 11.0833H11.6667C11.9761 11.0833 12.2728 10.9604 12.4916 10.7416C12.7104 10.5228 12.8333 10.2261 12.8333 9.91667V4.08333C12.8333 3.77391 12.7104 3.47717 12.4916 3.25838C12.2728 3.03958 11.9761 2.91667 11.6667 2.91667H9.33332",stroke:e,"stroke-width":"0.875","stroke-linecap":"round","stroke-linejoin":"round"})})}const po=W(({width:t="17",height:e="16",color:r="var(--colors-gray-6)"})=>c("svg",{className:re["loading-icon"],width:t,height:e,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M13.2509 10.4236C13.8025 9.34239 13.9688 8.10538 13.7223 6.9169C13.4758 5.72843 12.8313 4.65958 11.8952 3.88691C10.9591 3.11425 9.7875 2.68398 8.57384 2.6672C7.36019 2.65041 6.17711 3.0481 5.22003 3.79458C4.26295 4.54107 3.58912 5.59168 3.30984 6.77288C3.03057 7.95409 3.16256 9.19522 3.684 10.2913C4.20545 11.3873 5.08517 12.2727 6.17784 12.8012C7.27051 13.3297 8.51076 13.4697 9.69374 13.1981L9.50955 12.3959C8.50912 12.6257 7.46025 12.5073 6.53619 12.0603C5.61214 11.6134 4.86817 10.8646 4.42719 9.9377C3.98621 9.01079 3.87459 7.96118 4.11077 6.96225C4.34695 5.96332 4.9168 5.07483 5.72619 4.44354C6.53558 3.81225 7.53609 3.47593 8.56246 3.49013C9.58883 3.50432 10.5797 3.86819 11.3713 4.52162C12.1629 5.17506 12.708 6.07897 12.9164 7.08404C13.1249 8.08912 12.9843 9.13524 12.5178 10.0496L13.2509 10.4236Z",stroke:r})})),pu=W(()=>c("div",{className:re.maximize,children:c("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M14 14L10 10M14 14V10.8M14 14H10.8M2 10.8V14M2 14H5.2M2 14L6 10M14 5.2V2M14 2H10.8M14 2L10 6M2 5.2V2M2 2H5.2M2 2L6 6",stroke:"#9E9EA4","stroke-linecap":"round","stroke-linejoin":"round"})})}));function ia({size:t="14",color:e="var(--colors-gray-4)"}){return c("svg",{width:t,height:t,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M2.33333 6.99999L2.33333 11.6667C2.33333 11.9761 2.45624 12.2728 2.67504 12.4916C2.89383 12.7104 3.19058 12.8333 3.49999 12.8333L10.5 12.8333C10.8094 12.8333 11.1062 12.7104 11.325 12.4916C11.5437 12.2728 11.6667 11.9761 11.6667 11.6667V6.99999M9.33333 3.49999L6.99999 1.16666M6.99999 1.16666L4.66666 3.49999M6.99999 1.16666L6.99999 8.74999",stroke:e,"stroke-linecap":"round","stroke-linejoin":"round"})})}const oa=W(()=>c("svg",{width:"283",height:"78",viewBox:"0 0 283 78",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c("g",{"clip-path":"url(#clip0_162_3202)",children:[c("path",{d:"M28.1437 59.7247C31.8937 65.0179 33.977 66.4839 33.9925 66.4993C33.9925 66.4993 38.8998 67.024 42.8196 65.9747C45.906 65.1568 47.6961 61.1907 48.3288 59.5549C44.4399 60.0951 40.335 60.3883 36.1529 60.4037C33.3752 60.4037 30.69 60.1722 28.1437 59.7247Z",fill:"url(#paint0_linear_162_3202)"}),c("path",{d:"M71.4304 35.342L74.9027 28.4901C75.5971 27.1013 74.5477 25.4809 72.9891 25.5735L66.0292 25.9593C64.9644 26.021 63.9613 26.4377 63.1589 27.1321L62.4181 27.7803C66.0447 30.234 69.1002 32.8111 71.4304 35.3265V35.342Z",fill:"url(#paint1_linear_162_3202)"}),c("path",{d:"M67.3874 54.2463C64.1312 55.8204 60.1343 57.1784 55.659 58.2124L56.7855 59.7093C57.4646 60.6043 58.4059 61.2525 59.4862 61.5303L66.5695 63.4438C68.1435 63.8605 69.5787 62.4253 69.162 60.8513L67.3874 54.2463Z",fill:"url(#paint2_linear_162_3202)"}),c("path",{d:"M3.29815 39.5241C4.50256 43.333 7.24934 46.7743 11.0938 49.5766C11.19 49.6469 11.2869 49.717 11.3845 49.7865C17.1494 53.8819 25.3424 56.603 34.5966 57.1608C35.3503 57.2062 36.1109 57.2392 36.8781 57.2555C47.0786 57.4561 56.6156 56.3143 63.776 54.2619C67.3562 53.2279 70.3502 51.9777 72.5416 50.5271C73.5213 49.8787 74.346 49.1879 74.9873 48.4587C70.407 55.0887 54.0922 60.3267 36.1375 60.4036C18.9463 60.4344 5.4741 51.3759 3.29815 39.5241Z",fill:"url(#paint3_radial_162_3202)"}),c("path",{d:"M3.15821 34.5364C3.56183 35.3295 4.26558 36.1226 5.19594 36.8852C6.89342 38.2741 9.47078 39.6474 12.6805 40.9128C18.915 43.3664 27.6343 45.4808 37.4336 46.6691L38.3905 46.7773C47.3037 47.7901 55.5669 48.2586 62.0838 48.2359C63.0193 48.2327 63.9189 48.2204 64.7793 48.1971C68.2052 48.1045 71.0293 47.8572 73.0201 47.456C74.0231 47.2554 74.8255 47.0086 75.4119 46.7154C75.4798 46.6882 75.5361 46.6496 75.5906 46.6196C75.0178 47.8342 73.8938 49.003 72.2482 50.0949C71.8531 50.3602 71.4288 50.6188 70.977 50.871C69.7777 51.5352 68.3901 52.1577 66.8348 52.7301C65.8347 53.0969 64.7665 53.4437 63.6371 53.7678C56.5385 55.8048 47.0479 56.9315 36.8937 56.7463C26.9437 56.5336 18.115 53.8237 11.983 49.5734L11.6929 49.3699C6.14633 45.4257 2.92287 40.2507 3.15821 34.5364Z",fill:"url(#paint4_radial_162_3202)"}),c("path",{d:"M14.9648 28.6756C21.6005 28.5059 30.4742 29.5086 40.0574 31.7462L40.9832 31.9626C50.9213 34.37 59.8255 37.132 66.1835 39.6474C69.3625 40.8974 71.8936 42.0857 73.5911 43.1351C73.7929 43.2599 73.9823 43.3823 74.1595 43.5016C74.7052 43.8722 75.13 44.2153 75.4275 44.5243C75.8441 44.9563 75.952 45.2803 75.9211 45.4963V45.5426C75.8594 45.7586 75.6435 45.99 75.1498 46.2369C74.6252 46.4992 73.8689 46.7306 72.8968 46.9312C70.9524 47.3324 68.159 47.5798 64.7486 47.6724C57.9277 47.8575 48.6221 47.4099 38.4524 46.2525L37.5111 46.1443C27.7426 44.9561 19.0541 42.8575 12.8813 40.4192C10.5076 39.4859 8.50403 38.5006 6.95379 37.5026C6.4467 37.1746 5.98835 36.8454 5.58185 36.5149C3.91524 35.1569 3.19029 33.876 3.40633 32.7032V32.595C3.68418 31.484 4.79507 30.5581 6.77025 29.8791L6.70836 29.8484C7.20995 29.6748 7.76293 29.5196 8.3634 29.3829C10.1646 28.9735 12.3954 28.7335 14.9648 28.6756Z",fill:"url(#paint5_radial_162_3202)"}),c("path",{d:"M16.6623 19.8175C23.8073 17.7959 33.0511 18.2123 42.6189 21.4838C52.2176 24.7863 60.8753 29.1228 66.9709 33.4901C70.0264 35.6814 72.4184 37.8573 73.977 39.9251C75.1807 41.5146 75.8751 43.0116 75.9986 44.3542C75.9523 44.2925 75.9058 44.2463 75.8441 44.1846C75.3966 43.7217 74.7174 43.2123 73.8532 42.6722C72.1094 41.6074 69.5476 40.4036 66.3686 39.1382C65.9703 38.981 65.5621 38.8226 65.1442 38.6635C64.3082 38.3453 63.4336 38.024 62.5236 37.7001C56.6087 35.5945 49.1937 33.3938 41.1064 31.4378C39.2372 30.9893 37.3925 30.5867 35.5831 30.23C34.98 30.1111 34.3808 29.9975 33.786 29.8888C30.5142 29.2907 27.3737 28.8456 24.4322 28.5513C23.8975 28.4978 23.3693 28.4495 22.8482 28.406C19.9813 28.1664 17.3257 28.0769 14.9491 28.1353C11.4925 28.2279 8.62211 28.6289 6.53881 29.3387C5.38141 29.74 4.43985 30.2495 3.7917 30.8668C3.89878 30.5253 4.01784 30.1903 4.14801 29.8619C4.21308 29.6977 4.28073 29.5351 4.35146 29.3743C4.38682 29.2938 4.42288 29.2138 4.45964 29.1342C4.53319 28.975 4.60984 28.8175 4.68893 28.6616C4.76797 28.5058 4.84986 28.3518 4.93436 28.1993C5.0189 28.0468 5.10601 27.8958 5.19594 27.7467C5.24086 27.6721 5.2864 27.598 5.33265 27.5244C5.42529 27.3768 5.52053 27.2309 5.61845 27.0868C6.8907 25.2139 8.60539 23.6286 10.6789 22.352C10.9979 22.1556 11.3254 21.9665 11.6611 21.7847C12.1646 21.5122 12.6865 21.2563 13.2257 21.0172C13.5854 20.8577 13.9527 20.7057 14.3275 20.5613C15.0769 20.2726 15.856 20.0139 16.6623 19.7863V19.8175Z",fill:"url(#paint6_radial_162_3202)"}),c("path",{d:"M6.74926 24.8763C13.5112 15.7988 28.3977 12.661 43.6065 18.2432C59.4088 24.0919 72.2946 33.7061 75.5045 41.2987C75.1959 40.7432 74.8257 40.1876 74.3936 39.6167C72.7887 37.5025 70.3503 35.2803 67.2793 33.0735C61.1219 28.6754 52.4334 24.3082 42.7884 20.9903C33.9047 17.9486 25.2698 17.3416 18.2824 18.8686C17.6783 18.9993 17.0865 19.1462 16.5079 19.3083H16.5235C12.5409 20.4351 9.17683 22.3098 6.74926 24.8763Z",fill:"url(#paint7_radial_162_3202)"}),c("path",{d:"M95.5491 54.3306V50.3165L111.512 27.9185H95.5179V22.3424H120.009V26.3566L104.03 48.7546H120.04V54.3306H95.5491ZM136.038 54.7992C133.57 54.7992 131.446 54.2994 129.665 53.2998C127.895 52.2897 126.531 50.8632 125.573 49.0201C124.615 47.1666 124.136 44.9747 124.136 42.4444C124.136 39.9766 124.615 37.8107 125.573 35.9468C126.531 34.0829 127.88 32.6303 129.619 31.589C131.368 30.5477 133.419 30.0271 135.773 30.0271C137.355 30.0271 138.829 30.2822 140.193 30.7924C141.567 31.2923 142.765 32.0472 143.785 33.0572C144.816 34.0673 145.618 35.3376 146.191 36.8683C146.763 38.3886 147.05 40.1692 147.05 42.2101V44.0376H126.792V39.9141H140.786C140.786 38.9561 140.578 38.1075 140.162 37.3681C139.745 36.6288 139.167 36.0509 138.428 35.6344C137.699 35.2075 136.85 34.994 135.882 34.994C134.872 34.994 133.976 35.2283 133.195 35.6969C132.425 36.155 131.821 36.7746 131.384 37.5556C130.946 38.3261 130.722 39.1852 130.712 40.1327V44.0532C130.712 45.2402 130.931 46.2659 131.368 47.1302C131.816 47.9944 132.446 48.6608 133.258 49.1294C134.07 49.598 135.033 49.8323 136.147 49.8323C136.887 49.8323 137.564 49.7282 138.178 49.5199C138.792 49.3116 139.318 48.9993 139.755 48.5828C140.193 48.1662 140.526 47.656 140.755 47.0521L146.909 47.4582C146.597 48.9368 145.956 50.228 144.988 51.3317C144.03 52.4251 142.791 53.2789 141.271 53.8933C139.761 54.4972 138.017 54.7992 136.038 54.7992ZM151.392 63.3273V30.3395H157.952V34.3692H158.249C158.54 33.7237 158.962 33.0676 159.514 32.4012C160.076 31.7244 160.805 31.1621 161.7 30.7144C162.606 30.2562 163.731 30.0271 165.074 30.0271C166.824 30.0271 168.438 30.4853 169.916 31.4016C171.395 32.3075 172.577 33.6768 173.462 35.5095C174.347 37.3317 174.789 39.6173 174.789 42.3663C174.789 45.0424 174.357 47.302 173.493 49.145C172.639 50.9777 171.473 52.3678 169.994 53.3154C168.526 54.2525 166.881 54.7211 165.059 54.7211C163.767 54.7211 162.669 54.5076 161.763 54.0807C160.867 53.6538 160.133 53.1175 159.561 52.4719C158.988 51.8159 158.551 51.1547 158.249 50.4883H158.046V63.3273H151.392ZM157.905 42.3351C157.905 43.7616 158.103 45.0059 158.499 46.0681C158.894 47.1302 159.467 47.958 160.217 48.5515C160.966 49.1346 161.878 49.4262 162.95 49.4262C164.033 49.4262 164.949 49.1294 165.699 48.5359C166.449 47.9319 167.016 47.0989 167.402 46.0368C167.797 44.9643 167.995 43.7304 167.995 42.3351C167.995 40.9502 167.802 39.7319 167.417 38.6802C167.032 37.6285 166.464 36.8059 165.715 36.2123C164.965 35.6188 164.043 35.322 162.95 35.322C161.867 35.322 160.951 35.6084 160.201 36.1811C159.462 36.7538 158.894 37.566 158.499 38.6177C158.103 39.6694 157.905 40.9085 157.905 42.3351ZM185.879 40.4608V54.3306H179.225V22.3424H185.692V34.5723H185.973C186.514 33.1562 187.389 32.0472 188.597 31.2454C189.805 30.4332 191.32 30.0271 193.142 30.0271C194.808 30.0271 196.261 30.3916 197.5 31.1205C198.749 31.8389 199.718 32.875 200.405 34.2287C201.103 35.5719 201.446 37.1807 201.436 39.055V54.3306H194.782V40.2421C194.792 38.7635 194.418 37.6128 193.657 36.7902C192.908 35.9676 191.856 35.5563 190.502 35.5563C189.596 35.5563 188.795 35.7489 188.097 36.1342C187.41 36.5195 186.868 37.0818 186.473 37.8211C186.087 38.55 185.889 39.4299 185.879 40.4608ZM217.606 54.7992C215.138 54.7992 213.014 54.2994 211.233 53.2998C209.463 52.2897 208.099 50.8632 207.141 49.0201C206.183 47.1666 205.704 44.9747 205.704 42.4444C205.704 39.9766 206.183 37.8107 207.141 35.9468C208.099 34.0829 209.447 32.6303 211.186 31.589C212.935 30.5477 214.987 30.0271 217.34 30.0271C218.923 30.0271 220.396 30.2822 221.76 30.7924C223.135 31.2923 224.332 32.0472 225.353 33.0572C226.384 34.0673 227.185 35.3376 227.758 36.8683C228.331 38.3886 228.617 40.1692 228.617 42.2101V44.0376H208.359V39.9141H222.354C222.354 38.9561 222.146 38.1075 221.729 37.3681C221.313 36.6288 220.735 36.0509 219.995 35.6344C219.266 35.2075 218.418 34.994 217.449 34.994C216.439 34.994 215.544 35.2283 214.763 35.6969C213.992 36.155 213.388 36.7746 212.951 37.5556C212.514 38.3261 212.29 39.1852 212.279 40.1327V44.0532C212.279 45.2402 212.498 46.2659 212.935 47.1302C213.383 47.9944 214.013 48.6608 214.825 49.1294C215.638 49.598 216.601 49.8323 217.715 49.8323C218.454 49.8323 219.131 49.7282 219.745 49.5199C220.36 49.3116 220.886 48.9993 221.323 48.5828C221.76 48.1662 222.094 47.656 222.323 47.0521L228.477 47.4582C228.164 48.9368 227.524 50.228 226.555 51.3317C225.597 52.4251 224.358 53.2789 222.838 53.8933C221.328 54.4972 219.584 54.7992 217.606 54.7992ZM239.613 22.3424V54.3306H232.959V22.3424H239.613ZM244.943 54.3306V30.3395H251.597V54.3306H244.943ZM248.286 27.2469C247.296 27.2469 246.448 26.9189 245.74 26.2629C245.042 25.5964 244.693 24.7999 244.693 23.8731C244.693 22.9568 245.042 22.1706 245.74 21.5146C246.448 20.8482 247.296 20.515 248.286 20.515C249.275 20.515 250.118 20.8482 250.816 21.5146C251.524 22.1706 251.878 22.9568 251.878 23.8731C251.878 24.7999 251.524 25.5964 250.816 26.2629C250.118 26.9189 249.275 27.2469 248.286 27.2469ZM263.581 40.4608V54.3306H256.927V30.3395H263.268V34.5723H263.55C264.081 33.177 264.971 32.0732 266.22 31.261C267.47 30.4384 268.985 30.0271 270.766 30.0271C272.432 30.0271 273.884 30.3916 275.123 31.1205C276.363 31.8493 277.326 32.8906 278.013 34.2443C278.7 35.5875 279.044 37.1911 279.044 39.055V54.3306H272.39V40.2421C272.4 38.7739 272.026 37.6285 271.265 36.8059C270.505 35.9728 269.459 35.5563 268.126 35.5563C267.231 35.5563 266.439 35.7489 265.752 36.1342C265.075 36.5195 264.544 37.0818 264.159 37.8211C263.784 38.55 263.591 39.4299 263.581 40.4608Z",fill:"white"}),c("path",{d:"M170.769 74.0756V65.1065H167.455V63.7871H175.654V65.1065H172.34V74.0756H170.769ZM178.428 74.0756V66.3945H179.717L179.842 68.1852H179.889C180.287 67.5569 180.774 67.07 181.35 66.7244C181.926 66.3788 182.554 66.206 183.235 66.206C183.528 66.206 183.795 66.2322 184.036 66.2846C184.277 66.3369 184.513 66.4155 184.743 66.5202L184.397 67.8553C184.136 67.7611 183.91 67.6983 183.722 67.6669C183.533 67.625 183.293 67.604 182.999 67.604C182.444 67.604 181.91 67.7611 181.397 68.0753C180.884 68.3894 180.413 68.9339 179.984 69.7088V74.0756H178.428ZM189.465 74.2641C188.973 74.2641 188.528 74.175 188.13 73.997C187.742 73.8085 187.433 73.552 187.203 73.2274C186.983 72.8923 186.873 72.4996 186.873 72.0493C186.873 71.1906 187.292 70.5361 188.13 70.0858C188.978 69.6355 190.365 69.3371 192.292 69.1905C192.282 68.8763 192.208 68.5884 192.072 68.3266C191.947 68.0648 191.742 67.8606 191.46 67.714C191.187 67.5569 190.826 67.4784 190.376 67.4784C190.062 67.4784 189.753 67.5203 189.449 67.604C189.145 67.6773 188.852 67.782 188.569 67.9182C188.287 68.0543 188.02 68.1957 187.768 68.3423L187.187 67.2899C187.47 67.1223 187.795 66.9548 188.161 66.7872C188.528 66.6092 188.92 66.4678 189.339 66.3631C189.768 66.2584 190.203 66.206 190.643 66.206C191.355 66.206 191.947 66.3369 192.418 66.5987C192.889 66.8605 193.245 67.2323 193.486 67.714C193.727 68.1957 193.847 68.7769 193.847 69.4575V74.0756H192.575L192.449 73.086H192.402C191.994 73.4001 191.533 73.6776 191.02 73.9185C190.507 74.1489 189.988 74.2641 189.465 74.2641ZM189.905 73.0232C190.313 73.0232 190.716 72.9341 191.114 72.7561C191.512 72.5781 191.905 72.3268 192.292 72.0022V70.1801C191.287 70.2534 190.496 70.3686 189.92 70.5256C189.355 70.6827 188.957 70.8817 188.727 71.1225C188.496 71.3529 188.381 71.6252 188.381 71.9393C188.381 72.1906 188.449 72.4001 188.585 72.5676C188.732 72.7247 188.92 72.8399 189.151 72.9132C189.381 72.9865 189.632 73.0232 189.905 73.0232ZM200.517 74.2641C199.721 74.2641 199.004 74.107 198.365 73.7928C197.726 73.4787 197.218 73.0232 196.841 72.4263C196.475 71.8189 196.291 71.0911 196.291 70.2429C196.291 69.3947 196.49 68.6721 196.888 68.0753C197.286 67.4679 197.81 67.0071 198.459 66.693C199.119 66.3684 199.836 66.206 200.611 66.206C201.239 66.206 201.789 66.316 202.26 66.5359C202.732 66.7453 203.124 67.0019 203.438 67.3056L202.684 68.2952C202.37 68.0438 202.051 67.8501 201.726 67.714C201.412 67.5674 201.067 67.4941 200.69 67.4941C200.145 67.4941 199.658 67.6093 199.229 67.8396C198.81 68.07 198.48 68.3946 198.239 68.8135C198.009 69.2219 197.894 69.6984 197.894 70.2429C197.894 70.7979 198.009 71.2796 198.239 71.688C198.47 72.0964 198.789 72.4158 199.197 72.6462C199.616 72.8765 200.098 72.9917 200.642 72.9917C201.103 72.9917 201.522 72.9027 201.899 72.7247C202.276 72.5467 202.616 72.332 202.92 72.0807L203.596 73.086C203.166 73.463 202.684 73.7562 202.15 73.9656C201.627 74.1646 201.082 74.2641 200.517 74.2641ZM209.7 74.2641C208.925 74.2641 208.218 74.107 207.579 73.7928C206.951 73.4787 206.453 73.0179 206.087 72.4106C205.72 71.8032 205.537 71.0754 205.537 70.2272C205.537 69.3895 205.72 68.6721 206.087 68.0753C206.464 67.4784 206.951 67.0176 207.548 66.693C208.145 66.3684 208.783 66.206 209.464 66.206C210.218 66.206 210.857 66.3631 211.38 66.6773C211.904 66.981 212.302 67.4051 212.574 67.9496C212.857 68.4837 212.998 69.112 212.998 69.8345C212.998 69.9916 212.993 70.1487 212.983 70.3057C212.972 70.4523 212.956 70.578 212.935 70.6827H206.621V69.5361H211.962L211.616 69.913C211.616 69.0858 211.427 68.4679 211.051 68.0595C210.674 67.6407 210.16 67.4312 209.511 67.4312C209.061 67.4312 208.647 67.5412 208.27 67.7611C207.904 67.9705 207.611 68.2847 207.391 68.7036C207.171 69.112 207.061 69.6198 207.061 70.2272C207.061 70.8555 207.181 71.3791 207.422 71.798C207.673 72.2064 208.008 72.5153 208.427 72.7247C208.857 72.9341 209.349 73.0389 209.904 73.0389C210.333 73.0389 210.726 72.9813 211.082 72.8661C211.438 72.7404 211.789 72.5729 212.134 72.3634L212.684 73.353C212.297 73.6148 211.852 73.8347 211.349 74.0127C210.846 74.1803 210.297 74.2641 209.7 74.2641ZM227.154 74.0756L223.903 63.7871H225.568L227.123 69.1434C227.301 69.7403 227.458 70.3057 227.594 70.8398C227.73 71.3634 227.887 71.9236 228.065 72.5205H228.128C228.317 71.9236 228.479 71.3634 228.615 70.8398C228.762 70.3057 228.919 69.7403 229.086 69.1434L230.626 63.7871H232.228L228.992 74.0756H227.154ZM237.578 74.0756V67.6511H234.138V66.3945H239.133V74.0756H237.578ZM238.222 64.9023C237.887 64.9023 237.609 64.8028 237.389 64.6039C237.17 64.3944 237.06 64.1222 237.06 63.7871C237.06 63.452 237.17 63.1849 237.389 62.986C237.609 62.7766 237.887 62.6718 238.222 62.6718C238.557 62.6718 238.835 62.7766 239.054 62.986C239.274 63.1849 239.384 63.452 239.384 63.7871C239.384 64.1222 239.274 64.3944 239.054 64.6039C238.835 64.8028 238.557 64.9023 238.222 64.9023ZM247.373 74.2641C246.598 74.2641 245.892 74.107 245.253 73.7928C244.625 73.4787 244.127 73.0179 243.761 72.4106C243.394 71.8032 243.211 71.0754 243.211 70.2272C243.211 69.3895 243.394 68.6721 243.761 68.0753C244.138 67.4784 244.625 67.0176 245.221 66.693C245.818 66.3684 246.457 66.206 247.138 66.206C247.892 66.206 248.531 66.3631 249.054 66.6773C249.578 66.981 249.976 67.4051 250.248 67.9496C250.531 68.4837 250.672 69.112 250.672 69.8345C250.672 69.9916 250.667 70.1487 250.656 70.3057C250.646 70.4523 250.63 70.578 250.609 70.6827H244.295V69.5361H249.635L249.29 69.913C249.29 69.0858 249.101 68.4679 248.724 68.0595C248.347 67.6407 247.834 67.4312 247.185 67.4312C246.735 67.4312 246.321 67.5412 245.944 67.7611C245.577 67.9705 245.284 68.2847 245.064 68.7036C244.844 69.112 244.735 69.6198 244.735 70.2272C244.735 70.8555 244.855 71.3791 245.096 71.798C245.347 72.2064 245.682 72.5153 246.101 72.7247C246.53 72.9341 247.023 73.0389 247.578 73.0389C248.007 73.0389 248.4 72.9813 248.756 72.8661C249.112 72.7404 249.462 72.5729 249.808 72.3634L250.358 73.353C249.97 73.6148 249.525 73.8347 249.023 74.0127C248.52 74.1803 247.97 74.2641 247.373 74.2641ZM253.289 74.0756L251.718 66.3945H253.258L254.043 70.6199C254.116 70.9759 254.179 71.332 254.231 71.688C254.284 72.044 254.331 72.4053 254.373 72.7718H254.436C254.488 72.4053 254.551 72.044 254.624 71.688C254.697 71.332 254.771 70.9759 254.844 70.6199L255.677 67.0228H257.059L257.876 70.6199C257.949 70.9759 258.027 71.332 258.111 71.688C258.206 72.044 258.274 72.4053 258.315 72.7718H258.378C258.441 72.4053 258.493 72.044 258.535 71.688C258.577 71.332 258.63 70.9759 258.692 70.6199L259.478 66.3945H260.923L259.399 74.0756H257.467L256.713 70.7141C256.65 70.4314 256.588 70.1015 256.525 69.7246C256.472 69.3476 256.415 68.9235 256.352 68.4522H256.289C256.237 68.892 256.179 69.3004 256.116 69.6774C256.064 70.0439 256.006 70.3895 255.944 70.7141L255.205 74.0756H253.289ZM266.21 74.2641C265.435 74.2641 264.729 74.107 264.09 73.7928C263.461 73.4787 262.964 73.0179 262.598 72.4106C262.231 71.8032 262.048 71.0754 262.048 70.2272C262.048 69.3895 262.231 68.6721 262.598 68.0753C262.974 67.4784 263.461 67.0176 264.058 66.693C264.655 66.3684 265.294 66.206 265.975 66.206C266.729 66.206 267.367 66.3631 267.891 66.6773C268.415 66.981 268.812 67.4051 269.085 67.9496C269.367 68.4837 269.509 69.112 269.509 69.8345C269.509 69.9916 269.504 70.1487 269.493 70.3057C269.483 70.4523 269.467 70.578 269.446 70.6827H263.132V69.5361H268.472L268.127 69.913C268.127 69.0858 267.938 68.4679 267.561 68.0595C267.184 67.6407 266.671 67.4312 266.022 67.4312C265.571 67.4312 265.158 67.5412 264.781 67.7611C264.414 67.9705 264.121 68.2847 263.901 68.7036C263.681 69.112 263.571 69.6198 263.571 70.2272C263.571 70.8555 263.692 71.3791 263.933 71.798C264.184 72.2064 264.519 72.5153 264.938 72.7247C265.367 72.9341 265.859 73.0389 266.414 73.0389C266.844 73.0389 267.236 72.9813 267.593 72.8661C267.949 72.7404 268.299 72.5729 268.645 72.3634L269.195 73.353C268.807 73.6148 268.362 73.8347 267.86 74.0127C267.357 74.1803 266.807 74.2641 266.21 74.2641ZM272.613 74.0756V66.3945H273.901L274.027 68.1852H274.074C274.472 67.5569 274.958 67.07 275.534 66.7244C276.11 66.3788 276.739 66.206 277.419 66.206C277.713 66.206 277.98 66.2322 278.22 66.2846C278.461 66.3369 278.697 66.4155 278.927 66.5202L278.582 67.8553C278.32 67.7611 278.095 67.6983 277.906 67.6669C277.718 67.625 277.477 67.604 277.184 67.604C276.629 67.604 276.095 67.7611 275.582 68.0753C275.068 68.3894 274.597 68.9339 274.168 69.7088V74.0756H272.613Z",fill:"white"})]}),c("defs",{children:[c("linearGradient",{id:"paint0_linear_162_3202",x1:"38.2363",y1:"53.9222",x2:"38.2363",y2:"62.6568",gradientUnits:"userSpaceOnUse",children:[c("stop",{"stop-color":"#3E156C"}),c("stop",{offset:"1","stop-color":"#4B63EE"})]}),c("linearGradient",{id:"paint1_linear_162_3202",x1:"62.4027",y1:"36.2062",x2:"69.4397",y2:"28.9994",gradientUnits:"userSpaceOnUse",children:[c("stop",{"stop-color":"#3E156C"}),c("stop",{offset:"1","stop-color":"#4B63EE"})]}),c("linearGradient",{id:"paint2_linear_162_3202",x1:"59.4862",y1:"50.8204",x2:"62.9892",y2:"60.1259",gradientUnits:"userSpaceOnUse",children:[c("stop",{"stop-color":"#3E156C"}),c("stop",{offset:"1","stop-color":"#4B63EE"})]}),c("radialGradient",{id:"paint3_radial_162_3202",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.1542 29.1431) rotate(17.3) scale(46.7128 32.699)",children:[c("stop",{offset:"0.3","stop-color":"#C880F9"}),c("stop",{offset:"1","stop-color":"#3533C9"})]}),c("radialGradient",{id:"paint4_radial_162_3202",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.1542 29.1431) rotate(17.3) scale(46.7128 32.699)",children:[c("stop",{offset:"0.3","stop-color":"#C880F9"}),c("stop",{offset:"1","stop-color":"#3533C9"})]}),c("radialGradient",{id:"paint5_radial_162_3202",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.1542 29.1431) rotate(17.3) scale(46.7128 32.699)",children:[c("stop",{offset:"0.3","stop-color":"#C880F9"}),c("stop",{offset:"1","stop-color":"#3533C9"})]}),c("radialGradient",{id:"paint6_radial_162_3202",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.1542 29.1431) rotate(17.3) scale(46.7128 32.699)",children:[c("stop",{offset:"0.3","stop-color":"#C880F9"}),c("stop",{offset:"1","stop-color":"#3533C9"})]}),c("radialGradient",{id:"paint7_radial_162_3202",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.1542 29.1431) rotate(17.3) scale(46.7128 32.699)",children:[c("stop",{offset:"0.3","stop-color":"#C880F9"}),c("stop",{offset:"1","stop-color":"#3533C9"})]}),c("clipPath",{id:"clip0_162_3202",children:c("rect",{width:"282.431",height:"77.9669",fill:"white"})})]})]})),sa=W(()=>c("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M8.75004 12.8334V10.5C8.8312 9.76927 8.62167 9.03593 8.16671 8.45835C9.91671 8.45835 11.6667 7.29169 11.6667 5.25002C11.7134 4.52085 11.5092 3.80335 11.0834 3.20835C11.2467 2.53752 11.2467 1.83752 11.0834 1.16669C11.0834 1.16669 10.5 1.16669 9.33338 2.04169C7.79338 1.75002 6.20671 1.75002 4.66671 2.04169C3.50004 1.16669 2.91671 1.16669 2.91671 1.16669C2.74171 1.83752 2.74171 2.53752 2.91671 3.20835C2.49197 3.80095 2.28582 4.52248 2.33338 5.25002C2.33338 7.29169 4.08338 8.45835 5.83338 8.45835C5.60588 8.74419 5.43671 9.07085 5.33754 9.42085C5.23838 9.77085 5.20921 10.1384 5.25004 10.5M5.25004 10.5V12.8334M5.25004 10.5C2.61921 11.6667 2.33335 9.33335 1.16669 9.33335",stroke:"var(--colors-gray-4)","stroke-linecap":"round","stroke-linejoin":"round"})})),aa=W(()=>c("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M11.6666 4.08335H9.91661C9.60719 4.08335 9.31044 3.96044 9.09165 3.74164C8.87286 3.52285 8.74994 3.22611 8.74994 2.91669V1.16669M1.74994 4.43341L1.74994 11.9001C1.74994 12.1476 1.84827 12.385 2.02331 12.56C2.19834 12.7351 2.43574 12.8334 2.68327 12.8334L8.39994 12.8334M5.24994 10.5C4.94052 10.5 4.64377 10.3771 4.42498 10.1583C4.20619 9.93952 4.08327 9.64277 4.08327 9.33335L4.08327 2.33335C4.08327 2.02393 4.20619 1.72719 4.42498 1.5084C4.64377 1.2896 4.94052 1.16669 5.24994 1.16669L9.33327 1.16669L11.6666 3.50002L11.6666 9.33335C11.6666 9.64277 11.5437 9.93952 11.3249 10.1583C11.1061 10.3771 10.8094 10.5 10.4999 10.5L5.24994 10.5Z",stroke:"var(--colors-gray-4)","stroke-linecap":"round","stroke-linejoin":"round"})})),la=W(({tilingRef:t,displayTitle:e=!0})=>{var p;const r=O(We),[n,i]=le(null),[o,s]=le(!1),a=O(er);ie.subscribe(()=>{var m;s((((m=ie.get())==null?void 0:m.profiles.length)??0)>0)});const[l,f]=le(!1),d=c("div",{className:X["left-button"],onClick:()=>f(!0),children:[c("div",{children:c(ra,{})}),c("div",{children:c(co,{up:l})})]}),u=c("div",{id:X.panels,children:[c(ta,{})," ",c("h2",{children:"Panels"})]});return c("div",{id:X["top-bar"],children:[c("div",{id:X["left-buttons"],children:c(Bn,{name:d,onClickAwayCallback:()=>f(!1),children:[c("button",{onClick:()=>{var m;return(m=r==null?void 0:r.current)==null?void 0:m.browseForFile()},children:[c(na,{}),c("p",{children:"Import trace"})]}),o&&!a?c("button",{onClick:(p=r==null?void 0:r.current)==null?void 0:p.saveFile,children:[c(ia,{}),c("p",{children:"Export trace"})]}):null,c("hr",{}),c("a",{href:"https://github.com/antmicro/zephelin-trace-viewer",children:[c(sa,{}),c("p",{children:"Repository"})]}),c("a",{href:"https://antmicro.github.io/zephelin/",children:[c(aa,{}),c("p",{children:"Documentation"})]})]})}),c("div",{id:X["top-title"],hidden:!e,children:"Zephelin Trace Viewer"}),c("div",{id:X["right-buttons"],children:[r!=null&&r.current&&o?c(Bn,{name:u,right:!0,children:ea().map(m=>c(Zs,{component:m,tilingRef:t,setCustomDraggingSt:i}))}):null,n?c(Ks,{draggedElement:n}):null]})]})}),mo=W(({enabled:t=!0,id:e,onDropStart:r,onDropEnd:n,children:i})=>{const o=te(null),s=te(null),a=$();let l=[];const f=()=>{l.length>0&&(l.forEach(C=>clearTimeout(C)),l=[]),o.current&&o.current.classList.add(re["on-drag"],re["block-pointer-events"]),s.current&&(s.current.classList.add(re["on-drag"]),s.current.style.borderColor=a.selectionPrimaryColor)},d=()=>{o.current&&o.current.classList.remove(re["on-drag"],re["block-pointer-events"]),s.current&&s.current.classList.remove(re["on-drag"])},u=C=>{var y,_;C.preventDefault(),!(((y=C.dataTransfer)==null?void 0:y.dropEffect)!=="copy"&&((_=C.dataTransfer)==null?void 0:_.effectAllowed)!=="copy")&&f()},p=C=>{l.push(setTimeout(d,150)),C.preventDefault(),C.stopImmediatePropagation()},m=C=>{r&&r(),d(),C.preventDefault(),C.stopPropagation();const y=We.get();y!=null&&y.current&&(y.current.loadDropFile(C),n&&n())};return c("div",{id:e,className:re["layout-container"],ref:o,style:t?{}:{pointerEvents:"none"},onDragOver:u,onDrop:m,onDragLeave:p,children:[i,c("div",{ref:s,style:{pointerEvents:"none",zIndex:11}})]})}),ca="_title_171t6_65",ha="_info_171t6_71",ua="_footer_171t6_127",xe={"welcome-screen":"_welcome-screen_171t6_1",title:ca,"info-wrapper":"_info-wrapper_171t6_71",info:ha,"drag-drop-description":"_drag-drop-description_171t6_97",footer:ua,"shadow-ellipse":"_shadow-ellipse_171t6_144","shadow-trapezoid":"_shadow-trapezoid_171t6_145"},fa=W(({className:t})=>c("svg",{width:"1440",height:"588",className:t,viewBox:"0 0 1440 588",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c("g",{filter:"url(#filter0_f_162_3226)",children:c("path",{d:"M1440 558H0L419.138 1H1020.86L1440 558Z",fill:"url(#paint0_radial_162_3226)","fill-opacity":"0.3"})}),c("defs",{children:[c("filter",{id:"filter0_f_162_3226",x:"-30",y:"-29",width:"1500",height:"617",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[c("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),c("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),c("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_162_3226"})]}),c("radialGradient",{id:"paint0_radial_162_3226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(720 1) rotate(90) scale(557 1440)",children:[c("stop",{"stop-color":"#6E32CA"}),c("stop",{offset:"1","stop-color":"#361964","stop-opacity":"0"})]})]})]})),da=W(({setWelcomeScreenSt:t})=>{const[e,r]=le(!1),n=()=>{var i,o;r(!0),(o=(i=We.get())==null?void 0:i.current)==null||o.browseForFile(()=>r(!1),()=>r(!1))};return c("div",{id:xe["welcome-screen"],children:[c("div",{className:xe.title,children:["  ",c(oa,{})]}),c("div",{className:xe["info-wrapper"],children:[" ",c(mo,{onDropStart:()=>r(!0),onDropEnd:()=>{r(!1),t(!1)},children:c("div",{className:xe.info,children:c("div",{children:[c("div",{children:c("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c("line",{x1:"13",y1:"0.5",x2:"13",y2:"25.5",stroke:"var(--colors-gray-6)","stroke-linecap":"round"}),c("line",{x1:"25.5",y1:"13",x2:"0.5",y2:"13",stroke:"var(--colors-gray-6)","stroke-linecap":"round"})]})}),c("div",{className:xe["drag-drop-description"],children:[c("h3",{children:"Select or drag and drop a trace in .tef (Trace Event Format)"}),c("h5",{children:"To convert .ctf (Common Trace Format) trace received from Zephyr, use west zpl-prepare-trace command from the Zeppelin library."})]}),c("button",{onClick:e?void 0:n,children:["Browse ",e?c(po,{}):null]})]})})})]}),c("div",{className:xe.footer,children:["Interactive visualizer for ",c("a",{href:"https://docs.zephyrproject.org/latest/services/tracing/index.html",children:"Zephyr traces"})]}),c("div",{className:xe["shadow-ellipse"]}),c(fa,{className:xe["shadow-trapezoid"]})]})}),pa=W(()=>c("div",{className:re["loading-screen"],children:c(po,{width:"5rem",height:"6rem",color:"var(--colors-purple)"})}));class ma{constructor(e){this.data=e,this.prev=null,this.next=null}}class Wn{constructor(){this.head=null,this.tail=null,this.size=0}getHead(){return this.head}getTail(){return this.tail}getSize(){return this.size}append(e){this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this.size++}prepend(e){return this.head?(this.head.prev=e,e.next=this.head,this.head=e):this.head=this.tail=e,this.size++,e}pop(){if(this.tail){const e=this.tail;return e.prev?(this.tail=e.prev,this.tail.next=null):this.head=this.tail=null,this.size--,e.prev=null,e}else return null}dequeue(){if(this.head){const e=this.head;return e.next?(this.head=e.next,this.head.prev=null):this.head=this.tail=null,this.size--,e.next=null,e}else return null}remove(e){e.prev==null?this.dequeue():e.next==null?this.pop():(e.next.prev=e.prev,e.prev.next=e.next,e.next=null,e.prev=null,this.size--)}}class ga{constructor(e){this.capacity=e,this.list=new Wn,this.map=new Map}has(e){return this.map.has(e)}get(e){const r=this.map.get(e);return r?(this.list.remove(r.listNode),this.list.prepend(r.listNode),r?r.value:null):null}getSize(){return this.list.getSize()}getCapacity(){return this.capacity}insert(e,r){const n=this.map.get(e);for(n&&this.list.remove(n.listNode);this.list.getSize()>=this.capacity;)this.map.delete(this.list.pop().data);const i=this.list.prepend(new ma(e));this.map.set(e,{value:r,listNode:i})}getOrInsert(e,r){let n=this.get(e);return n==null&&(n=r(e),this.insert(e,n)),n}removeLRU(){const e=this.list.pop();if(!e)return null;const r=e.data,n=this.map.get(r).value;return this.map.delete(r),[r,n]}clear(){this.list=new Wn,this.map=new Map}}var _a={};const Dr=typeof process<"u"&&_a&&!0;function V(t){if(!Dr&&!t)throw new Error("Assertion failed.")}function wa(t,e){t.indexOf(e)===-1&&t.push(e)}function va(t,e){const r=t.indexOf(e);r!==-1&&t.splice(r,1)}function Ca(t,e){return V(e>=0&&e<=31),t.TEXTURE0+e}var H;(t=>{class e{constructor(p=0,m=0,C=0,y=0){this.x=p,this.y=m,this.width=C,this.height=y}set(p,m,C,y){this.x=p,this.y=m,this.width=C,this.height=y}equals(p){return this.x===p.x&&this.y===p.y&&this.width===p.width&&this.height===p.height}}t.Rect=e;const f=class f{constructor(p,m,C,y){this.redF=p,this.greenF=m,this.blueF=C,this.alphaF=y}equals(p){return this.redF===p.redF&&this.greenF===p.greenF&&this.blueF===p.blueF&&this.alphaF===p.alphaF}};f.TRANSPARENT=new f(0,0,0,0);let r=f;t.Color=r,(u=>{u[u.ZERO=0]="ZERO",u[u.ONE=1]="ONE",u[u.SOURCE_COLOR=2]="SOURCE_COLOR",u[u.TARGET_COLOR=3]="TARGET_COLOR",u[u.INVERSE_SOURCE_COLOR=4]="INVERSE_SOURCE_COLOR",u[u.INVERSE_TARGET_COLOR=5]="INVERSE_TARGET_COLOR",u[u.SOURCE_ALPHA=6]="SOURCE_ALPHA",u[u.TARGET_ALPHA=7]="TARGET_ALPHA",u[u.INVERSE_SOURCE_ALPHA=8]="INVERSE_SOURCE_ALPHA",u[u.INVERSE_TARGET_ALPHA=9]="INVERSE_TARGET_ALPHA",u[u.CONSTANT=10]="CONSTANT",u[u.INVERSE_CONSTANT=11]="INVERSE_CONSTANT"})(t.BlendOperation||(t.BlendOperation={})),(u=>{u[u.TRIANGLES=0]="TRIANGLES",u[u.TRIANGLE_STRIP=1]="TRIANGLE_STRIP"})(t.Primitive||(t.Primitive={}));class n{constructor(){this.resizeEventHandlers=new Set}setCopyBlendState(){this.setBlendState(1,0)}setAddBlendState(){this.setBlendState(1,1)}setPremultipliedBlendState(){this.setBlendState(1,8)}setUnpremultipliedBlendState(){this.setBlendState(6,8)}addAfterResizeEventHandler(p){this.resizeEventHandlers.add(p)}removeAfterResizeEventHandler(p){this.resizeEventHandlers.delete(p)}}t.Context=n,(u=>{u[u.FLOAT=0]="FLOAT",u[u.BYTE=1]="BYTE"})(t.AttributeType||(t.AttributeType={}));function i(u){return u==0?4:1}t.attributeByteLength=i;class o{constructor(p,m,C,y){this.name=p,this.type=m,this.count=C,this.byteOffset=y}}t.Attribute=o;class s{constructor(){this._attributes=[],this._stride=0}get attributes(){return this._attributes}get stride(){return this._stride}add(p,m,C){return this.attributes.push(new o(p,m,C,this.stride)),this._stride+=C*i(m),this}}t.VertexFormat=s;class a{uploadFloat32Array(p){this.upload(new Uint8Array(p.buffer),0)}uploadFloats(p){this.uploadFloat32Array(new Float32Array(p))}}t.VertexBuffer=a,(u=>{u[u.NEAREST=0]="NEAREST",u[u.LINEAR=1]="LINEAR"})(t.PixelFilter||(t.PixelFilter={})),(u=>{u[u.REPEAT=0]="REPEAT",u[u.CLAMP=1]="CLAMP"})(t.PixelWrap||(t.PixelWrap={}));const d=class d{constructor(p,m,C){this.minFilter=p,this.magFilter=m,this.wrap=C}};d.LINEAR_CLAMP=new d(1,1,1),d.LINEAR_MIN_NEAREST_MAG_CLAMP=new d(1,0,1),d.NEAREST_CLAMP=new d(0,0,1);let l=d;t.TextureFormat=l})(H||(H={}));var Br;(t=>{const C=class C extends H.Context{constructor(h=document.createElement("canvas")){super(),this._attributeCount=0,this._blendOperations=0,this._contextResetHandlers=[],this._currentClearColor=H.Color.TRANSPARENT,this._currentRenderTarget=null,this._defaultViewport=new H.Rect,this._forceStateUpdate=!0,this._generation=1,this._height=0,this._oldBlendOperations=0,this._oldRenderTarget=null,this._oldViewport=new H.Rect,this._width=0,this.handleWebglContextRestored=()=>{this._attributeCount=0,this._currentClearColor=H.Color.TRANSPARENT,this._forceStateUpdate=!0,this._generation++;for(let v of this._contextResetHandlers)v()},this.ANGLE_instanced_arrays=null,this.ANGLE_instanced_arrays_generation=-1;let g=h.getContext("webgl",{alpha:!0,antialias:!1,depth:!1,preserveDrawingBuffer:!1,stencil:!1});if(g==null)throw new Error("Setup failure");this._gl=g;let w=h.style;h.width=0,h.height=0,w.width=w.height="0",h.addEventListener("webglcontextlost",v=>{v.preventDefault()}),h.addEventListener("webglcontextrestored",this.handleWebglContextRestored),this._blendOperationMap={0:this._gl.ZERO,1:this._gl.ONE,2:this._gl.SRC_COLOR,3:this._gl.DST_COLOR,4:this._gl.ONE_MINUS_SRC_COLOR,5:this._gl.ONE_MINUS_DST_COLOR,6:this._gl.SRC_ALPHA,7:this._gl.DST_ALPHA,8:this._gl.ONE_MINUS_SRC_ALPHA,9:this._gl.ONE_MINUS_DST_ALPHA,10:this._gl.CONSTANT_COLOR,11:this._gl.ONE_MINUS_CONSTANT_COLOR}}get widthInPixels(){return this._width}get heightInPixels(){return this._height}testContextLoss(){this.handleWebglContextRestored()}get gl(){return this._gl}get generation(){return this._generation}addContextResetHandler(h){wa(this._contextResetHandlers,h)}removeContextResetHandler(h){va(this._contextResetHandlers,h)}get currentRenderTarget(){return this._currentRenderTarget}beginFrame(){this.setRenderTarget(null)}endFrame(){}setBlendState(h,g){this._blendOperations=C._packBlendModes(h,g)}setViewport(h,g,w,v){(this._currentRenderTarget!=null?this._currentRenderTarget.viewport:this._defaultViewport).set(h,g,w,v)}get viewport(){return this._currentRenderTarget!=null?this._currentRenderTarget.viewport:this._defaultViewport}get renderTargetWidthInPixels(){return this._currentRenderTarget!=null?this._currentRenderTarget.viewport.width:this._width}get renderTargetHeightInPixels(){return this._currentRenderTarget!=null?this._currentRenderTarget.viewport.height:this._height}draw(h,g,w){this._updateRenderTargetAndViewport(),d.from(g).prepare(),u.from(w).prepare(),this._updateFormat(g.format),this._updateBlendState(),this._gl.drawArrays(h==0?this._gl.TRIANGLES:this._gl.TRIANGLE_STRIP,0,Math.floor(w.byteCount/g.format.stride)),this._forceStateUpdate=!1}resize(h,g,w,v){let E=this._gl.canvas;const T=E.getBoundingClientRect();if(this._width===h&&this._height===g&&Math.abs(T.width-w)<.02&&Math.abs(T.height-v)<.02)return;let L=E.style;E.width=h,E.height=g,L.width=`${w}px`,L.height=`${v}px`,this.setViewport(0,0,h,g),this._width=h,this._height=g,this.resizeEventHandlers.forEach(k=>k())}clear(h){this._updateRenderTargetAndViewport(),this._updateBlendState(),h.equals(this._currentClearColor)||(this._gl.clearColor(h.redF,h.greenF,h.blueF,h.alphaF),this._currentClearColor=h),this._gl.clear(this._gl.COLOR_BUFFER_BIT)}setRenderTarget(h){this._currentRenderTarget=m.from(h)}createMaterial(h,g,w){let v=new d(this,h,g,w);return v.program,v}createVertexBuffer(h){return V(h>0&&h%4==0),new u(this,h)}createTexture(h,g,w,v){return new p(this,h,g,w,v)}createRenderTarget(h){return new m(this,p.from(h))}getANGLE_instanced_arrays(){if(this.ANGLE_instanced_arrays_generation!==this._generation&&(this.ANGLE_instanced_arrays=null),!this.ANGLE_instanced_arrays&&(this.ANGLE_instanced_arrays=this.gl.getExtension("ANGLE_instanced_arrays"),!this.ANGLE_instanced_arrays))throw new Error("Failed to get extension ANGLE_instanced_arrays");return this.ANGLE_instanced_arrays}_updateRenderTargetAndViewport(){let h=this._currentRenderTarget,g=h!=null?h.viewport:this._defaultViewport,w=this._gl;(this._forceStateUpdate||this._oldRenderTarget!=h)&&(w.bindFramebuffer(w.FRAMEBUFFER,h?h.framebuffer:null),this._oldRenderTarget=h),(this._forceStateUpdate||!this._oldViewport.equals(g))&&(w.viewport(g.x,this.renderTargetHeightInPixels-g.y-g.height,g.width,g.height),this._oldViewport.set(g.x,g.y,g.width,g.height))}_updateBlendState(){if(this._forceStateUpdate||this._oldBlendOperations!=this._blendOperations){let h=this._gl,g=this._blendOperations,w=this._oldBlendOperations,v=g&15,E=g>>4;V(v in this._blendOperationMap),V(E in this._blendOperationMap),g==C.COPY_BLEND_OPERATIONS?h.disable(h.BLEND):((this._forceStateUpdate||w==C.COPY_BLEND_OPERATIONS)&&h.enable(h.BLEND),h.blendFunc(this._blendOperationMap[v],this._blendOperationMap[E])),this._oldBlendOperations=g}}_updateFormat(h){let g=this._gl,w=h.attributes,v=w.length;for(let E=0;E<v;E++){let T=w[E],L=T.type==1;g.vertexAttribPointer(E,T.count,L?g.UNSIGNED_BYTE:g.FLOAT,L,h.stride,T.byteOffset)}for(;this._attributeCount<v;)g.enableVertexAttribArray(this._attributeCount),this._attributeCount++;for(;this._attributeCount>v;)this._attributeCount--,g.disableVertexAttribArray(this._attributeCount);this._attributeCount=v}getWebGLInfo(){const h=this.gl.getExtension("WEBGL_debug_renderer_info"),g=h?this.gl.getParameter(h.UNMASKED_RENDERER_WEBGL):null,w=h?this.gl.getParameter(h.UNMASKED_VENDOR_WEBGL):null,v=this.gl.getParameter(this.gl.VERSION);return{renderer:g,vendor:w,version:v}}static from(h){return V(h==null||h instanceof C),h}static _packBlendModes(h,g){return h|g<<4}};C.COPY_BLEND_OPERATIONS=C._packBlendModes(1,0);let e=C;t.Context=e;class r{constructor(h,g,w=0,v=null,E=!0){this._material=h,this._name=g,this._generation=w,this._location=v,this._isDirty=E}get location(){let h=e.from(this._material.context);if(this._generation!=h.generation&&(this._location=h.gl.getUniformLocation(this._material.program,this._name),this._generation=h.generation,!Dr)){let g=this._material.program,w=h.gl;for(let v=0,E=w.getProgramParameter(g,w.ACTIVE_UNIFORMS);v<E;v++){let T=w.getActiveUniform(g,v);if(T&&T.name==this._name)switch(V(T.size==1),T.type){case w.FLOAT:{V(this instanceof n);break}case w.FLOAT_MAT3:{V(this instanceof l);break}case w.FLOAT_VEC2:{V(this instanceof o);break}case w.FLOAT_VEC3:{V(this instanceof s);break}case w.FLOAT_VEC4:{V(this instanceof a);break}case w.INT:{V(this instanceof i);break}case w.SAMPLER_2D:{V(this instanceof f);break}default:V(!1)}}}if(!this._location)throw new Error("Failed to get uniform location");return this._location}}class n extends r{constructor(){super(...arguments),this._x=0}set(h){h!=this._x&&(this._x=h,this._isDirty=!0)}prepare(){let h=e.from(this._material.context);(this._generation!=h.generation||this._isDirty)&&(h.gl.uniform1f(this.location,this._x),this._isDirty=!1)}}class i extends r{constructor(){super(...arguments),this._x=0}set(h){h!=this._x&&(this._x=h,this._isDirty=!0)}prepare(){let h=e.from(this._material.context);(this._generation!=h.generation||this._isDirty)&&(h.gl.uniform1i(this.location,this._x),this._isDirty=!1)}}class o extends r{constructor(){super(...arguments),this._x=0,this._y=0}set(h,g){(h!=this._x||g!=this._y)&&(this._x=h,this._y=g,this._isDirty=!0)}prepare(){let h=e.from(this._material.context);(this._generation!=h.generation||this._isDirty)&&(h.gl.uniform2f(this.location,this._x,this._y),this._isDirty=!1)}}class s extends r{constructor(){super(...arguments),this._x=0,this._y=0,this._z=0}set(h,g,w){(h!=this._x||g!=this._y||w!=this._z)&&(this._x=h,this._y=g,this._z=w,this._isDirty=!0)}prepare(){let h=e.from(this._material.context);(this._generation!=h.generation||this._isDirty)&&(h.gl.uniform3f(this.location,this._x,this._y,this._z),this._isDirty=!1)}}class a extends r{constructor(){super(...arguments),this._x=0,this._y=0,this._z=0,this._w=0}set(h,g,w,v){(h!=this._x||g!=this._y||w!=this._z||v!=this._w)&&(this._x=h,this._y=g,this._z=w,this._w=v,this._isDirty=!0)}prepare(){let h=e.from(this._material.context);(this._generation!=h.generation||this._isDirty)&&(h.gl.uniform4f(this.location,this._x,this._y,this._z,this._w),this._isDirty=!1)}}const y=class y extends r{constructor(){super(...arguments),this._values=[1,0,0,0,1,0,0,0,1]}set(h,g,w,v,E,T,L,k,F){y._cachedValues[0]=h,y._cachedValues[1]=v,y._cachedValues[2]=L,y._cachedValues[3]=g,y._cachedValues[4]=E,y._cachedValues[5]=k,y._cachedValues[6]=w,y._cachedValues[7]=T,y._cachedValues[8]=F;for(let I=0;I<9;I++)if(y._cachedValues[I]!=this._values[I]){let B=this._values;this._values=y._cachedValues,y._cachedValues=B,this._isDirty=!0;break}}prepare(){let h=e.from(this._material.context);(this._generation!=h.generation||this._isDirty)&&(h.gl.uniformMatrix3fv(this.location,!1,this._values),this._isDirty=!1)}};y._cachedValues=[1,0,0,0,1,0,0,0,1];let l=y;class f extends r{constructor(){super(...arguments),this._texture=null,this._index=-1}set(h,g){(this._texture!=h||this._index!=g)&&(this._texture=p.from(h),this._index=g,this._isDirty=!0)}prepare(){let h=e.from(this._material.context),g=h.gl;V(this._texture==null||h.currentRenderTarget==null||this._texture!=h.currentRenderTarget.texture),(this._generation!=h.generation||this._isDirty)&&(g.uniform1i(this.location,this._index),this._isDirty=!1),g.activeTexture(Ca(g,this._index)),g.bindTexture(g.TEXTURE_2D,this._texture!=null&&this._texture.width>0&&this._texture.height>0?this._texture.texture:null)}}class d{constructor(h,g,w,v,E={},T=[],L=0,k=null){this._context=h,this._format=g,this._vertexSource=w,this._fragmentSource=v,this._uniformsMap=E,this._uniformsList=T,this._generation=L,this._program=k}get context(){return this._context}get format(){return this._format}get vertexSource(){return this._vertexSource}get fragmentSource(){return this._fragmentSource}setUniformFloat(h,g){let w=this._uniformsMap[h]||null;w==null&&(w=new n(this,h),this._uniformsMap[h]=w,this._uniformsList.push(w)),V(w instanceof n),w.set(g)}setUniformInt(h,g){let w=this._uniformsMap[h]||null;w==null&&(w=new i(this,h),this._uniformsMap[h]=w,this._uniformsList.push(w)),V(w instanceof i),w.set(g)}setUniformVec2(h,g,w){let v=this._uniformsMap[h]||null;v==null&&(v=new o(this,h),this._uniformsMap[h]=v,this._uniformsList.push(v)),V(v instanceof o),v.set(g,w)}setUniformVec3(h,g,w,v){let E=this._uniformsMap[h]||null;E==null&&(E=new s(this,h),this._uniformsMap[h]=E,this._uniformsList.push(E)),V(E instanceof s),E.set(g,w,v)}setUniformVec4(h,g,w,v,E){let T=this._uniformsMap[h]||null;T==null&&(T=new a(this,h),this._uniformsMap[h]=T,this._uniformsList.push(T)),V(T instanceof a),T.set(g,w,v,E)}setUniformMat3(h,g,w,v,E,T,L,k,F,I){let B=this._uniformsMap[h]||null;B==null&&(B=new l(this,h),this._uniformsMap[h]=B,this._uniformsList.push(B)),V(B instanceof l),B.set(g,w,v,E,T,L,k,F,I)}setUniformSampler(h,g,w){let v=this._uniformsMap[h]||null;v==null&&(v=new f(this,h),this._uniformsMap[h]=v,this._uniformsList.push(v)),V(v instanceof f),v.set(g,w)}get program(){let h=this._context.gl;if(this._generation!=this._context.generation){this._program=h.createProgram(),this._compileShader(h,h.VERTEX_SHADER,this.vertexSource),this._compileShader(h,h.FRAGMENT_SHADER,this.fragmentSource);let g=this.format.attributes;for(let w=0;w<g.length;w++)h.bindAttribLocation(this._program,w,g[w].name);if(h.linkProgram(this._program),!h.getProgramParameter(this._program,h.LINK_STATUS))throw new Error(`${h.getProgramInfoLog(this._program)}`);if(this._generation=this._context.generation,!Dr)for(let w of g)for(let v=0,E=h.getProgramParameter(this.program,h.ACTIVE_ATTRIBUTES);v<E;v++){let T=h.getActiveAttrib(this.program,v);if(T&&T.name==w.name)switch(V(T.size==1),w.count){case 1:{V(T.type==h.FLOAT);break}case 2:{V(T.type==h.FLOAT_VEC2);break}case 3:{V(T.type==h.FLOAT_VEC3);break}case 4:{V(T.type==h.FLOAT_VEC4);break}default:V(!1)}}}return this._program}prepare(){this._context.gl.useProgram(this.program);for(let h of this._uniformsList)h.prepare()}_compileShader(h,g,w){let v=h.createShader(g);if(!v)throw new Error("Failed to create shader");if(h.shaderSource(v,w),h.compileShader(v),!h.getShaderParameter(v,h.COMPILE_STATUS))throw new Error(`${h.getShaderInfoLog(v)}`);if(!this._program)throw new Error("Tried to attach shader before program was created");h.attachShader(this._program,v)}static from(h){return V(h==null||h instanceof d),h}}const _=class _ extends H.VertexBuffer{constructor(h,g){super(),this._generation=0,this._buffer=null,this._bytes=null,this._isDirty=!0,this._dirtyMin=_.INT_MAX,this._dirtyMax=0,this._totalMin=_.INT_MAX,this._totalMax=0,this._byteCount=0,this._context=h,this._byteCount=g,this._bytes=new Uint8Array(g)}get context(){return this._context}get byteCount(){return this._byteCount}move(h,g,w){V(w>=0),V(0<=h&&h+w<=this._byteCount),V(0<=g&&g+w<=this._byteCount),this._bytes&&h!=g&&w!=0&&(this._bytes.set(this._bytes.subarray(h,this._byteCount),g),this._growDirtyRegion(Math.min(h,g),Math.max(h,g)+w))}upload(h,g=0){V(0<=g&&g+h.length<=this._byteCount),V(this._bytes!=null),this._bytes.set(h,g),this._growDirtyRegion(g,g+h.length)}free(){this._buffer&&this._context.gl.deleteBuffer(this._buffer),this._generation=0}prepare(){let h=this._context.gl;this._generation!==this._context.generation&&(this._buffer=h.createBuffer(),this._generation=this._context.generation,this._isDirty=!0),h.bindBuffer(h.ARRAY_BUFFER,this._buffer),this._isDirty&&(h.bufferData(h.ARRAY_BUFFER,this._byteCount,h.DYNAMIC_DRAW),this._dirtyMin=this._totalMin,this._dirtyMax=this._totalMax,this._isDirty=!1),this._dirtyMin<this._dirtyMax&&(h.bufferSubData(h.ARRAY_BUFFER,this._dirtyMin,this._bytes.subarray(this._dirtyMin,this._dirtyMax)),this._dirtyMin=_.INT_MAX,this._dirtyMax=0)}_growDirtyRegion(h,g){this._dirtyMin=Math.min(this._dirtyMin,h),this._dirtyMax=Math.max(this._dirtyMax,g),this._totalMin=Math.min(this._totalMin,h),this._totalMax=Math.max(this._totalMax,g)}static from(h){return V(h==null||h instanceof _),h}};_.INT_MAX=2147483647;let u=_;class p{constructor(h,g,w,v,E=null,T=null,L=0,k=!0,F=!0){this._context=h,this._format=g,this._width=w,this._height=v,this._pixels=E,this._texture=T,this._generation=L,this._isFormatDirty=k,this._isContentDirty=F}get context(){return this._context}get format(){return this._format}get width(){return this._width}get height(){return this._height}resize(h,g,w=null){this._width=h,this._height=g,this._pixels=w,this._isContentDirty=!0}setFormat(h){this._format!=h&&(this._format=h,this._isFormatDirty=!0)}get texture(){let h=this._context.gl;return this._generation!=this._context.generation&&(this._texture=h.createTexture(),this._generation=this._context.generation,this._isFormatDirty=!0,this._isContentDirty=!0),this._isFormatDirty&&(h.bindTexture(h.TEXTURE_2D,this._texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.format.magFilter==0?h.NEAREST:h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.format.minFilter==0?h.NEAREST:h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.format.wrap==0?h.REPEAT:h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.format.wrap==0?h.REPEAT:h.CLAMP_TO_EDGE),this._isFormatDirty=!1),this._isContentDirty&&(h.bindTexture(h.TEXTURE_2D,this._texture),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,this._width,this._height,0,h.RGBA,h.UNSIGNED_BYTE,this._pixels),this._isContentDirty=!1),this._texture}free(){this.texture&&(this._context.gl.deleteTexture(this.texture),this._generation=0)}static from(h){return V(h==null||h instanceof p),h}}class m{constructor(h,g,w=null,v=0,E=!0,T=new H.Rect){this._context=h,this._texture=g,this._framebuffer=w,this._generation=v,this._isDirty=E,this._viewport=T}get context(){return this._context}get texture(){return this._texture}get viewport(){return this._viewport}setColor(h){this._texture!=h&&(this._texture=p.from(h),this._isDirty=!0)}get framebuffer(){let h=this._context.gl,g=this._texture.texture;return this._generation!=this._context.generation&&(this._framebuffer=h.createFramebuffer(),this._generation=this._context.generation,this._isDirty=!0),this._isDirty&&(h.bindFramebuffer(h.FRAMEBUFFER,this._framebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,g,0),V(h.checkFramebufferStatus(h.FRAMEBUFFER)==h.FRAMEBUFFER_COMPLETE),this._isDirty=!1),this._framebuffer}free(){this._framebuffer&&(this._context.gl.deleteFramebuffer(this._framebuffer),this._generation=0)}static from(h){return V(h==null||h instanceof m),h}}})(Br||(Br={}));function ze(t,e,r){let{m00:n,m01:i,m02:o,m10:s,m11:a,m12:l}=r;t.setUniformMat3(e,n,i,o,s,a,l,0,0,1)}function zn(t,e,r){t.setUniformVec2(e,r.x,r.y)}function go(t,e,r){t.setRenderTarget(e),t.setViewport(0,0,e.texture.width,e.texture.height),r(),t.setRenderTarget(null)}const ur=new H.VertexFormat;ur.add("configSpacePos",H.AttributeType.FLOAT,2);ur.add("color",H.AttributeType.FLOAT,3);const ya=`
  uniform mat3 configSpaceToNDC;

  attribute vec2 configSpacePos;
  attribute vec3 color;
  varying vec3 vColor;

  void main() {
    vColor = color;
    vec2 position = (configSpaceToNDC * vec3(configSpacePos, 1)).xy;
    gl_Position = vec4(position, 1, 1);
  }
`,Sa=`
  precision mediump float;
  varying vec3 vColor;

  void main() {
    gl_FragColor = vec4(vColor.rgb, 1);
  }
`;class Wr{constructor(e){this.gl=e,this.rects=[],this.colors=[],this.buffer=null}getRectCount(){return this.rects.length}getBuffer(){if(this.buffer)return this.buffer;const e=[[0,0],[1,0],[0,1],[1,0],[0,1],[1,1]],r=new Uint8Array(ur.stride*e.length*this.rects.length),n=new Float32Array(r.buffer);let i=0;for(let o=0;o<this.rects.length;o++){const s=this.rects[o],a=this.colors[o];for(let l of e)n[i++]=s.origin.x+l[0]*s.size.x,n[i++]=s.origin.y+l[1]*s.size.y,n[i++]=a.r,n[i++]=a.g,n[i++]=a.b}if(i!==n.length)throw new Error("Buffer expected to be full but wasn't");return this.buffer=this.gl.createVertexBuffer(r.length),this.buffer.upload(r),this.buffer}addRect(e,r){this.rects.push(e),this.colors.push(r),this.buffer&&(this.buffer.free(),this.buffer=null)}free(){this.buffer&&(this.buffer.free(),this.buffer=null)}}class xa{constructor(e){this.gl=e,this.material=e.createMaterial(ur,ya,Sa)}render(e){ze(this.material,"configSpaceToNDC",(()=>{const r=A.betweenRects(e.configSpaceSrcRect,e.physicalSpaceDstRect),n=new S(this.gl.viewport.width,this.gl.viewport.height);return A.withTranslation(new S(-1,1)).times(A.withScale(new S(2,-2).dividedByPointwise(n))).times(r)})()),this.gl.setUnpremultipliedBlendState(),this.gl.draw(H.Primitive.TRIANGLES,this.material,e.batch.getBuffer())}}class ba{constructor(e,r,n){this.gl=e,this.rectangleBatchRenderer=r,this.textureRenderer=n,this.texture=e.createTexture(H.TextureFormat.NEAREST_CLAMP,4096,4096),this.renderTarget=e.createRenderTarget(this.texture),this.rowCache=new ga(this.texture.height),this.clearLineBatch=new Wr(e),this.clearLineBatch.addRect(P.unit,new oe(0,0,0,0)),e.addContextResetHandler(()=>{this.rowCache.clear()})}has(e){return this.rowCache.has(e)}getResolution(){return this.texture.width}getCapacity(){return this.texture.height}allocateLine(e){if(this.rowCache.getSize()<this.rowCache.getCapacity()){const r=this.rowCache.getSize();return this.rowCache.insert(e,r),r}else{const[,r]=this.rowCache.removeLRU();return this.rowCache.insert(e,r),r}}writeToAtlasIfNeeded(e,r){go(this.gl,this.renderTarget,()=>{for(let n of e){let i=this.rowCache.get(n);if(i!=null)continue;i=this.allocateLine(n);const o=new P(new S(0,i),new S(this.texture.width,1));this.rectangleBatchRenderer.render({batch:this.clearLineBatch,configSpaceSrcRect:P.unit,physicalSpaceDstRect:o}),r(o,n)}})}renderViaAtlas(e,r){let n=this.rowCache.get(e);if(n==null)return!1;const i=new P(new S(0,n),new S(this.texture.width,1));return this.textureRenderer.render({texture:this.texture,srcRect:i,dstRect:r}),!0}}const Ea=`
  uniform mat3 uvTransform;
  uniform mat3 positionTransform;

  attribute vec2 position;
  attribute vec2 uv;
  varying vec2 vUv;

  void main() {
    vUv = (uvTransform * vec3(uv, 1)).xy;
    gl_Position = vec4((positionTransform * vec3(position, 1)).xy, 0, 1);
  }
`,Ta=`
  precision mediump float;

  varying vec2 vUv;
  uniform sampler2D texture;

  void main() {
   gl_FragColor = texture2D(texture, vUv);
  }
`;class Ra{constructor(e){this.gl=e;const r=new H.VertexFormat;r.add("position",H.AttributeType.FLOAT,2),r.add("uv",H.AttributeType.FLOAT,2);const n=[{pos:[-1,1],uv:[0,1]},{pos:[1,1],uv:[1,1]},{pos:[-1,-1],uv:[0,0]},{pos:[1,-1],uv:[1,0]}],i=[];for(let o of n)i.push(o.pos[0]),i.push(o.pos[1]),i.push(o.uv[0]),i.push(o.uv[1]);this.buffer=e.createVertexBuffer(r.stride*n.length),this.buffer.upload(new Uint8Array(new Float32Array(i).buffer)),this.material=e.createMaterial(r,Ea,Ta)}render(e){this.material.setUniformSampler("texture",e.texture,0),ze(this.material,"uvTransform",(()=>{const{srcRect:r,texture:n}=e,o=A.withTranslation(new S(0,1)).times(A.withScale(new S(1,-1))).times(A.betweenRects(new P(S.zero,new S(n.width,n.height)),P.unit)).transformRect(r);return A.betweenRects(P.unit,o)})()),ze(this.material,"positionTransform",(()=>{const{dstRect:r}=e,{viewport:n}=this.gl,i=new S(n.width,n.height),s=A.withScale(new S(1,-1)).times(A.betweenRects(new P(S.zero,i),P.NDC)).transformRect(r);return A.betweenRects(P.NDC,s)})()),this.gl.setUnpremultipliedBlendState(),this.gl.draw(H.Primitive.TRIANGLE_STRIP,this.material,this.buffer)}}const zr=new H.VertexFormat;zr.add("position",H.AttributeType.FLOAT,2);const La=`
  attribute vec2 position;

  void main() {
    gl_Position = vec4(position, 0, 1);
  }
`,Pa=t=>{const{r:e,g:r,b:n}=oe.fromCSSHex(t.fgSecondaryColor),i=`${e.toFixed(1)}, ${r.toFixed(1)}, ${n.toFixed(1)}`;return`
    precision mediump float;

    uniform mat3 configSpaceToPhysicalViewSpace;
    uniform vec2 physicalSize;
    uniform vec2 physicalOrigin;
    uniform vec2 configSpaceViewportOrigin;
    uniform vec2 configSpaceViewportSize;
    uniform float framebufferHeight;

    void main() {
      vec2 origin = (configSpaceToPhysicalViewSpace * vec3(configSpaceViewportOrigin, 1.0)).xy;
      vec2 size = (configSpaceToPhysicalViewSpace * vec3(configSpaceViewportSize, 0.0)).xy;

      vec2 halfSize = physicalSize / 2.0;

      float borderWidth = 2.0;

      origin = floor(origin * halfSize) / halfSize + borderWidth * vec2(1.0, 1.0);
      size = floor(size * halfSize) / halfSize - 2.0 * borderWidth * vec2(1.0, 1.0);

      vec2 coord = gl_FragCoord.xy;
      coord.x = coord.x - physicalOrigin.x;
      coord.y = framebufferHeight - coord.y - physicalOrigin.y;
      vec2 clamped = clamp(coord, origin, origin + size);
      vec2 gap = clamped - coord;
      float maxdist = max(abs(gap.x), abs(gap.y));

      // TOOD(jlfwong): Could probably optimize this to use mix somehow.
      if (maxdist == 0.0) {
        // Inside viewport rectangle
        gl_FragColor = vec4(0, 0, 0, 0);
      } else if (maxdist < borderWidth) {
        // Inside viewport rectangle at border
        gl_FragColor = vec4(${i}, 0.8);
      } else {
        // Outside viewport rectangle
        gl_FragColor = vec4(${i}, 0.5);
      }
    }
  `};class Fa{constructor(e,r){this.gl=e;const n=[[-1,1],[1,1],[-1,-1],[1,-1]],i=[];for(let o of n)i.push(o[0]),i.push(o[1]);this.buffer=e.createVertexBuffer(zr.stride*n.length),this.buffer.upload(new Uint8Array(new Float32Array(i).buffer)),this.material=e.createMaterial(zr,La,Pa(r))}render(e){ze(this.material,"configSpaceToPhysicalViewSpace",e.configSpaceToPhysicalViewSpace),zn(this.material,"configSpaceViewportOrigin",e.configSpaceViewportRect.origin),zn(this.material,"configSpaceViewportSize",e.configSpaceViewportRect.size);const r=this.gl.viewport;this.material.setUniformVec2("physicalOrigin",r.x,r.y),this.material.setUniformVec2("physicalSize",r.width,r.height),this.material.setUniformFloat("framebufferHeight",this.gl.renderTargetHeightInPixels),this.gl.setBlendState(H.BlendOperation.SOURCE_ALPHA,H.BlendOperation.INVERSE_SOURCE_ALPHA),this.gl.draw(H.Primitive.TRIANGLE_STRIP,this.material,this.buffer)}}const ir=new H.VertexFormat;ir.add("position",H.AttributeType.FLOAT,2);ir.add("uv",H.AttributeType.FLOAT,2);const Aa=`
  uniform mat3 uvTransform;
  uniform mat3 positionTransform;

  attribute vec2 position;
  attribute vec2 uv;
  varying vec2 vUv;

  void main() {
    vUv = (uvTransform * vec3(uv, 1)).xy;
    gl_Position = vec4((positionTransform * vec3(position, 1)).xy, 0, 1);
  }
`,ka=t=>`
  precision mediump float;

  uniform vec2 uvSpacePixelSize;
  uniform float renderOutlines;

  varying vec2 vUv;
  uniform sampler2D colorTexture;

  // https://en.wikipedia.org/wiki/HSL_and_HSV#From_luma/chroma/hue
  vec3 hcl2rgb(float H, float C, float L) {
    float hPrime = H / 60.0;
    float X = C * (1.0 - abs(mod(hPrime, 2.0) - 1.0));
    vec3 RGB =
      hPrime < 1.0 ? vec3(C, X, 0) :
      hPrime < 2.0 ? vec3(X, C, 0) :
      hPrime < 3.0 ? vec3(0, C, X) :
      hPrime < 4.0 ? vec3(0, X, C) :
      hPrime < 5.0 ? vec3(X, 0, C) :
      vec3(C, 0, X);

    float m = L - dot(RGB, vec3(0.30, 0.59, 0.11));
    return RGB + vec3(m, m, m);
  }

  float triangle(float x) {
    return 2.0 * abs(fract(x) - 0.5) - 1.0;
  }

  ${t}

  void main() {
    vec4 here = texture2D(colorTexture, vUv);

    if (here.z == 0.0) {
      // Background color
      gl_FragColor = vec4(0, 0, 0, 0);
      return;
    }

    // Sample the 4 surrounding pixels in the depth texture to determine
    // if we should draw a boundary here or not.
    vec4 N = texture2D(colorTexture, vUv + vec2(0, uvSpacePixelSize.y));
    vec4 E = texture2D(colorTexture, vUv + vec2(uvSpacePixelSize.x, 0));
    vec4 S = texture2D(colorTexture, vUv + vec2(0, -uvSpacePixelSize.y));
    vec4 W = texture2D(colorTexture, vUv + vec2(-uvSpacePixelSize.x, 0));

    // NOTE: For outline checks, we intentionally check both the right
    // and the left to determine if we're an edge. If a rectangle is a single
    // pixel wide, we don't want to render it as an outline, so this method
    // of checking ensures that we don't outline single physical-space
    // pixel width rectangles.
    if (
      renderOutlines > 0.0 &&
      (
        here.y == N.y && here.y != S.y || // Top edge
        here.y == S.y && here.y != N.y || // Bottom edge
        here.x == E.x && here.x != W.x || // Left edge
        here.x == W.x && here.x != E.x
      )
    ) {
      // We're on an edge! Draw transparent.
      gl_FragColor = vec4(0, 0, 0, 0);
    } else {
      // Not on an edge. Draw the appropriate color.
      gl_FragColor = vec4(colorForBucket(here.z), here.a);
    }
  }
`;class Ma{constructor(e,r){this.gl=e;const n=[{pos:[-1,1],uv:[0,1]},{pos:[1,1],uv:[1,1]},{pos:[-1,-1],uv:[0,0]},{pos:[1,-1],uv:[1,0]}],i=[];for(let o of n)i.push(o.pos[0]),i.push(o.pos[1]),i.push(o.uv[0]),i.push(o.uv[1]);this.buffer=e.createVertexBuffer(ir.stride*n.length),this.buffer.uploadFloats(i),this.updateMaterial(e,r)}updateMaterial(e,r){this.material=e.createMaterial(ir,Aa,ka(r.colorForBucketGLSL))}render(e){const{srcRect:r,rectInfoTexture:n}=e,o=A.withTranslation(new S(0,1)).times(A.withScale(new S(1,-1))).times(A.betweenRects(new P(S.zero,new S(n.width,n.height)),P.unit)).transformRect(r),s=A.betweenRects(P.unit,o),{dstRect:a}=e,l=new S(this.gl.viewport.width,this.gl.viewport.height),d=A.withScale(new S(1,-1)).times(A.betweenRects(new P(S.zero,l),P.NDC)).transformRect(a),u=A.betweenRects(P.NDC,d),p=S.unit.dividedByPointwise(new S(e.rectInfoTexture.width,e.rectInfoTexture.height));this.material.setUniformSampler("colorTexture",e.rectInfoTexture,0),ze(this.material,"uvTransform",s),this.material.setUniformFloat("renderOutlines",e.renderOutlines?1:0),this.material.setUniformVec2("uvSpacePixelSize",p.x,p.y),ze(this.material,"positionTransform",u),this.gl.setUnpremultipliedBlendState(),this.gl.draw(H.Primitive.TRIANGLE_STRIP,this.material,this.buffer)}}class Va{constructor(e,r){this.animationFrameRequest=null,this.beforeFrameHandlers=new Set,this.onBeforeFrame=()=>{this.animationFrameRequest=null,this.gl.setViewport(0,0,this.gl.renderTargetWidthInPixels,this.gl.renderTargetHeightInPixels);const n=oe.fromCSSHex(this.theme.bgCanvas);this.gl.clear(new H.Color(n.r,n.g,n.b,n.a));for(const i of this.beforeFrameHandlers)i()},this.gl=new Br.Context(e),this.rectangleBatchRenderer=new xa(this.gl),this.textureRenderer=new Ra(this.gl),this.viewportRectangleRenderer=new Fa(this.gl,r),this.flamechartColorPassRenderer=new Ma(this.gl,r),this.theme=r,this.gl.addAfterResizeEventHandler(this.onBeforeFrame),this.gl.getWebGLInfo(),window.testContextLoss=()=>{this.gl.testContextLoss()}}addBeforeFrameHandler(e){this.beforeFrameHandlers.add(e)}removeBeforeFrameHandler(e){this.beforeFrameHandlers.delete(e)}requestFrame(){this.animationFrameRequest||(this.animationFrameRequest=requestAnimationFrame(this.onBeforeFrame))}setViewport(e,r){const{origin:n,size:i}=e;let o=this.gl.viewport;this.gl.setViewport(n.x,n.y,i.x,i.y),r();let{x:s,y:a,width:l,height:f}=o;this.gl.setViewport(s,a,l,f)}renderBehind(e,r){const n=e.getBoundingClientRect(),i=new P(new S(n.left*window.devicePixelRatio,n.top*window.devicePixelRatio),new S(n.width*window.devicePixelRatio,n.height*window.devicePixelRatio));this.setViewport(i,r)}}const ct=hr(t=>e=>t.get(e.key)||0),ht=we(({theme:t,frameToColorBucket:e})=>{const r=ct(e);return n=>{const i=r(n)/255;return t.colorForBucket(i).toCSS()}}),ut=we(({theme:t,canvas:e})=>new Va(e,t)),Na=hr(t=>new ba(t.gl,t.rectangleBatchRenderer,t.textureRenderer)),Ia=we(({profile:t,flattenRecursion:e})=>e?t.getProfileWithRecursionFlattened():t),ft=hr(t=>{const e=[];t.forEachFrame(o=>e.push(o));function r(o){return(o.file||"")+o.name}function n(o,s){return r(o)>r(s)?1:-1}e.sort(n);const i=new Map;for(let o=0;o<e.length;o++)i.set(e[o].key,Math.floor(255*o/e.length));return i});function _o(){const t=O(it),e=O(ie);if(!e||e.indexToView>=e.profiles.length)return null;const r=e.indexToView,n=e.profiles[r];return{...e.profiles[e.indexToView],profile:Ia({profile:n.profile,flattenRecursion:t}),index:e.indexToView}}var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oa(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ct={exports:{}},yt={exports:{}},Un;function qe(){return Un||(Un=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=/-webkit-|-moz-|-ms-/;function n(i){return typeof i=="string"&&r.test(i)}t.exports=e.default}(yt,yt.exports)),yt.exports}var Gn;function Ha(){return Gn||(Gn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=qe(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-","-moz-",""];function s(a,l){if(typeof l=="string"&&!(0,n.default)(l)&&l.indexOf("calc(")>-1)return o.map(function(f){return l.replace(/calc\(/g,f+"calc(")})}t.exports=e.default}(Ct,Ct.exports)),Ct.exports}var Da=Ha();const Ba=ne(Da);var St={exports:{}},jn;function Wa(){return jn||(jn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=qe(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function s(a,l){if(typeof l=="string"&&!(0,n.default)(l)&&l.indexOf("cross-fade(")>-1)return o.map(function(f){return l.replace(/cross-fade\(/g,f+"cross-fade(")})}t.exports=e.default}(St,St.exports)),St.exports}var za=Wa();const $a=ne(za);var xt={exports:{}},qn;function Ua(){return qn||(qn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=["-webkit-","-moz-",""],n={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function i(o,s){if(o==="cursor"&&n.hasOwnProperty(s))return r.map(function(a){return a+s})}t.exports=e.default}(xt,xt.exports)),xt.exports}var Ga=Ua();const ja=ne(Ga);var bt={exports:{}},Kn;function qa(){return Kn||(Kn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=qe(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function s(a,l){if(typeof l=="string"&&!(0,n.default)(l)&&l.indexOf("filter(")>-1)return o.map(function(f){return l.replace(/filter\(/g,f+"filter(")})}t.exports=e.default}(bt,bt.exports)),bt.exports}var Ka=qa();const Za=ne(Ka);var Et={exports:{}},Zn;function Xa(){return Zn||(Zn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};function n(i,o){if(i==="display"&&r.hasOwnProperty(o))return r[o]}t.exports=e.default}(Et,Et.exports)),Et.exports}var Ya=Xa();const Ja=ne(Ya);var Tt={exports:{}},Xn;function Qa(){return Xn||(Xn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},n={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};function i(o,s,a){n.hasOwnProperty(o)&&(a[n[o]]=r[s]||s)}t.exports=e.default}(Tt,Tt.exports)),Tt.exports}var el=Qa();const tl=ne(el);var Rt={exports:{}},Yn;function rl(){return Yn||(Yn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},n={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};function i(o,s,a){o==="flexDirection"&&typeof s=="string"&&(s.indexOf("column")>-1?a.WebkitBoxOrient="vertical":a.WebkitBoxOrient="horizontal",s.indexOf("reverse")>-1?a.WebkitBoxDirection="reverse":a.WebkitBoxDirection="normal"),n.hasOwnProperty(o)&&(a[n[o]]=r[s]||s)}t.exports=e.default}(Rt,Rt.exports)),Rt.exports}var nl=rl();const il=ne(nl);var Lt={exports:{}},Jn;function ol(){return Jn||(Jn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=qe(),n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}var o=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;function a(l,f){if(typeof f=="string"&&!(0,n.default)(f)&&s.test(f))return o.map(function(d){return f.replace(s,function(u){return d+u})})}t.exports=e.default}(Lt,Lt.exports)),Lt.exports}var sl=ol();const al=ne(sl);var Pt={exports:{}},Qn;function ll(){return Qn||(Qn=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=qe(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function s(a,l){if(typeof l=="string"&&!(0,n.default)(l)&&l.indexOf("image-set(")>-1)return o.map(function(f){return l.replace(/image-set\(/g,f+"image-set(")})}t.exports=e.default}(Pt,Pt.exports)),Pt.exports}var cl=ll();const hl=ne(cl);var Ft={exports:{}},ei;function ul(){return ei||(ei=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n,i){if(n==="position"&&i==="sticky")return["-webkit-sticky","sticky"]}t.exports=e.default}(Ft,Ft.exports)),Ft.exports}var fl=ul();const dl=ne(fl);var At={exports:{}},ti;function pl(){return ti||(ti=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=["-webkit-","-moz-",""],n={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function o(s,a){if(n.hasOwnProperty(s)&&i.hasOwnProperty(a))return r.map(function(l){return l+a})}t.exports=e.default}(At,At.exports)),At.exports}var ml=pl();const gl=ne(ml);var kt={exports:{}},Mt={exports:{}},_l=/[A-Z]/g,wl=/^ms-/,Sr={};function vl(t){return"-"+t.toLowerCase()}function Cl(t){if(Sr.hasOwnProperty(t))return Sr[t];var e=t.replace(_l,vl);return Sr[t]=wl.test(e)?"-"+e:e}const yl=Object.freeze(Object.defineProperty({__proto__:null,default:Cl},Symbol.toStringTag,{value:"Module"})),Sl=Oa(yl);var ri;function xl(){return ri||(ri=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=Sl,n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function o(s){return(0,n.default)(s)}t.exports=e.default}(Mt,Mt.exports)),Mt.exports}var Vt={exports:{}},ni;function wo(){return ni||(ni=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return n.charAt(0).toUpperCase()+n.slice(1)}t.exports=e.default}(Vt,Vt.exports)),Vt.exports}var ii;function bl(){return ii||(ii=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var r=xl(),n=l(r),i=qe(),o=l(i),s=wo(),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}var f={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},d={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function u(m,C){if((0,o.default)(m))return m;for(var y=m.split(/,(?![^()]*(?:\([^()]*\))?\))/g),_=0,x=y.length;_<x;++_){var h=y[_],g=[h];for(var w in C){var v=(0,n.default)(w);if(h.indexOf(v)>-1&&v!=="order")for(var E=C[w],T=0,L=E.length;T<L;++T)g.unshift(h.replace(v,d[E[T]]+v))}y[_]=g.join(",")}return y.join(",")}function p(m,C,y,_){if(typeof C=="string"&&f.hasOwnProperty(m)){var x=u(C,_),h=x.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(w){return!/-moz-|-ms-/.test(w)}).join(",");if(m.indexOf("Webkit")>-1)return h;var g=x.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(w){return!/-webkit-|-ms-/.test(w)}).join(",");return m.indexOf("Moz")>-1?g:(y["Webkit"+(0,a.default)(m)]=h,y["Moz"+(0,a.default)(m)]=g,x)}}t.exports=e.default}(kt,kt.exports)),kt.exports}var El=bl();const Tl=ne(El);var xr,oi;function Rl(){if(oi)return xr;oi=1;function t(e){for(var r=5381,n=e.length;n;)r=r*33^e.charCodeAt(--n);return r>>>0}return xr=t,xr}var Ll=Rl();const Pl=ne(Ll);var Nt={exports:{}},It={exports:{}},si;function Fl(){return si||(si=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=wo(),n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function o(s,a,l){if(s.hasOwnProperty(a)){for(var f={},d=s[a],u=(0,n.default)(a),p=Object.keys(l),m=0;m<p.length;m++){var C=p[m];if(C===a)for(var y=0;y<d.length;y++)f[d[y]+u]=l[a];f[C]=l[C]}return f}return l}t.exports=e.default}(It,It.exports)),It.exports}var Ot={exports:{}},ai;function Al(){return ai||(ai=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n,i,o,s,a){for(var l=0,f=n.length;l<f;++l){var d=n[l](i,o,s,a);if(d)return d}}t.exports=e.default}(Ot,Ot.exports)),Ot.exports}var Ht={exports:{}},li;function kl(){return li||(li=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function r(i,o){i.indexOf(o)===-1&&i.push(o)}function n(i,o){if(Array.isArray(o))for(var s=0,a=o.length;s<a;++s)r(i,o[s]);else r(i,o)}t.exports=e.default}(Ht,Ht.exports)),Ht.exports}var Dt={exports:{}},ci;function Ml(){return ci||(ci=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return n instanceof Object&&!Array.isArray(n)}t.exports=e.default}(Dt,Dt.exports)),Dt.exports}var hi;function Vl(){return hi||(hi=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var r=Fl(),n=d(r),i=Al(),o=d(i),s=kl(),a=d(s),l=Ml(),f=d(l);function d(p){return p&&p.__esModule?p:{default:p}}function u(p){var m=p.prefixMap,C=p.plugins;function y(_){for(var x in _){var h=_[x];if((0,f.default)(h))_[x]=y(h);else if(Array.isArray(h)){for(var g=[],w=0,v=h.length;w<v;++w){var E=(0,o.default)(C,x,h[w],_,m);(0,a.default)(g,E||h[w])}g.length>0&&(_[x]=g)}else{var T=(0,o.default)(C,x,h,_,m);T&&(_[x]=T),_=(0,n.default)(m,x,_)}}return _}return y}t.exports=e.default}(Nt,Nt.exports)),Nt.exports}var Nl=Vl();const Il=ne(Nl);var br,ui;function Ol(){if(ui)return br;ui=1,br=t;function t(d){e.length||r(),e[e.length]=d}var e=[],r,n=0,i=1024;function o(){for(;n<e.length;){var d=n;if(n=n+1,e[d].call(),n>i){for(var u=0,p=e.length-n;u<p;u++)e[u]=e[u+n];e.length-=n,n=0}}e.length=0,n=0}var s=typeof $n<"u"?$n:self,a=s.MutationObserver||s.WebKitMutationObserver;typeof a=="function"?r=l(o):r=f(o),t.requestFlush=r;function l(d){var u=1,p=new a(d),m=document.createTextNode("");return p.observe(m,{characterData:!0}),function(){u=-u,m.data=u}}function f(d){return function(){var p=setTimeout(C,0),m=setInterval(C,50);function C(){clearTimeout(p),clearInterval(m),d()}}}return t.makeRequestCallFromTimer=f,br}var Er,fi;function Hl(){if(fi)return Er;fi=1;var t=Ol(),e=[],r=[],n=t.makeRequestCallFromTimer(i);function i(){if(r.length)throw r.shift()}Er=o;function o(a){var l;e.length?l=e.pop():l=new s,l.task=a,t(l)}function s(){this.task=null}return s.prototype.call=function(){try{this.task.call()}catch(a){o.onerror?o.onerror(a):(r.push(a),n())}finally{this.task=null,e[e.length]=this}},Er}var Dl=Hl();const Bl=ne(Dl);var R=["Webkit"],Tr=["Moz"],G=["ms"],Q=["Webkit","Moz"],Z=["Webkit","ms"],Ye=["Webkit","Moz","ms"],Wl={plugins:[Ba,$a,ja,Za,Ja,tl,il,al,hl,dl,gl,Tl],prefixMap:{transform:Z,transformOrigin:Z,transformOriginX:Z,transformOriginY:Z,backfaceVisibility:R,perspective:R,perspectiveOrigin:R,transformStyle:R,transformOriginZ:R,animation:R,animationDelay:R,animationDirection:R,animationFillMode:R,animationDuration:R,animationIterationCount:R,animationName:R,animationPlayState:R,animationTimingFunction:R,appearance:Q,userSelect:Ye,fontKerning:R,textEmphasisPosition:R,textEmphasis:R,textEmphasisStyle:R,textEmphasisColor:R,boxDecorationBreak:R,clipPath:R,maskImage:R,maskMode:R,maskRepeat:R,maskPosition:R,maskClip:R,maskOrigin:R,maskSize:R,maskComposite:R,mask:R,maskBorderSource:R,maskBorderMode:R,maskBorderSlice:R,maskBorderWidth:R,maskBorderOutset:R,maskBorderRepeat:R,maskBorder:R,maskType:R,textDecorationStyle:Q,textDecorationSkip:Q,textDecorationLine:Q,textDecorationColor:Q,filter:R,fontFeatureSettings:Q,breakAfter:Ye,breakBefore:Ye,breakInside:Ye,columnCount:Q,columnFill:Q,columnGap:Q,columnRule:Q,columnRuleColor:Q,columnRuleStyle:Q,columnRuleWidth:Q,columns:Q,columnSpan:Q,columnWidth:Q,writingMode:Z,flex:Z,flexBasis:R,flexDirection:Z,flexGrow:R,flexFlow:Z,flexShrink:R,flexWrap:Z,alignContent:R,alignItems:R,alignSelf:R,justifyContent:R,order:R,transitionDelay:R,transitionDuration:R,transitionProperty:R,transitionTimingFunction:R,backdropFilter:R,scrollSnapType:Z,scrollSnapPointsX:Z,scrollSnapPointsY:Z,scrollSnapDestination:Z,scrollSnapCoordinate:Z,shapeImageThreshold:R,shapeImageMargin:R,shapeImageOutside:R,hyphens:Ye,flowInto:Z,flowFrom:Z,regionFragment:Z,boxSizing:Tr,textAlignLast:Tr,tabSize:Tr,wrapFlow:G,wrapThrough:G,wrapMargin:G,touchAction:G,gridTemplateColumns:G,gridTemplateRows:G,gridTemplateAreas:G,gridTemplate:G,gridAutoColumns:G,gridAutoRows:G,gridAutoFlow:G,grid:G,gridRowStart:G,gridColumnStart:G,gridRowEnd:G,gridRow:G,gridColumn:G,gridColumnEnd:G,gridColumnGap:G,gridRowGap:G,gridArea:G,gridGap:G,textSizeAdjust:Z,borderImage:R,borderImageOutset:R,borderImageRepeat:R,borderImageSlice:R,borderImageSource:R,borderImageWidth:R}},zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var di=typeof Map<"u",$r=function(){function t(){Ul(this,t),this.elements={},this.keyOrder=[]}return $l(t,[{key:"forEach",value:function(){function e(r){for(var n=0;n<this.keyOrder.length;n++)r(this.elements[this.keyOrder[n]],this.keyOrder[n])}return e}()},{key:"set",value:function(){function e(r,n,i){if(!this.elements.hasOwnProperty(r))this.keyOrder.push(r);else if(i){var o=this.keyOrder.indexOf(r);this.keyOrder.splice(o,1),this.keyOrder.push(r)}if(n==null){this.elements[r]=n;return}if(di&&n instanceof Map||n instanceof t){var s=this.elements.hasOwnProperty(r)?this.elements[r]:new t;n.forEach(function(d,u){s.set(u,d,i)}),this.elements[r]=s;return}if(!Array.isArray(n)&&(typeof n>"u"?"undefined":zl(n))==="object"){for(var a=this.elements.hasOwnProperty(r)?this.elements[r]:new t,l=Object.keys(n),f=0;f<l.length;f+=1)a.set(l[f],n[l[f]],i);this.elements[r]=a;return}this.elements[r]=n}return e}()},{key:"get",value:function(){function e(r){return this.elements[r]}return e}()},{key:"has",value:function(){function e(r){return this.elements.hasOwnProperty(r)}return e}()},{key:"addStyleType",value:function(){function e(r){var n=this;if(di&&r instanceof Map||r instanceof t)r.forEach(function(s,a){n.set(a,s,!0)});else for(var i=Object.keys(r),o=0;o<i.length;o++)this.set(i[o],r[i[o]],!0)}return e}()}]),t}(),Gl=/([A-Z])/g,jl=function(e){return"-"+String(e.toLowerCase())},ql=function(e){var r=e.replace(Gl,jl);return r[0]==="m"&&r[1]==="s"&&r[2]==="-"?"-"+String(r):r},Kt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function Kl(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var Zl=["Webkit","ms","Moz","O"];Object.keys(Kt).forEach(function(t){Zl.forEach(function(e){Kt[Kl(e,t)]=Kt[t]})});var vo=function(e,r){return typeof r=="number"?Kt[e]?""+r:r+"px":""+r},Xl=function(e,r){return Jl(vo(e,r))},dt=function(e,r){return Pl(e).toString(36)},Yl=function(e){return dt(JSON.stringify(e))},Jl=function(e){return e[e.length-10]==="!"&&e.slice(-11)===" !important"?e:String(e)+" !important"};function Ql(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var ec=Il(Wl),tc=[function(){function t(e,r,n){return e[0]!==":"?null:n(r+e)}return t}(),function(){function t(e,r,n){if(e[0]!=="@")return null;var i=n(r);return[String(e)+"{"+String(i.join(""))+"}"]}return t}()],Ur=function t(e,r,n,i,o){for(var s=new $r,a=0;a<r.length;a++)s.addStyleType(r[a]);var l=new $r,f=[];s.forEach(function(u,p){var m=n.some(function(C){var y=C(p,e,function(_){return t(_,[u],n,i,o)});if(y!=null)return Array.isArray(y)?f.push.apply(f,Ql(y)):f.push("@media all {"+String(y)+"}"),!0});m||l.set(p,u,!0)});var d=ic(e,l,i,o,n);return d&&f.unshift(d),f},rc=function(e,r,n){if(r)for(var i=Object.keys(r),o=0;o<i.length;o++){var s=i[o];e.has(s)&&e.set(s,r[s](e.get(s),n),!1)}},pi=function(e,r,n){return String(ql(e))+":"+String(n(e,r))+";"},nc=function(e,r){return e[r]=!0,e},ic=function(e,r,n,i,o){rc(r,n,o);var s=Object.keys(r.elements).reduce(nc,Object.create(null)),a=ec(r.elements),l=Object.keys(a);if(l.length!==r.keyOrder.length){for(var f=0;f<l.length;f++)if(!s[l[f]]){var d=void 0;if(l[f][0]==="W"?d=l[f][6].toLowerCase()+l[f].slice(7):l[f][1]==="o"?d=l[f][3].toLowerCase()+l[f].slice(4):d=l[f][2].toLowerCase()+l[f].slice(3),d&&s[d]){var u=r.keyOrder.indexOf(d);r.keyOrder.splice(u,0,l[f])}else r.keyOrder.unshift(l[f])}}for(var p=i===!1?vo:Xl,m=[],C=0;C<r.keyOrder.length;C++){var y=r.keyOrder[C],_=a[y];if(Array.isArray(_))for(var x=0;x<_.length;x++)m.push(pi(y,_[x],p));else m.push(pi(y,_,p))}return m.length?String(e)+"{"+String(m.join(""))+"}":""},mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function oc(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var ce=null,sc=function(e){if(ce==null&&(ce=document.querySelector("style[data-aphrodite]"),ce==null)){var r=document.head||document.getElementsByTagName("head")[0];ce=document.createElement("style"),ce.type="text/css",ce.setAttribute("data-aphrodite",""),r.appendChild(ce)}var n=ce.styleSheet||ce.sheet;if(n.insertRule){var i=n.cssRules.length;e.forEach(function(o){try{n.insertRule(o,i),i+=1}catch{}})}else ce.innerText=(ce.innerText||"")+e.join("")},Gr={fontFamily:function(){function t(e){return Array.isArray(e)?e.map(t).join(","):(typeof e>"u"?"undefined":mi(e))==="object"?(yo(e.src,"@font-face",[e],!1),'"'+String(e.fontFamily)+'"'):e}return t}(),animationName:function(){function t(e,r){if(Array.isArray(e))return e.map(function(o){return t(o,r)}).join(",");if((typeof e>"u"?"undefined":mi(e))==="object"){var n="keyframe_"+String(Yl(e)),i="@keyframes "+n+"{";return e instanceof $r?e.forEach(function(o,s){i+=Ur(s,[o],r,Gr,!1).join("")}):Object.keys(e).forEach(function(o){i+=Ur(o,[e[o]],r,Gr,!1).join("")}),i+="}",Co(n,[i]),n}else return e}return t}()},$e={},or=[],Ue=!1,Co=function(e,r){var n;if(!$e[e]){if(!Ue){if(typeof document>"u")throw new Error("Cannot automatically buffer without a document");Ue=!0,Bl(hc)}(n=or).push.apply(n,oc(r)),$e[e]=!0}},yo=function(e,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(!$e[e]){var s=Ur(r,n,o,Gr,i);Co(e,s)}},ac=function(){or=[],$e={},Ue=!1,ce=null},lc=function(){if(Ue)throw new Error("Cannot buffer while already buffering");Ue=!0},So=function(){Ue=!1;var e=or;return or=[],e},cc=function(){return So().join("")},hc=function(){var e=So();e.length>0&&sc(e)},uc=function(){return Object.keys($e)},fc=function(e){e.forEach(function(r){$e[r]=!0})},dc=function t(e,r,n,i){for(var o=0;o<e.length;o+=1)e[o]&&(Array.isArray(e[o])?i+=t(e[o],r,n,i):(r.push(e[o]._name),n.push(e[o]._definition),i+=e[o]._len));return i},pc=function(e,r,n){var i=[],o=[],s=dc(r,i,o,0);if(i.length===0)return"";var a=void 0;return a=i.length===1?"_"+String(i[0]):"_"+String(dt(i.join()))+String((s%36).toString(36)),yo(a,"."+String(a),o,e,n),a},mc=function(e,r){return String(r)+"_"+String(dt(e))},gc=function(){return dt},xo=gc(),_c={create:function(){function t(e){for(var r={},n=Object.keys(e),i=0;i<n.length;i+=1){var o=n[i],s=e[o],a=JSON.stringify(s);r[o]={_len:a.length,_name:xo(a,o),_definition:s}}return r}return t}(),rehydrate:function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];fc(e)}return t}()},wc=typeof window<"u"?null:{renderStatic:function(){function t(e){ac(),lc();var r=e(),n=cc();return{html:r,css:{content:n,renderedClassNames:uc()}}}return t}()},vc=null;function bo(t,e){return{StyleSheet:Object.assign({},_c,{extend:function(){function r(n){var i=n.map(function(o){return o.selectorHandler}).filter(function(o){return o});return bo(t,e.concat(i))}return r}()}),StyleSheetServer:wc,StyleSheetTestUtils:vc,minify:function(){function r(n){xo=n?dt:mc}return r}(),css:function(){function r(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return pc(t,i,e)}return r}()}}var Cc=!0,pt=bo(Cc,tc),pe=pt.StyleSheet;pt.StyleSheetServer;pt.StyleSheetTestUtils;var b=pt.css;pt.minify;var Ke=(t=>(t.MONOSPACE='"Source Code Pro", Courier, monospace',t))(Ke||{}),K=(t=>(t[t.LABEL=10]="LABEL",t[t.TITLE=12]="TITLE",t[t.BIG_BUTTON=36]="BIG_BUTTON",t))(K||{}),N=(t=>(t[t.MINIMAP_HEIGHT=100]="MINIMAP_HEIGHT",t[t.DETAIL_VIEW_HEIGHT=150]="DETAIL_VIEW_HEIGHT",t[t.TOOLTIP_WIDTH_MAX=900]="TOOLTIP_WIDTH_MAX",t[t.TOOLTIP_HEIGHT_MAX=80]="TOOLTIP_HEIGHT_MAX",t[t.SEPARATOR_HEIGHT=2]="SEPARATOR_HEIGHT",t[t.FRAME_HEIGHT=20]="FRAME_HEIGHT",t[t.TOOLBAR_HEIGHT=26]="TOOLBAR_HEIGHT",t[t.TOOLBAR_TAB_HEIGHT=18]="TOOLBAR_TAB_HEIGHT",t[t.TIMESTAMP_INDICATOR_WIDTH=3]="TIMESTAMP_INDICATOR_WIDTH",t))(N||{}),sr=(t=>(t.HOVER_CHANGE="0.07s",t))(sr||{}),rn=(t=>(t[t.PROFILE_SELECT=1]="PROFILE_SELECT",t[t.HOVERTIP=2]="HOVERTIP",t))(rn||{});const ae=pe.create({fillY:{height:"100%"},fillX:{width:"100%"},hbox:{display:"flex",flexDirection:"row",position:"relative",overflow:"hidden"},vbox:{display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"}});function yc(t,e){const r=t.toLocaleLowerCase(),n=e.toLocaleLowerCase();let i=0;const o=[];for(;;){let s=r.indexOf(n,i);if(s===-1)return o;o.push([s,s+e.length]),i=s+e.length}}class Sc{constructor(e,r){this.profile=e,this.searchQuery=r,this.matches=null}getMatchForFrame(e){return this.matches||(this.matches=new Map,this.profile.forEachFrame(r=>{const n=yc(r.name,this.searchQuery);this.matches.set(r,n.length===0?null:n)})),this.matches.get(e)||null}}class xc{constructor(e,r){this.flamechart=e,this.profileResults=r,this.matches=null}getResults(){if(this.matches==null){const e=[],r=new Map,n=(o,s)=>{const{node:a}=o;if(this.profileResults.getMatchForFrame(a.frame)){const l=new P(new S(o.start,s),new S(o.end-o.start,1));r.set(a,e.length),e.push({configSpaceBounds:l,node:a})}o.children.forEach(l=>{n(l,s+1)})},i=this.flamechart.getLayers();i.length>0&&i[0].forEach(o=>n(o,0)),this.matches={matches:e,indexForNode:r}}return this.matches}count(){return this.getResults().matches.length}indexOf(e){const r=this.getResults().indexForNode.get(e);return r===void 0?null:r}at(e){const r=this.getResults().matches;if(e<0||e>=r.length)throw new Error(`Index ${e} out of bounds in list of ${r.length} matches.`);return r[e]}}function gi(t){t.stopPropagation()}const fr=cr(null),bc=({children:t})=>{const e=_o(),r=e?e.profile:null,n=O(Xt),i=O(Yt),o=Y(()=>!r||!n||i.length===0?null:new Sc(r,i),[n,i,r]);return c(fr.Provider,{value:o,children:t})},Eo=W(({numResults:t,resultIndex:e,selectNext:r,selectPrev:n})=>{const i=$(),o=Ec(i),s=O(Xt),a=O(Yt),l=Yt.set,f=Xt.set,d=D(y=>{const _=y.target.value;l(_)},[l]),u=te(null),p=D(()=>f(!1),[f]),m=D(y=>{y.shiftKey?n():r()},[n,r]),C=D(y=>{y.stopPropagation(),y.key==="Escape"&&f(!1),y.key==="Enter"&&m(y),y.key=="f"&&(y.metaKey||y.ctrlKey)&&(u.current&&u.current.select(),y.preventDefault())},[f,m]);return fe(()=>{const y=_=>{_.key=="f"&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),u.current?u.current.select():(f(!0),requestAnimationFrame(()=>{u.current&&u.current.select()})))};return window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}},[f]),s?c("div",{className:b(o.searchView),children:[c("span",{className:b(o.icon),children:"🔍"}),c("span",{className:b(o.inputContainer),children:c("input",{className:b(o.input),value:a,onInput:d,onKeyDown:C,onKeyUp:gi,onKeyPress:gi,ref:u})}),t!=null&&c(_e,{children:[c("span",{className:b(o.resultCount),children:[e==null?"?":e+1,"/",t]}),c("button",{className:b(o.icon,o.button),onClick:n,children:"⬅️"}),c("button",{className:b(o.icon,o.button),onClick:r,children:"➡️"})]}),c("svg",{className:b(o.icon),onClick:p,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M4.99999 4.16217L11.6427 10.8048M11.6427 4.16217L4.99999 10.8048",stroke:i.altFgSecondaryColor})})]}):null}),Ec=ve(t=>pe.create({searchView:{position:"absolute",top:0,right:10,height:N.TOOLBAR_HEIGHT,width:16*13,borderWidth:2,borderColor:t.altFgPrimaryColor,borderStyle:"solid",fontSize:K.LABEL,boxSizing:"border-box",background:t.altBgSecondaryColor,color:t.altFgPrimaryColor,display:"flex",alignItems:"center"},inputContainer:{flexShrink:1,flexGrow:1,display:"flex"},input:{width:"100%",border:"none",background:"none",fontSize:K.LABEL,lineHeight:`${N.TOOLBAR_HEIGHT}px`,color:t.altFgPrimaryColor,":focus":{border:"none",outline:"none"},"::selection":{color:t.altFgPrimaryColor,background:t.selectionPrimaryColor}},resultCount:{verticalAlign:"middle"},icon:{flexShrink:0,verticalAlign:"middle",height:"100%",margin:"0px 2px 0px 2px",fontSize:K.LABEL},button:{display:"inline",background:"none",border:"none",padding:0,":focus":{outline:"none"}}}));class nn{constructor(){this.unit="none"}format(e){return e.toLocaleString()}}class Tc{constructor(e){this.unit=e,e==="nanoseconds"?this.multiplier=1e-9:e==="microseconds"?this.multiplier=1e-6:e==="milliseconds"?this.multiplier=.001:this.multiplier=1}formatUnsigned(e){const r=e*this.multiplier;if(r/60>=1){const n=Math.floor(r/60),i=Math.floor(r-n*60).toString();return`${n}:${xs(i,2)}`}return r/1>=1?`${r.toFixed(2)}s`:r/.001>=1?`${(r/.001).toFixed(2)}ms`:r/1e-6>=1?`${(r/1e-6).toFixed(2)}µs`:`${(r/1e-9).toFixed(2)}ns`}format(e){return`${e<0?"-":""}${this.formatUnsigned(Math.abs(e))}`}}class Rc{constructor(){this.unit="bytes"}format(e){return e<1024?`${e.toFixed(0)} B`:(e/=1024,e<1024?`${e.toFixed(2)} KB`:(e/=1024,e<1024?`${e.toFixed(2)} MB`:(e/=1024,`${e.toFixed(2)} GB`)))}}class To{constructor(){this.selfWeight=0,this.totalWeight=0}getSelfWeight(){return this.selfWeight}getTotalWeight(){return this.totalWeight}addToTotalWeight(e){this.totalWeight+=e}addToSelfWeight(e){this.selfWeight+=e}overwriteWeightWith(e){this.selfWeight=e.selfWeight,this.totalWeight=e.totalWeight}}const et=class et extends To{constructor(e){super(),this.key=e.key,this.name=e.name,this.file=e.file,this.line=e.line,this.col=e.col,this.args=e.args}static getOrInsert(e,r){return e.getOrInsert(new et(r))}};et.root=new et({key:"(speedscope root)",name:"(speedscope root)"});let ee=et;class ar extends To{constructor(e,r){super(),this.frame=e,this.parent=r,this.children=[],this.frozen=!1}isRoot(){return this.frame===ee.root}isFrozen(){return this.frozen}freeze(){this.frozen=!0}}class dr{constructor(e=0){this.name="",this.frames=new Ki,this.appendOrderCalltreeRoot=new ar(ee.root,null),this.groupedCalltreeRoot=new ar(ee.root,null),this.samples=[],this.weights=[],this.valueFormatter=new nn,this.totalNonIdleWeight=null,this.totalWeight=e}getAppendOrderCalltreeRoot(){return this.appendOrderCalltreeRoot}getGroupedCalltreeRoot(){return this.groupedCalltreeRoot}shallowClone(){const e=new dr(this.totalWeight);return Object.assign(e,this),e}formatValue(e){return this.valueFormatter.format(e)}setValueFormatter(e){this.valueFormatter=e}getWeightUnit(){return this.valueFormatter.unit}getName(){return this.name}setName(e){this.name=e}getTotalWeight(){return this.totalWeight}getTotalNonIdleWeight(){return this.totalNonIdleWeight===null&&(this.totalNonIdleWeight=this.groupedCalltreeRoot.children.reduce((e,r)=>e+r.getTotalWeight(),0)),this.totalNonIdleWeight}sortGroupedCallTree(){function e(r){r.children.sort((n,i)=>-(n.getTotalWeight()-i.getTotalWeight())),r.children.forEach(e)}e(this.groupedCalltreeRoot)}forEachCallGrouped(e,r){function n(i,o){i.frame!==ee.root&&e(i,o);let s=0;i.children.forEach(function(a){n(a,o+s),s+=a.getTotalWeight()}),i.frame!==ee.root&&r(i,o+i.getTotalWeight())}n(this.groupedCalltreeRoot,0)}forEachCall(e,r){let n=[],i=0,o=0;for(let s of this.samples){let a=null;for(a=s;a&&a.frame!=ee.root&&n.indexOf(a)===-1;a=a.parent);for(;n.length>0&&Ee(n)!=a;){const f=n.pop();r(f,i)}const l=[];for(let f=s;f&&f.frame!=ee.root&&f!=a;f=f.parent)l.push(f);l.reverse();for(let f of l)e(f,i);n=n.concat(l),i+=this.weights[o++]}for(let s=n.length-1;s>=0;s--)r(n[s],i)}forEachFrame(e){this.frames.forEach(e)}getProfileWithRecursionFlattened(){const e=new on,r=[],n=new Set;function i(a,l){n.has(a.frame)?r.push(null):(n.add(a.frame),r.push(a),e.enterFrame(a.frame,l))}function o(a,l){const f=r.pop();f&&(n.delete(f.frame),e.leaveFrame(f.frame,l))}this.forEachCall(i,o);const s=e.build();return s.name=this.name,s.valueFormatter=this.valueFormatter,this.forEachFrame(a=>{s.frames.getOrInsert(a).overwriteWeightWith(a)}),s}getInvertedProfileForCallersOf(e){const r=ee.getOrInsert(this.frames,e),n=new jr,i=[];function o(a){if(a.frame===r)i.push(a);else for(let l of a.children)o(l)}o(this.appendOrderCalltreeRoot);for(let a of i){const l=[];for(let f=a;f!=null&&f.frame!==ee.root;f=f.parent)l.push(f.frame);n.appendSampleWithWeight(l,a.getTotalWeight())}const s=n.build();return s.name=this.name,s.valueFormatter=this.valueFormatter,s}getProfileForCalleesOf(e){const r=ee.getOrInsert(this.frames,e),n=new jr;function i(a){const l=[];function f(d){l.push(d.frame),n.appendSampleWithWeight(l,d.getSelfWeight());for(let u of d.children)f(u);l.pop()}f(a)}function o(a){if(a.frame===r)i(a);else for(let l of a.children)o(l)}o(this.appendOrderCalltreeRoot);const s=n.build();return s.name=this.name,s.valueFormatter=this.valueFormatter,s}async demangle(){let e=null;for(let r of this.frames)(r.name.startsWith("__Z")||r.name.startsWith("_R")||r.name.startsWith("_Z"))&&(e||(e=await(await Ge(()=>import("./index-DA4yW5Kz.js"),[],import.meta.url)).loadDemangling()),r.name=e(r.name))}remapSymbols(e){for(let r of this.frames){const n=e(r);if(n==null)continue;const{name:i,file:o,line:s,col:a}=n;i!=null&&(r.name=i),o!=null&&(r.file=o),s!=null&&(r.line=s),a!=null&&(r.col=a)}}}class jr extends dr{constructor(){super(...arguments),this.pendingSample=null}_appendSample(e,r,n){if(isNaN(r))throw new Error("invalid weight");let i=n?this.appendOrderCalltreeRoot:this.groupedCalltreeRoot,o=new Set;for(let s of e){const a=n?Ee(i.children):i.children.find(l=>l.frame===s);if(a&&!a.isFrozen()&&a.frame==s)i=a;else{const l=i;i=new ar(s,i),l.children.push(i)}i.addToTotalWeight(r),o.add(i.frame)}if(i.addToSelfWeight(r),n)for(let s of i.children)s.freeze();if(n){i.frame.addToSelfWeight(r);for(let s of o)s.addToTotalWeight(r);i===Ee(this.samples)?this.weights[this.weights.length-1]+=r:(this.samples.push(i),this.weights.push(r))}}appendSampleWithWeight(e,r){if(r===0)return;if(r<0)throw new Error("Samples must have positive weights");const n=e.map(i=>ee.getOrInsert(this.frames,i));this._appendSample(n,r,!0),this._appendSample(n,r,!1)}appendSampleWithTimestamp(e,r){if(this.pendingSample){if(r<this.pendingSample.centralTimestamp)throw new Error("Timestamps received out of order");const n=(r+this.pendingSample.centralTimestamp)/2;this.appendSampleWithWeight(this.pendingSample.stack,n-this.pendingSample.startTimestamp),this.pendingSample={stack:e,startTimestamp:n,centralTimestamp:r}}else this.pendingSample={stack:e,startTimestamp:r,centralTimestamp:r}}build(){return this.pendingSample&&(this.samples.length>0?this.appendSampleWithWeight(this.pendingSample.stack,this.pendingSample.centralTimestamp-this.pendingSample.startTimestamp):(this.appendSampleWithWeight(this.pendingSample.stack,1),this.setValueFormatter(new nn))),this.totalWeight=Math.max(this.totalWeight,this.weights.reduce((e,r)=>e+r,0)),this.sortGroupedCallTree(),this}}class on extends dr{constructor(){super(...arguments),this.appendOrderStack=[this.appendOrderCalltreeRoot],this.groupedOrderStack=[this.groupedCalltreeRoot],this.framesInStack=new Map,this.stack=[],this.lastValue=0}addWeightsToFrames(e){const r=e-this.lastValue;for(let i of this.framesInStack.keys())i.addToTotalWeight(r);const n=Ee(this.stack);n&&n.addToSelfWeight(r)}addWeightsToNodes(e,r){const n=e-this.lastValue;for(let o of r)o.addToTotalWeight(n);const i=Ee(r);i&&i.addToSelfWeight(n)}_enterFrame(e,r,n){let i=n?this.appendOrderStack:this.groupedOrderStack;this.addWeightsToNodes(r,i);let o=Ee(i);if(o){if(n){const l=r-this.lastValue;if(l>0)this.samples.push(o),this.weights.push(r-this.lastValue);else if(l<0)throw new Error(`Samples must be provided in increasing order of cumulative value. Last sample was ${this.lastValue}, this sample was ${r}`)}const s=n?Ee(o.children):o.children.find(l=>l.frame===e);let a;s&&!s.isFrozen()&&s.frame==e?a=s:(a=new ar(e,o),o.children.push(a)),i.push(a)}}enterFrame(e,r){const n=ee.getOrInsert(this.frames,e);this.addWeightsToFrames(r),this._enterFrame(n,r,!0),this._enterFrame(n,r,!1),this.stack.push(n);const i=this.framesInStack.get(n)||0;this.framesInStack.set(n,i+1),this.lastValue=r,this.totalWeight=Math.max(this.totalWeight,this.lastValue)}_leaveFrame(e,r,n){let i=n?this.appendOrderStack:this.groupedOrderStack;if(this.addWeightsToNodes(r,i),n){const o=this.appendOrderStack.pop();if(o==null)throw new Error(`Trying to leave ${e.key} when stack is empty`);if(this.lastValue==null)throw new Error(`Trying to leave a ${e.key} before any have been entered`);if(o.freeze(),o.frame.key!==e.key)throw new Error(`Tried to leave frame "${e.name}" while frame "${o.frame.name}" was at the top at ${r}`);const s=r-this.lastValue;if(s>0)this.samples.push(o),this.weights.push(r-this.lastValue);else if(s<0)throw new Error(`Samples must be provided in increasing order of cumulative value. Last sample was ${this.lastValue}, this sample was ${r}`)}else this.groupedOrderStack.pop()}leaveFrame(e,r){const n=ee.getOrInsert(this.frames,e);this.addWeightsToFrames(r),this._leaveFrame(n,r,!0),this._leaveFrame(n,r,!1),this.stack.pop();const i=this.framesInStack.get(n);i!=null&&(i===1?this.framesInStack.delete(n):this.framesInStack.set(n,i-1),this.lastValue=r,this.totalWeight=Math.max(this.totalWeight,this.lastValue))}build(){if(this.appendOrderStack.length>1||this.groupedOrderStack.length>1)throw new Error("Tried to complete profile construction with a non-empty stack");return this.sortGroupedCallTree(),this}updateFrameArgs(e,r){const n=ee.getOrInsert(this.frames,e);n.args={...n.args,...r}}}function _i(t){return t.replace(/\\([a-fA-F0-9]{2})/g,(e,r)=>{const n=parseInt(r,16);return String.fromCharCode(n)})}function Lc(t){const e=t.split(`
`);if(!e.length||(e[e.length-1]===""&&e.pop(),!e.length))return null;const r=new Map,n=/^(\d+):(.+)$/,i=/^([\$\w]+):([\$\w-]+)$/;for(const o of e){const s=n.exec(o);if(s){r.set(`wasm-function[${s[1]}]`,_i(s[2]));continue}const a=i.exec(o);if(a){r.set(a[1],_i(a[2]));continue}return null}return o=>r.has(o.name)?{name:r.get(o.name)}:null}var ye;(t=>{(e=>{e.EVENTED="evented",e.SAMPLED="sampled"})(t.ProfileType||(t.ProfileType={})),(e=>{e.OPEN_FRAME="O",e.CLOSE_FRAME="C"})(t.EventType||(t.EventType={}))})(ye||(ye={}));const Pc="1.22.2";function Fc(t){const e=[],r=new Map;function n(s){let a=r.get(s);if(a==null){const l={name:s.name};s.file!=null&&(l.file=s.file),s.line!=null&&(l.line=s.line),s.col!=null&&(l.col=s.col),a=e.length,r.set(s,a),e.push(l)}return a}const i={exporter:`speedscope@${Pc}`,name:t.name,activeProfileIndex:t.indexToView,$schema:"https://www.speedscope.app/file-format-schema.json",shared:{frames:e},profiles:[]},o=tr.get();o&&(i.metadata=o);for(let s of t.profiles)i.profiles.push(Ac(s,n));return i}function Ac(t,e){const r={type:ye.ProfileType.EVENTED,name:t.getName(),unit:t.getWeightUnit(),startValue:0,endValue:t.getTotalWeight(),events:[]},n=(o,s)=>{r.events.push({type:ye.EventType.OPEN_FRAME,frame:e(o.frame),at:s})},i=(o,s)=>{r.events.push({type:ye.EventType.CLOSE_FRAME,frame:e(o.frame),at:s})};return t.forEachCall(n,i),r}function kc(t,e){function r(o){const{name:s,unit:a}=t;switch(a){case"nanoseconds":case"microseconds":case"milliseconds":case"seconds":o.setValueFormatter(new Tc(a));break;case"bytes":o.setValueFormatter(new Rc);break;case"none":o.setValueFormatter(new nn);break}o.setName(s)}function n(o){const{startValue:s,endValue:a,events:l}=o,f=new on(a-s);r(f);const d=e.map((u,p)=>({key:p,...u}));for(let u of l)switch(u.type){case ye.EventType.OPEN_FRAME:{f.enterFrame(d[u.frame],u.at-s);break}case ye.EventType.CLOSE_FRAME:{f.leaveFrame(d[u.frame],u.at-s);break}}return f.build()}function i(o){const{startValue:s,endValue:a,samples:l,weights:f}=o,d=new jr(a-s);r(d);const u=e.map((p,m)=>({key:m,...p}));if(l.length!==f.length)throw new Error(`Expected samples.length (${l.length}) to equal weights.length (${f.length})`);for(let p=0;p<l.length;p++){const m=l[p],C=f[p];d.appendSampleWithWeight(m.map(y=>u[y]),C)}return d.build()}switch(t.type){case ye.ProfileType.EVENTED:return n(t);case ye.ProfileType.SAMPLED:return i(t)}}function mu(t){return t.metadata&&tr.set(t.metadata),{name:t.name||t.profiles[0].name||"profile",indexToView:t.activeProfileIndex||0,profiles:t.profiles.map(e=>kc(e,t.shared.frames))}}function Mc(t){const e=Fc(t),r=new Blob([JSON.stringify(e)],{type:"text/json"}),i=`${(e.name?e.name.split(".")[0]:"profile").replace(/\W+/g,"_")}.speedscope.json`,o=document.createElement("a");o.download=i,o.href=window.URL.createObjectURL(r),o.dataset.downloadurl=["text/json",o.download,o.href].join(":"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}class pr{constructor(e){this.source=e,this.layers=[],this.totalWeight=0,this.minFrameWidth=1;const r=[],n=(o,s)=>{const a=Ee(r),l={node:o,parent:a,children:[],start:s,end:s};a&&a.children.push(l),r.push(l)};this.minFrameWidth=1/0;const i=(o,s)=>{const a=r.pop();if(a.end=s,a.end-a.start===0)return;const l=r.length;for(;this.layers.length<=l;)this.layers.push([]);this.layers[l].push(a),this.minFrameWidth=Math.min(this.minFrameWidth,a.end-a.start)};this.totalWeight=e.getTotalWeight(),e.forEachCall(n,i),isFinite(this.minFrameWidth)||(this.minFrameWidth=1)}getTotalWeight(){return this.totalWeight}getLayers(){return this.layers}getColorBucketForFrame(e){return this.source.getColorBucketForFrame(e)}getMinFrameWidth(){return this.minFrameWidth}formatValue(e){return this.source.formatValue(e)}getClampedViewportWidth(e){const r=this.getTotalWeight(),n=Math.pow(2,40),i=ue(3*this.getMinFrameWidth(),r/n,r);return ue(e,i,r)}getClampedConfigSpaceViewportRect({configSpaceViewportRect:e,renderInverted:r}){const n=new S(this.getTotalWeight(),this.getLayers().length),i=this.getClampedViewportWidth(e.size.x),o=e.size.withX(i),s=S.clamp(e.origin,new S(0,r?0:-1),S.max(S.zero,n.minus(o).plus(new S(0,1))));return new P(s,e.size.withX(i))}}const Vc=1e4;class wi{constructor(e,r,n){this.batch=e,this.bounds=r,this.numPrecedingRectanglesInRow=n,this.children=[]}getBatch(){return this.batch}getBounds(){return this.bounds}getRectCount(){return this.batch.getRectCount()}getChildren(){return this.children}getParity(){return this.numPrecedingRectanglesInRow%2}forEachLeafNodeWithinBounds(e,r){this.bounds.hasIntersectionWith(e)&&r(this)}}class Nc{constructor(e){if(this.children=e,this.rectCount=0,e.length===0)throw new Error("Empty interior node");let r=1/0,n=-1/0,i=1/0,o=-1/0;for(let s of e){this.rectCount+=s.getRectCount();const a=s.getBounds();r=Math.min(r,a.left()),n=Math.max(n,a.right()),i=Math.min(i,a.top()),o=Math.max(o,a.bottom())}this.bounds=new P(new S(r,i),new S(n-r,o-i))}getBounds(){return this.bounds}getRectCount(){return this.rectCount}getChildren(){return this.children}forEachLeafNodeWithinBounds(e,r){if(this.bounds.hasIntersectionWith(e))for(let n of this.children)n.forEachLeafNodeWithinBounds(e,r)}}class lr{get key(){return`${this.stackDepth}_${this.index}_${this.zoomLevel}`}constructor(e){this.stackDepth=e.stackDepth,this.zoomLevel=e.zoomLevel,this.index=e.index}static getOrInsert(e,r){return e.getOrInsert(new lr(r))}}class Ic{constructor(e,r,n,i,o,s={inverted:!1}){this.gl=e,this.rowAtlas=r,this.flamechart=n,this.rectangleBatchRenderer=i,this.colorPassRenderer=o,this.options=s,this.layers=[],this.rectInfoTexture=null,this.rectInfoRenderTarget=null,this.atlasKeys=new Ki;const a=n.getLayers().length;for(let l=0;l<a;l++){const f=[],d=s.inverted?a-1-l:l;let u=1/0,p=-1/0,m=new Wr(this.gl),C=0;const y=n.getLayers()[l];for(let _=0;_<y.length;_++){const x=y[_];m.getRectCount()>=Vc&&(f.push(new wi(m,new P(new S(u,d),new S(p-u,1)),C)),u=1/0,p=-1/0,m=new Wr(this.gl));const h=new P(new S(x.start,d),new S(x.end-x.start,1));u=Math.min(u,h.left()),p=Math.max(p,h.right());const g=new oe((1+_%255)/256,(1+l%255)/256,(1+this.flamechart.getColorBucketForFrame(x.node.frame))/256);m.addRect(h,g),C++}m.getRectCount()>0&&f.push(new wi(m,new P(new S(u,d),new S(p-u,1)),C)),this.layers.push(new Nc(f))}}getRectInfoTexture(e,r){if(this.rectInfoTexture){const n=this.rectInfoTexture;(n.width!=e||n.height!=r)&&n.resize(e,r)}else this.rectInfoTexture=this.gl.createTexture(H.TextureFormat.NEAREST_CLAMP,e,r);return this.rectInfoTexture}getRectInfoRenderTarget(e,r){const n=this.getRectInfoTexture(e,r);return this.rectInfoRenderTarget&&this.rectInfoRenderTarget.texture!=n&&(this.rectInfoRenderTarget.texture.free(),this.rectInfoRenderTarget.setColor(n)),this.rectInfoRenderTarget||(this.rectInfoRenderTarget=this.gl.createRenderTarget(n)),this.rectInfoRenderTarget}free(){this.rectInfoRenderTarget&&this.rectInfoRenderTarget.free(),this.rectInfoTexture&&this.rectInfoTexture.free()}configSpaceBoundsForKey(e){const{stackDepth:r,zoomLevel:n,index:i}=e,s=this.flamechart.getTotalWeight()/Math.pow(2,n),a=this.flamechart.getLayers().length,l=this.options.inverted?a-1-r:r;return new P(new S(s*i,l),new S(s,1))}render(e){const{configSpaceSrcRect:r,physicalSpaceDstRect:n}=e,i=[],o=A.betweenRects(r,n);if(r.isEmpty())return;let s=0;for(;;){const g=lr.getOrInsert(this.atlasKeys,{stackDepth:0,zoomLevel:s,index:0}),w=this.configSpaceBoundsForKey(g);if(o.transformRect(w).width()<this.rowAtlas.getResolution())break;s++}const a=Math.max(0,Math.floor(r.top())),l=Math.min(this.layers.length,Math.ceil(r.bottom())),f=this.flamechart.getTotalWeight(),d=Math.pow(2,s),u=Math.floor(d*r.left()/f),p=Math.ceil(d*r.right()/f),m=this.flamechart.getLayers().length;for(let g=a;g<l;g++)for(let w=u;w<=p;w++){const v=this.options.inverted?m-1-g:g,E=lr.getOrInsert(this.atlasKeys,{stackDepth:v,zoomLevel:s,index:w});this.configSpaceBoundsForKey(E).hasIntersectionWith(r)&&i.push(E)}const C=this.rowAtlas.getCapacity(),y=i.slice(0,C),_=i.slice(C);this.rowAtlas.writeToAtlasIfNeeded(y,(g,w)=>{const v=this.configSpaceBoundsForKey(w);this.layers[w.stackDepth].forEachLeafNodeWithinBounds(v,E=>{this.rectangleBatchRenderer.render({batch:E.getBatch(),configSpaceSrcRect:v,physicalSpaceDstRect:g})})});const x=this.getRectInfoRenderTarget(n.width(),n.height());go(this.gl,x,()=>{this.gl.clear(new H.Color(0,0,0,0));const g=new P(S.zero,new S(this.gl.viewport.width,this.gl.viewport.height)),w=A.betweenRects(r,g);for(let v of y){const E=this.configSpaceBoundsForKey(v);this.rowAtlas.renderViaAtlas(v,w.transformRect(E))}for(let v of _){const E=this.configSpaceBoundsForKey(v),T=w.transformRect(E);this.layers[v.stackDepth].forEachLeafNodeWithinBounds(E,L=>{this.rectangleBatchRenderer.render({batch:L.getBatch(),configSpaceSrcRect:E,physicalSpaceDstRect:T})})}});const h=this.getRectInfoTexture(n.width(),n.height());this.colorPassRenderer.render({rectInfoTexture:h,srcRect:new P(S.zero,new S(h.width,h.height)),dstRect:n,renderOutlines:e.renderOutlines})}}const Ze=ve(t=>pe.create({hoverCount:{color:t.weightColor},fill:{width:"100%",height:"100%",position:"absolute",left:0,top:0},minimap:{height:N.MINIMAP_HEIGHT,borderBottom:`${N.SEPARATOR_HEIGHT}px solid ${t.fgSecondaryColor}`},panZoomView:{flex:1},detailView:{display:"grid",height:N.DETAIL_VIEW_HEIGHT,overflow:"hidden",gridTemplateColumns:"120px 120px 1fr",gridTemplateRows:"repeat(4, 1fr)",borderTop:`${N.SEPARATOR_HEIGHT}px solid ${t.fgSecondaryColor}`,fontSize:K.LABEL,position:"absolute",background:t.bgPrimaryColor,width:"100vw",bottom:0},stackTraceViewPadding:{padding:5},stackTraceView:{height:N.DETAIL_VIEW_HEIGHT,lineHeight:`${K.LABEL+2}px`,overflow:"auto","::-webkit-scrollbar":{background:t.bgPrimaryColor},"::-webkit-scrollbar-thumb":{background:t.fgSecondaryColor,borderRadius:20,border:`3px solid ${t.bgPrimaryColor}`,":hover":{background:t.fgPrimaryColor}}},stackLine:{whiteSpace:"nowrap"},stackFileLine:{color:t.fgSecondaryColor},statsTable:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:`repeat(3, ${K.LABEL+10}px)`,gridGap:"1px 1px",textAlign:"center",paddingRight:1},statsTableHeader:{gridColumn:"1 / 3"},statsTableCell:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},thisInstanceCell:{background:t.selectionPrimaryColor,color:t.altFgPrimaryColor},allInstancesCell:{background:t.selectionSecondaryColor,color:t.altFgPrimaryColor},barDisplay:{position:"absolute",top:0,left:0,background:"rgba(0, 0, 0, 0.2)",width:"100%"}})),Ro="…",Bt=new Map;let vi=-1;function Pe(t,e){return window.devicePixelRatio!==vi&&(Bt.clear(),vi=window.devicePixelRatio),Bt.has(e)||Bt.set(e,t.measureText(e).width),Bt.get(e)}let Wt=null,Ci=-1;function Oc(t,e){if(window.devicePixelRatio!==Ci&&(Wt=null,Ci=window.devicePixelRatio),!Wt){const r=t.measureText(e);Wt=r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}return Wt}function Rr(t,e){if(t.length<=e)return{trimmedString:t,trimmedLength:t.length,prefixLength:t.length,suffixLength:0,originalString:t,originalLength:t.length};let r=Math.floor(e/2);const n=e-r-1,i=t.substring(0,r),o=t.substring(t.length-n,t.length),s=i+Ro+o;return{trimmedString:s,trimmedLength:s.length,prefixLength:i.length,suffixLength:o.length,originalString:t,originalLength:t.length}}function Hc(t,e,r){if(Pe(t,e)<=r)return Rr(e,e.length);const[n]=Es(0,e.length,i=>Pe(t,Rr(e,Math.floor(i)).trimmedString),r);return Rr(e,Math.floor(n))}function yi(t,e){return e<t.prefixLength?0:e<t.originalLength-t.suffixLength?2:1}function Dc(t,e){const r=[],n=t.originalLength-t.trimmedLength;let i=!1;for(let[o,s]of e){let a=yi(t,o),l=yi(t,s-1);switch(a){case 0:{switch(l){case 0:{r.push([o,s]);break}case 2:{r.push([o,t.prefixLength+1]),i=!0;break}case 1:{r.push([o,s-n]);break}}break}case 2:{switch(l){case 0:throw new Error("Unexpected highlight range starts in elided and ends in prefix");case 2:{i||(r.push([t.prefixLength,t.prefixLength+1]),i=!0);break}case 1:{i?r.push([t.trimmedLength-t.suffixLength,s-n]):(r.push([t.prefixLength,s-n]),i=!0);break}}break}case 1:{switch(l){case 0:throw new Error("Unexpected highlight range starts in suffix and ends in prefix");case 2:throw new Error("Unexpected highlight range starts in suffix and ends in elided");case 1:{r.push([o-n,s-n]);break}}break}}}return r}class Bc extends he{constructor(){super(...arguments),this.container=null,this.containerRef=e=>{this.container=e||null},this.overlayCanvas=null,this.overlayCtx=null,this.onWindowResize=()=>{this.onBeforeFrame()},this.onBeforeFrame=()=>{this.maybeClearInteractionLock(),this.resizeOverlayCanvasIfNeeded(),this.renderRects(),this.renderOverlays()},this.renderCanvas=()=>{this.props.canvasContext.requestFrame()},this.frameHadWheelEvent=!1,this.framesWithoutWheelEvents=0,this.interactionLock=null,this.maybeClearInteractionLock=()=>{this.interactionLock&&(this.frameHadWheelEvent||(this.framesWithoutWheelEvents++,this.framesWithoutWheelEvents>=2&&(this.interactionLock=null,this.framesWithoutWheelEvents=0)),this.props.canvasContext.requestFrame()),this.frameHadWheelEvent=!1},this.onWheel=e=>{if(e.preventDefault(),this.frameHadWheelEvent=!0,(e.metaKey||e.ctrlKey)&&this.interactionLock!=="pan"){let n=1+e.deltaY/100;e.ctrlKey&&(n=1+e.deltaY/40),n=ue(n,.1,10),this.zoom(n)}else this.interactionLock!=="zoom"&&this.pan(new S(e.deltaX,e.deltaY));this.renderCanvas()},this.dragStartConfigSpaceMouse=null,this.dragConfigSpaceViewportOffset=null,this.draggingMode=null,this.onMouseDown=e=>{const r=this.configSpaceMouse(e);r&&(this.props.configSpaceViewportRect.contains(r)?(this.draggingMode=1,this.dragConfigSpaceViewportOffset=r.minus(this.props.configSpaceViewportRect.origin)):this.draggingMode=0,this.dragStartConfigSpaceMouse=r,window.addEventListener("mousemove",this.onWindowMouseMove),window.addEventListener("mouseup",this.onWindowMouseUp),this.updateCursor(r))},this.onWindowMouseMove=e=>{if(!this.dragStartConfigSpaceMouse)return;let r=this.configSpaceMouse(e);if(r){if(this.updateCursor(r),r=new P(new S(0,0),this.configSpaceSize()).closestPointTo(r),this.draggingMode===0){const n=this.dragStartConfigSpaceMouse;let i=r;if(!n||!i)return;const o=Math.min(n.x,i.x),a=Math.max(n.x,i.x)-o,l=this.props.configSpaceViewportRect.height();this.props.setConfigSpaceViewportRect(new P(new S(o,i.y-l/2),new S(a,l)))}else if(this.draggingMode===1){if(!this.dragConfigSpaceViewportOffset)return;const n=r.minus(this.dragConfigSpaceViewportOffset);this.props.setConfigSpaceViewportRect(this.props.configSpaceViewportRect.withOrigin(n))}}},this.updateCursor=e=>{this.draggingMode===1?(document.body.style.cursor="grabbing",document.body.style.cursor="-webkit-grabbing"):this.draggingMode===0?document.body.style.cursor="col-resize":this.props.configSpaceViewportRect.contains(e)?(document.body.style.cursor="grab",document.body.style.cursor="-webkit-grab"):document.body.style.cursor="col-resize"},this.onMouseLeave=()=>{this.draggingMode==null&&(document.body.style.cursor="default")},this.onMouseMove=e=>{const r=this.configSpaceMouse(e);r&&this.updateCursor(r)},this.onWindowMouseUp=e=>{this.draggingMode=null,window.removeEventListener("mousemove",this.onWindowMouseMove),window.removeEventListener("mouseup",this.onWindowMouseUp);const r=this.configSpaceMouse(e);r&&this.updateCursor(r)},this.overlayCanvasRef=e=>{e?(this.overlayCanvas=e,this.overlayCtx=this.overlayCanvas.getContext("2d"),this.renderCanvas()):(this.overlayCanvas=null,this.overlayCtx=null)}}physicalViewSize(){return new S(this.overlayCanvas?this.overlayCanvas.width:0,this.overlayCanvas?this.overlayCanvas.height:0)}getStyle(){return Ze(this.props.theme)}minimapOrigin(){return new S(0,N.FRAME_HEIGHT*window.devicePixelRatio)}configSpaceSize(){return new S(this.props.flamechart.getTotalWeight(),this.props.flamechart.getLayers().length)}configSpaceToPhysicalViewSpace(){const e=this.minimapOrigin();return A.betweenRects(new P(new S(0,0),this.configSpaceSize()),new P(e,this.physicalViewSize().minus(e)))}logicalToPhysicalViewSpace(){return A.withScale(new S(window.devicePixelRatio,window.devicePixelRatio))}windowToLogicalViewSpace(){if(!this.container)return new A;const e=this.container.getBoundingClientRect();return A.withTranslation(new S(-e.left,-e.top))}renderRects(){this.container&&(this.physicalViewSize().x<2||this.props.canvasContext.renderBehind(this.container,()=>{this.props.flamechartRenderer.render({configSpaceSrcRect:new P(new S(0,0),this.configSpaceSize()),physicalSpaceDstRect:new P(this.minimapOrigin(),this.physicalViewSize().minus(this.minimapOrigin())),renderOutlines:!1}),this.props.canvasContext.viewportRectangleRenderer.render({configSpaceViewportRect:this.props.configSpaceViewportRect,configSpaceToPhysicalViewSpace:this.configSpaceToPhysicalViewSpace()})}))}renderOverlays(){const e=this.overlayCtx;if(!e)return;const r=this.physicalViewSize();e.clearRect(0,0,r.x,r.y);const n=this.configSpaceToPhysicalViewSpace(),i=0,o=this.configSpaceSize().x,a=(this.configSpaceToPhysicalViewSpace().inverted()||new A).times(this.logicalToPhysicalViewSpace()).transformVector(new S(200,1)).x,l=N.FRAME_HEIGHT*window.devicePixelRatio,f=K.LABEL*window.devicePixelRatio,d=(l-f)/2;e.font=`${f}px/${l}px ${Ke.MONOSPACE}`,e.textBaseline="top";let p=Math.pow(10,Math.floor(Math.log10(a)));a/p>5?p*=5:a/p>2&&(p*=2);const m=this.props.theme;{e.fillStyle=oe.fromCSSHex(m.bgPrimaryColor).withAlpha(.8).toCSS(),e.fillRect(0,0,r.x,l),e.textBaseline="top";for(let _=Math.ceil(i/p)*p;_<o;_+=p){const x=Math.round(n.transformPosition(new S(_,0)).x),h=this.props.flamechart.formatValue(_),g=Math.ceil(Pe(e,h));e.fillStyle=m.fgPrimaryColor,e.fillText(h,x-g-d,d),e.fillStyle=m.fgSecondaryColor,e.fillRect(x,0,1,r.y)}}const C=Ve.get();if(!this.props.enableTimestampPointer||!C)return;const{physicalSpacePos:y}=Xi(C,n);0>y||r.x<y||(e.fillStyle=m.fgSecondaryColor,e.fillRect(y,l,N.TIMESTAMP_INDICATOR_WIDTH,r.y))}componentWillReceiveProps(e){this.props.flamechart!==e.flamechart?this.renderCanvas():this.props.configSpaceViewportRect!=e.configSpaceViewportRect?this.renderCanvas():this.props.canvasContext!==e.canvasContext&&(this.props.canvasContext&&this.props.canvasContext.removeBeforeFrameHandler(this.onBeforeFrame),e.canvasContext&&(e.canvasContext.addBeforeFrameHandler(this.onBeforeFrame),e.canvasContext.requestFrame()))}componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.props.canvasContext.addBeforeFrameHandler(this.onBeforeFrame)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize),this.props.canvasContext.removeBeforeFrameHandler(this.onBeforeFrame)}resizeOverlayCanvasIfNeeded(){if(!this.overlayCanvas)return;let{width:e,height:r}=this.overlayCanvas.getBoundingClientRect();if(e=Math.floor(e),r=Math.floor(r),e===0||r===0)return;const n=e*window.devicePixelRatio,i=r*window.devicePixelRatio;n===this.overlayCanvas.width&&i===this.overlayCanvas.height||(this.overlayCanvas.width=n,this.overlayCanvas.height=i)}pan(e){this.interactionLock="pan";const r=this.logicalToPhysicalViewSpace().transformVector(e),n=this.configSpaceToPhysicalViewSpace().inverseTransformVector(r);n&&this.props.transformViewport(A.withTranslation(n))}zoom(e){this.interactionLock="zoom";const r=this.props.configSpaceViewportRect,n=r.origin.plus(r.size.times(1/2));if(!n)return;const i=A.withTranslation(n.times(-1)).scaledBy(new S(e,1)).translatedBy(n);this.props.transformViewport(i)}configSpaceMouse(e){const r=this.windowToLogicalViewSpace().transformPosition(new S(e.clientX,e.clientY)),n=this.logicalToPhysicalViewSpace().transformPosition(r);return this.configSpaceToPhysicalViewSpace().inverseTransformPosition(n)}render(){const e=this.getStyle();return c("div",{ref:this.containerRef,onWheel:this.onWheel,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,className:b(e.minimap,ae.vbox),children:c("canvas",{width:1,height:1,ref:this.overlayCanvasRef,className:b(e.fill)})})}}function Lo(t){const e=Wc($());return c("span",{className:b(e.stackChit),style:{backgroundColor:t.color}})}const Wc=ve(t=>pe.create({stackChit:{position:"relative",top:-1,display:"inline-block",verticalAlign:"middle",marginRight:"0.5em",border:`1px solid ${t.fgSecondaryColor}`,width:K.LABEL-2,height:K.LABEL-2}}));function Si(t){const e=Ze($()),r=t.formatter(t.selectedTotal),n=t.formatter(t.selectedSelf),i=100*t.selectedTotal/t.grandTotal,o=100*t.selectedSelf/t.grandTotal;return c("div",{className:b(e.statsTable),children:[c("div",{className:b(t.cellStyle,e.statsTableCell,e.statsTableHeader),children:t.title}),c("div",{className:b(t.cellStyle,e.statsTableCell),children:"Total"}),c("div",{className:b(t.cellStyle,e.statsTableCell),children:"Self"}),c("div",{className:b(t.cellStyle,e.statsTableCell),children:r}),c("div",{className:b(t.cellStyle,e.statsTableCell),children:n}),c("div",{className:b(t.cellStyle,e.statsTableCell),children:[Be(i),c("div",{className:b(e.barDisplay),style:{height:`${i}%`}})]}),c("div",{className:b(t.cellStyle,e.statsTableCell),children:[Be(o),c("div",{className:b(e.barDisplay),style:{height:`${o}%`}})]})]})}function zc(t){const e=Ze($()),r=[];let n=t.node;for(;n&&!n.isRoot();n=n.parent){const i=[],{frame:o}=n;if(i.push(c(Lo,{color:t.getFrameColor(o)})),r.length&&i.push(c("span",{className:b(e.stackFileLine),children:"> "})),i.push(o.name),o.file){let s=o.file;o.line!=null&&(s+=`:${o.line}`,o.col!=null&&(s+=`:${o.col}`)),i.push(c("span",{className:b(e.stackFileLine),children:[" (",s,")"]}))}r.push(c("div",{className:b(e.stackLine),children:i}))}return c("div",{className:b(e.stackTraceView),children:c("div",{className:b(e.stackTraceViewPadding),children:r})})}function $c(t){const e=Ze($()),{flamechart:r,selectedNode:n}=t,{frame:i}=n;return c("div",{className:b(e.detailView),children:[c(Si,{title:"This Instance",cellStyle:e.thisInstanceCell,grandTotal:r.getTotalWeight(),selectedTotal:n.getTotalWeight(),selectedSelf:n.getSelfWeight(),formatter:r.formatValue.bind(r)}),c(Si,{title:"All Instances",cellStyle:e.allInstancesCell,grandTotal:r.getTotalWeight(),selectedTotal:i.getTotalWeight(),selectedSelf:i.getSelfWeight(),formatter:r.formatValue.bind(r)}),c(zc,{node:n,getFrameColor:t.getCSSColorForFrame})]})}class xi{constructor(){this.argsBatch=[]}text(e){this.argsBatch.push(e)}fill(e,r){if(this.argsBatch.length!==0){e.fillStyle=r;for(let n of this.argsBatch)e.fillText(n.text,n.x,n.y);this.argsBatch=[]}}}class zt{constructor(){this.argsBatch=[]}rect(e){this.argsBatch.push(e)}drawPath(e){e.beginPath();for(let r of this.argsBatch)e.rect(r.x,r.y,r.w,r.h);e.closePath(),this.argsBatch=[]}fill(e,r){this.argsBatch.length!==0&&(e.fillStyle=r,this.drawPath(e),e.fill())}stroke(e,r,n){this.argsBatch.length!==0&&(e.strokeStyle=r,e.lineWidth=n,this.drawPath(e),e.stroke())}}class Po extends he{constructor(){super(...arguments),this.container=null,this.containerRef=e=>{this.container=e||null},this.overlayCanvas=null,this.overlayCtx=null,this.hoveredLabel=null,this.overlayCanvasRef=e=>{e?(this.overlayCanvas=e,this.overlayCtx=this.overlayCanvas.getContext("2d"),this.renderCanvas()):(this.overlayCanvas=null,this.overlayCtx=null)},this.LOGICAL_VIEW_SPACE_FRAME_HEIGHT=N.FRAME_HEIGHT,this.onWindowResize=()=>{this.updateConfigSpaceViewport(),this.onBeforeFrame()},this.frameHadWheelEvent=!1,this.framesWithoutWheelEvents=0,this.interactionLock=null,this.maybeClearInteractionLock=()=>{this.interactionLock&&(this.frameHadWheelEvent||(this.framesWithoutWheelEvents++,this.framesWithoutWheelEvents>=2&&(this.interactionLock=null,this.framesWithoutWheelEvents=0)),this.props.canvasContext.requestFrame()),this.frameHadWheelEvent=!1},this.onBeforeFrame=()=>{this.resizeOverlayCanvasIfNeeded(),this.renderRects(),this.renderOverlays(),this.maybeClearInteractionLock()},this.renderCanvas=()=>{this.props.canvasContext.requestFrame()},this.lastDragPos=null,this.mouseDownPos=null,this.onMouseDown=e=>{this.mouseDownPos=this.lastDragPos=new S(e.offsetX,e.offsetY),this.updateCursor(),window.addEventListener("mouseup",this.onWindowMouseUp)},this.onMouseDrag=e=>{if(!this.lastDragPos)return;const r=new S(e.offsetX,e.offsetY);this.pan(this.lastDragPos.minus(r)),this.lastDragPos=r,this.hoveredLabel&&this.props.onNodeHover(null)},this.onDblClick=e=>{if(this.hoveredLabel){const r=this.hoveredLabel.configSpaceBounds,n=new P(r.origin.minus(new S(0,1)),r.size.withY(this.props.configSpaceViewportRect.height()));this.setConfigSpaceViewportRect(n)}},this.onClick=e=>{const r=new S(e.offsetX,e.offsetY),n=this.mouseDownPos;this.mouseDownPos=null,!(n&&r.minus(n).length()>5)&&(this.hoveredLabel?(this.props.onNodeSelect(this.hoveredLabel.node),this.renderCanvas()):this.props.onNodeSelect(null))},this.onWindowMouseUp=e=>{this.lastDragPos=null,this.updateCursor(),window.removeEventListener("mouseup",this.onWindowMouseUp)},this.setTimestampHoveredAtom=e=>{this.props.enableTimestampPointer&&(Ve.unsubscribe(this.renderCanvas),Ve.set(e),Ve.subscribe(this.renderCanvas))},this.onMouseMove=e=>{this.updateCursor();const r=new S(e.offsetX,e.offsetY),n=this.logicalToPhysicalViewSpace().transformPosition(r),i=this.configSpaceToPhysicalViewSpace().inverseTransformPosition(n);if(i&&this.setTimestampHoveredAtom({x:i.x/1e3,yProc:.5}),this.lastDragPos){e.preventDefault(),this.onMouseDrag(e);return}if(!i)return;const o=(a,l=0)=>{const f=a.end-a.start,d=this.props.renderInverted?this.configSpaceSize().y-1-l:l,u=new P(new S(a.start,d),new S(f,1));if(i.x<u.left()||i.x>u.right())return null;u.contains(i)&&(this.hoveredLabel={configSpaceBounds:u,node:a.node});for(let p of a.children)o(p,l+1)};(()=>{this.hoveredLabel=null})();for(let a of this.props.flamechart.getLayers()[0]||[])o(a);this.hoveredLabel?this.props.onNodeHover({node:this.hoveredLabel.node,event:e}):this.props.onNodeHover(null),this.renderCanvas()},this.onMouseLeave=e=>{this.hoveredLabel=null,this.setTimestampHoveredAtom(null),this.props.onNodeHover(null),this.renderCanvas()},this.onWheel=e=>{e.preventDefault(),this.frameHadWheelEvent=!0;const r=e.metaKey||e.ctrlKey;let n=e.deltaY,i=e.deltaX;if(e.deltaMode===e.DOM_DELTA_LINE&&(n*=this.LOGICAL_VIEW_SPACE_FRAME_HEIGHT,i*=this.LOGICAL_VIEW_SPACE_FRAME_HEIGHT),r&&this.interactionLock!=="pan"){let o=1+n/100;e.ctrlKey&&(o=1+n/40),o=ue(o,.1,10),this.zoom(new S(e.offsetX,e.offsetY),o)}else this.interactionLock!=="zoom"&&this.pan(new S(i,n));this.renderCanvas()},this.onWindowKeyPress=e=>{if(!this.container)return;const{width:r,height:n}=this.container.getBoundingClientRect();e.key==="="||e.key==="+"?(this.zoom(new S(r/2,n/2),.5),e.preventDefault()):(e.key==="-"||e.key==="_")&&(this.zoom(new S(r/2,n/2),2),e.preventDefault()),!(e.ctrlKey||e.shiftKey||e.metaKey)&&(e.key==="0"?this.zoom(new S(r/2,n/2),1e9):e.key==="ArrowRight"||e.code==="KeyD"?this.pan(new S(100,0)):e.key==="ArrowLeft"||e.code==="KeyA"?this.pan(new S(-100,0)):e.key==="ArrowUp"||e.code==="KeyW"?this.pan(new S(0,-100)):e.key==="ArrowDown"||e.code==="KeyS"?this.pan(new S(0,100)):e.key==="Escape"&&(this.props.onNodeSelect(null),this.renderCanvas()))}}getStyle(){return Ze(this.props.theme)}setConfigSpaceViewportRect(e){this.props.setConfigSpaceViewportRect(e)}configSpaceSize(){return new S(this.props.flamechart.getTotalWeight(),this.props.flamechart.getLayers().length)}physicalViewSize(){return new S(this.overlayCanvas?this.overlayCanvas.width:0,this.overlayCanvas?this.overlayCanvas.height:0)}physicalBounds(){if(this.props.renderInverted){const e=this.physicalViewSize().y,r=(this.configSpaceSize().y+1)*this.LOGICAL_VIEW_SPACE_FRAME_HEIGHT*window.devicePixelRatio;if(r<e)return new P(new S(0,e-r),this.physicalViewSize())}return new P(new S(0,0),this.physicalViewSize())}configSpaceToPhysicalViewSpace(){return A.betweenRects(this.props.configSpaceViewportRect,this.physicalBounds())}logicalToPhysicalViewSpace(){return A.withScale(new S(window.devicePixelRatio,window.devicePixelRatio))}resizeOverlayCanvasIfNeeded(){if(!this.overlayCanvas)return;let{width:e,height:r}=this.overlayCanvas.getBoundingClientRect();if(e=Math.floor(e),r=Math.floor(r),e===0||r===0)return;const n=e*window.devicePixelRatio,i=r*window.devicePixelRatio;n===this.overlayCanvas.width&&i===this.overlayCanvas.height||(this.overlayCanvas.width=n,this.overlayCanvas.height=i)}renderOverlays(){const e=this.overlayCtx;if(!e||this.props.configSpaceViewportRect.isEmpty())return;const r=this.configSpaceToPhysicalViewSpace(),n=K.LABEL*window.devicePixelRatio,i=this.LOGICAL_VIEW_SPACE_FRAME_HEIGHT*window.devicePixelRatio,o=this.physicalViewSize();e.clearRect(0,0,o.x,o.y),e.font=`${n}px/${i}px ${Ke.MONOSPACE}`,e.textBaseline="alphabetic";const s=Pe(e,"M"+Ro+"M"),a=(r.inverseTransformVector(new S(s,0))||new S(0,0)).x,l=5*window.devicePixelRatio,f=new xi,d=new xi,u=new zt,p=new zt,m=new zt,C=new zt,y=(w,v=0)=>{var k;const E=w.end-w.start,T=this.props.renderInverted?this.configSpaceSize().y-1-v:v,L=new P(new S(w.start,T),new S(E,1));if(!(E<a)&&!(L.left()>this.props.configSpaceViewportRect.right())&&!(L.right()<this.props.configSpaceViewportRect.left())){if(this.props.renderInverted){if(L.bottom()<this.props.configSpaceViewportRect.top())return}else if(L.top()>this.props.configSpaceViewportRect.bottom())return;if(L.hasIntersectionWith(this.props.configSpaceViewportRect)){let F=r.transformRect(L);if(F.left()<0&&(F=F.withOrigin(F.origin.withX(0)).withSize(F.size.withX(F.size.x+F.left()))),F.right()>o.x&&(F=F.withSize(F.size.withX(o.x-F.left()))),F.width()>s){const I=(k=this.props.searchResults)==null?void 0:k.getMatchForFrame(w.node.frame),B=Hc(e,w.node.frame.name,F.width()-2*l);if(I){const Me=Dc(B,I);let hn=0,vr=F.left()+l;const un=(i-n)/2-2;for(let[fn,dn]of Me){vr+=Pe(e,B.trimmedString.substring(hn,fn));const pn=Pe(e,B.trimmedString.substring(fn,dn));u.rect({x:vr,y:F.top()+un,w:pn,h:i-2*un}),vr+=pn,hn=dn}}(this.props.searchResults!=null&&!I?d:f).text({text:B.trimmedString,x:F.left()+l,y:Math.round(F.bottom()-(i-n)/2)})}}for(let F of w.children)y(F,v+1)}},_=2*window.devicePixelRatio;e.strokeStyle=this.props.theme.selectionSecondaryColor;const x=(r.inverseTransformVector(new S(1,0))||new S(0,0)).x,h=(w,v=0)=>{var k;if(!this.props.selectedNode&&this.props.searchResults==null)return;const E=w.end-w.start,T=this.props.renderInverted?this.configSpaceSize().y-1-v:v,L=new P(new S(w.start,T),new S(E,1));if(!(E<x)&&!(L.left()>this.props.configSpaceViewportRect.right())&&!(L.right()<this.props.configSpaceViewportRect.left())&&!(L.top()>this.props.configSpaceViewportRect.bottom())){if(L.hasIntersectionWith(this.props.configSpaceViewportRect)){if((k=this.props.searchResults)!=null&&k.getMatchForFrame(w.node.frame)){const F=r.transformRect(L);C.rect({x:Math.round(F.left()+_/2),y:Math.round(F.top()+_/2),w:Math.round(Math.max(0,F.width()-_)),h:Math.round(Math.max(0,F.height()-_))})}if(this.props.selectedNode!=null&&w.node.frame===this.props.selectedNode.frame){let F=w.node===this.props.selectedNode?p:m;const I=r.transformRect(L);F.rect({x:Math.round(I.left()+1+_/2),y:Math.round(I.top()+1+_/2),w:Math.round(Math.max(0,I.width()-2-_)),h:Math.round(Math.max(0,I.height()-2-_))})}}for(let F of w.children)h(F,v+1)}};for(let w of this.props.flamechart.getLayers()[0]||[])h(w);for(let w of this.props.flamechart.getLayers()[0]||[])y(w);const g=this.props.theme;if(C.fill(e,g.searchMatchPrimaryColor),u.fill(e,g.searchMatchSecondaryColor),d.fill(e,g.fgSecondaryColor),f.fill(e,this.props.searchResults!=null?g.searchMatchTextColor:g.fgPrimaryColor),m.stroke(e,g.selectionSecondaryColor,_),p.stroke(e,g.selectionPrimaryColor,_),this.hoveredLabel){let w=g.fgPrimaryColor;this.props.selectedNode===this.hoveredLabel.node&&(w=g.selectionPrimaryColor),e.lineWidth=2*devicePixelRatio,e.strokeStyle=w;const v=r.transformRect(this.hoveredLabel.configSpaceBounds);e.strokeRect(Math.round(v.left()),Math.round(v.top()),Math.round(Math.max(0,v.width())),Math.round(Math.max(0,v.height())))}this.renderTimeIndicators()}renderTimeIndicators(){const e=this.overlayCtx;if(!e)return;const r=this.LOGICAL_VIEW_SPACE_FRAME_HEIGHT*window.devicePixelRatio,n=this.physicalViewSize(),i=this.configSpaceToPhysicalViewSpace(),o=K.LABEL*window.devicePixelRatio,s=(r-o)/2,a=this.props.configSpaceViewportRect.left(),l=this.props.configSpaceViewportRect.right(),d=(this.configSpaceToPhysicalViewSpace().inverted()||new A).times(this.logicalToPhysicalViewSpace()).transformVector(new S(200,1)).x;let p=Math.pow(10,Math.floor(Math.log10(d)));d/p>5?p*=5:d/p>2&&(p*=2);const m=this.props.theme;{const g=this.props.renderInverted?n.y-r:0;e.fillStyle=oe.fromCSSHex(m.bgPrimaryColor).withAlpha(.8).toCSS(),e.fillRect(0,g,n.x,r),e.textBaseline="top";for(let w=Math.ceil(a/p)*p;w<l;w+=p){const v=Math.round(i.transformPosition(new S(w,0)).x),E=this.props.flamechart.formatValue(w),T=Pe(e,E);e.fillStyle=m.fgPrimaryColor,e.fillText(E,v-T-s,g+s),e.fillStyle=m.fgSecondaryColor,e.fillRect(v,0,1,n.y)}}const C=Ve.get();if(!this.props.enableTimestampPointer||!C)return;const{configSpacePos:y,physicalSpacePos:_}=Xi(C,i);if(0>_||n.x<_)return;const x=this.props.flamechart.formatValue(y),h=e.measureText(x).width;e.fillStyle=m.fgPrimaryColor,e.fillText(x,_+2*s+h<n.x?_+s:_-h-s,n.y-s-Oc(e,x)-(this.props.selectedNode?N.DETAIL_VIEW_HEIGHT*window.devicePixelRatio:0)),e.fillStyle=m.fgSecondaryColor,e.fillRect(_,0,N.TIMESTAMP_INDICATOR_WIDTH,n.y)}updateConfigSpaceViewport(){if(!this.container)return;const{logicalSpaceViewportSize:e}=this.props,r=this.container.getBoundingClientRect(),{width:n,height:i}=r;if(n<2||i<2)return;if(this.props.configSpaceViewportRect.isEmpty()){const s=i/this.LOGICAL_VIEW_SPACE_FRAME_HEIGHT;this.props.renderInverted?this.setConfigSpaceViewportRect(new P(new S(0,this.configSpaceSize().y-s+1),new S(this.configSpaceSize().x,s))):this.setConfigSpaceViewportRect(new P(new S(0,-1),new S(this.configSpaceSize().x,s)))}else!e.equals(S.zero)&&(e.x!==n||e.y!==i)&&this.setConfigSpaceViewportRect(this.props.configSpaceViewportRect.withSize(this.props.configSpaceViewportRect.size.timesPointwise(new S(n/e.x,i/e.y))));const o=new S(n,i);o.equals(e)||this.props.setLogicalSpaceViewportSize(o)}renderRects(){this.container&&(this.updateConfigSpaceViewport(),!this.props.configSpaceViewportRect.isEmpty()&&this.props.canvasContext.renderBehind(this.container,()=>{this.props.flamechartRenderer.render({physicalSpaceDstRect:this.physicalBounds(),configSpaceSrcRect:this.props.configSpaceViewportRect,renderOutlines:!0})}))}pan(e){this.interactionLock="pan";const r=this.logicalToPhysicalViewSpace().transformVector(e),n=this.configSpaceToPhysicalViewSpace().inverseTransformVector(r);this.hoveredLabel&&this.props.onNodeHover(null),n&&this.props.transformViewport(A.withTranslation(n))}zoom(e,r){this.interactionLock="zoom";const n=this.logicalToPhysicalViewSpace().transformPosition(e),i=this.configSpaceToPhysicalViewSpace().inverseTransformPosition(n);if(!i)return;const o=A.withTranslation(i.times(-1)).scaledBy(new S(r,1)).translatedBy(i);this.props.transformViewport(o)}updateCursor(){this.lastDragPos?(document.body.style.cursor="grabbing",document.body.style.cursor="-webkit-grabbing"):document.body.style.cursor="default"}shouldComponentUpdate(){return!1}componentWillReceiveProps(e){this.props.flamechart!==e.flamechart?(this.hoveredLabel=null,this.renderCanvas()):this.props.searchResults!==e.searchResults?this.renderCanvas():this.props.selectedNode!==e.selectedNode?this.renderCanvas():this.props.configSpaceViewportRect!==e.configSpaceViewportRect?this.renderCanvas():this.props.canvasContext!==e.canvasContext&&(this.props.canvasContext&&this.props.canvasContext.removeBeforeFrameHandler(this.onBeforeFrame),e.canvasContext&&(e.canvasContext.addBeforeFrameHandler(this.onBeforeFrame),e.canvasContext.requestFrame()))}componentDidMount(){this.props.canvasContext.addBeforeFrameHandler(this.onBeforeFrame),window.addEventListener("resize",this.onWindowResize),window.addEventListener("keydown",this.onWindowKeyPress)}componentWillUnmount(){this.props.canvasContext.removeBeforeFrameHandler(this.onBeforeFrame),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("keydown",this.onWindowKeyPress)}render(){const e=this.getStyle();return this.props.enableTimestampPointer&&Ve.subscribe(this.renderCanvas),c("div",{className:b(e.panZoomView,ae.vbox),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onDblClick:this.onDblClick,onWheel:this.onWheel,ref:this.containerRef,children:c("canvas",{width:1,height:1,ref:this.overlayCanvasRef,className:b(e.fill)})})}}function Fo(t){const e=Uc($()),{containerSize:r,offset:n}=t,i=r.x,o=r.y,s=7,a=D(l=>{if(!l)return;const f=l.getBoundingClientRect();let d=n.x+s;d+f.width>i-1&&(d=i-f.width-1,d<1&&(d=1)),l.style.left=`${d}px`;let u=n.y+s;u+f.height>o-1&&(u=n.y-f.height-1,u<1&&(u=1)),l.style.top=`${u}px`},[i,o,n.x,n.y]);return c("div",{className:b(e.hoverTip),ref:a,children:c("div",{className:b(e.hoverTipRow),children:t.children})})}const $t=2,Uc=ve(t=>pe.create({hoverTip:{position:"absolute",background:t.bgPrimaryColor,border:"1px solid black",maxWidth:N.TOOLTIP_WIDTH_MAX,paddingTop:$t,paddingBottom:$t,pointerEvents:"none",userSelect:"none",fontSize:K.LABEL,fontFamily:Ke.MONOSPACE,zIndex:rn.HOVERTIP},hoverTipRow:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflowX:"hidden",paddingLeft:$t,paddingRight:$t,maxWidth:N.TOOLTIP_WIDTH_MAX}})),Ao=cr(null),ko=({flamechart:t,selectedNode:e,setSelectedNode:r,configSpaceViewportRect:n,setConfigSpaceViewportRect:i,children:o})=>{const s=je(fr),a=Y(()=>s==null?null:new xc(t,s),[t,s]);return c(Ao.Provider,{value:{results:a,flamechart:t,selectedNode:e,setSelectedNode:r,configSpaceViewportRect:n,setConfigSpaceViewportRect:i},children:o})},Gc=W(()=>{const t=je(Ao),e=t==null?null:t.results,r=t==null?null:t.selectedNode,n=t==null?null:t.setSelectedNode,i=t==null?null:t.configSpaceViewportRect,o=t==null?null:t.setConfigSpaceViewportRect,s=t==null?null:t.flamechart,a=e==null?null:e.count(),l=Y(()=>e==null||r==null?null:e.indexOf(r),[e,r]),f=D(p=>{if(!n||!s||!i||!o)return;const m=p.configSpaceBounds,C=new P(m.origin.minus(new S(0,1)),m.size.withY(i.height()));n(p.node),o(s.getClampedConfigSpaceViewportRect({configSpaceViewportRect:C}))},[i,o,n,s]),{selectPrev:d,selectNext:u}=Y(()=>a==null||a===0||e==null?{selectPrev:()=>{},selectNext:()=>{}}:{selectPrev:()=>{if(!(e!=null&&e.at)||a==null||a===0)return;let p=l==null?a-1:l-1;p<0&&(p=a-1);const m=e.at(p);f(m)},selectNext:()=>{if(!(e!=null&&e.at)||a==null||a===0)return;let p=l==null?0:l+1;p>=a&&(p=0);const m=e.at(p);f(m)}},[a,l,e,f]);return c(Eo,{resultIndex:l,numResults:a,selectPrev:d,selectNext:u})});class mt extends he{}class Mo extends mt{constructor(){super(...arguments),this.setConfigSpaceViewportRect=e=>{if(this.props.configSpaceViewportRect.approxEquals(e))return;const r=N.DETAIL_VIEW_HEIGHT/N.FRAME_HEIGHT,n=this.configSpaceSize(),i=this.props.flamechart.getClampedViewportWidth(e.size.x),o=e.size.withX(i),s=S.clamp(e.origin,new S(0,-1),S.max(S.zero,n.minus(o).plus(new S(0,r+1)))),a=new P(s,e.size.withX(i));this.props.configSpaceViewportRect.approxEquals(a)||this.props.setConfigSpaceViewportRect(a)},this.setLogicalSpaceViewportSize=e=>{this.props.setLogicalSpaceViewportSize(e)},this.transformViewport=e=>{const r=e.transformRect(this.props.configSpaceViewportRect);this.setConfigSpaceViewportRect(r)},this.onNodeHover=e=>{this.props.setNodeHover(e)},this.onNodeClick=e=>{this.props.setSelectedNode(e)},this.container=null,this.containerRef=e=>{this.container=e||null}}getStyle(){return Ze(this.props.theme)}configSpaceSize(){return new S(this.props.flamechart.getTotalWeight(),this.props.flamechart.getLayers().length)}formatValue(e){const r=this.props.flamechart.getTotalWeight(),n=100*e/r,i=Be(n);return`${this.props.flamechart.formatValue(e)} (${i})`}renderTooltip(){if(!this.container)return null;const{hover:e}=this.props;if(!e)return null;const{width:r,height:n,left:i,top:o}=this.container.getBoundingClientRect(),s=new S(e.event.clientX-i,e.event.clientY-o),a=e.node.frame,l=this.getStyle();return c(Fo,{containerSize:new S(r,n),offset:s,children:[c("span",{className:b(l.hoverCount),children:this.formatValue(e.node.getTotalWeight())})," ",a.name,a.file?c("div",{children:[a.file,":",a.line]}):void 0]})}render(){const e=this.getStyle();return c("div",{className:b(e.fill,ae.vbox),ref:this.containerRef,children:[c(Bc,{theme:this.props.theme,configSpaceViewportRect:this.props.configSpaceViewportRect,transformViewport:this.transformViewport,flamechart:this.props.flamechart,flamechartRenderer:this.props.flamechartRenderer,canvasContext:this.props.canvasContext,setConfigSpaceViewportRect:this.setConfigSpaceViewportRect,enableTimestampPointer:this.props.enableTimestampPointer}),c(fr.Consumer,{children:r=>c(_e,{children:[c(Po,{theme:this.props.theme,canvasContext:this.props.canvasContext,flamechart:this.props.flamechart,flamechartRenderer:this.props.flamechartRenderer,renderInverted:!1,onNodeHover:this.onNodeHover,onNodeSelect:this.onNodeClick,selectedNode:this.props.selectedNode,transformViewport:this.transformViewport,configSpaceViewportRect:this.props.configSpaceViewportRect,setConfigSpaceViewportRect:this.setConfigSpaceViewportRect,logicalSpaceViewportSize:this.props.logicalSpaceViewportSize,setLogicalSpaceViewportSize:this.setLogicalSpaceViewportSize,searchResults:r,enableTimestampPointer:this.props.enableTimestampPointer}),c(Gc,{})]})}),this.renderTooltip(),this.props.selectedNode&&c($c,{flamechart:this.props.flamechart,getCSSColorForFrame:this.props.getCSSColorForFrame,selectedNode:this.props.selectedNode})]})}}function mr(t){return{setNodeHover:D(e=>{ie.setFlamechartHoveredNode(t,e)},[t]),setLogicalSpaceViewportSize:D(e=>{ie.setLogicalSpaceViewportSize(t,e)},[t]),setConfigSpaceViewportRect:D(e=>{ie.setConfigSpaceViewportRect(t,e)},[t]),setSelectedNode:D(e=>{ie.setSelectedNode(t,e)},[t])}}const jc=we(({profile:t,getColorBucketForFrame:e})=>new pr({getTotalWeight:t.getTotalWeight.bind(t),forEachCall:t.forEachCall.bind(t),formatValue:t.formatValue.bind(t),getColorBucketForFrame:e})),gr=t=>we(({canvasContext:e,flamechart:r})=>new Ic(e.gl,Na(e),r,e.rectangleBatchRenderer,e.flamechartColorPassRenderer,t)),qc=gr(),Kc=W(t=>{const{activeProfileState:e,glCanvas:r}=t,{profile:n,chronoViewState:i}=e,o=O(Oe),s=$(),a=ut({theme:s,canvas:r}),l=ft(n),f=ct(l),d=ht({theme:s,frameToColorBucket:l}),u=jc({profile:n,getColorBucketForFrame:f}),p=qc({canvasContext:a,flamechart:u}),m=mr(lt.CHRONO);return c(ko,{flamechart:u,selectedNode:i.selectedNode,setSelectedNode:m.setSelectedNode,configSpaceViewportRect:i.configSpaceViewportRect,setConfigSpaceViewportRect:m.setConfigSpaceViewportRect,children:c(Mo,{theme:s,renderInverted:!1,flamechart:u,flamechartRenderer:p,canvasContext:a,getCSSColorForFrame:d,enableTimestampPointer:!o,...i,...m})})}),Zc=we(({profile:t,getColorBucketForFrame:e})=>new pr({getTotalWeight:t.getTotalNonIdleWeight.bind(t),forEachCall:t.forEachCallGrouped.bind(t),formatValue:t.formatValue.bind(t),getColorBucketForFrame:e})),Xc=gr(),Yc=W(t=>{const{activeProfileState:e,glCanvas:r}=t,{profile:n,leftHeavyViewState:i}=e,o=$(),s=ut({theme:o,canvas:r}),a=ft(n),l=ct(a),f=ht({theme:o,frameToColorBucket:a}),d=Zc({profile:n,getColorBucketForFrame:l}),u=Xc({canvasContext:s,flamechart:d}),p=mr(lt.LEFT_HEAVY);return c(ko,{flamechart:d,selectedNode:i.selectedNode,setSelectedNode:p.setSelectedNode,configSpaceViewportRect:i.configSpaceViewportRect,setConfigSpaceViewportRect:p.setConfigSpaceViewportRect,children:c(Mo,{theme:o,renderInverted:!1,flamechart:d,flamechartRenderer:u,canvasContext:s,getCSSColorForFrame:f,enableTimestampPointer:!1,...i,...p})})});function Jc(t,e){return rh(t,e)}const qr=97,Vo=122,No=65,Qc=90,eh=48,th=57;function bi(t){const e=t.charCodeAt(0);return qr<=e&&e<=Vo?1:No<=e&&e<=Qc?2:eh<=e&&e<=th?3:0}function Kr(t,e){if(t===e)return!0;const r=e.charCodeAt(0);return qr<=r&&r<=Vo?t.charCodeAt(0)===r-qr+No:!1}function rh(t,e){if(e.length==0)return{matchedRanges:[],score:0};let r=0,n=-1,i=-1,o=t.length,s=e.length;for(let a=0;a<o;a++){let l=t[a],f=e[r];if(Kr(l,f)&&(n<0&&(n=a),r++,r==s)){i=a+1;break}}if(i==-1)return null;r--;for(let a=i-1;a>=n;a--){const l=t[a],f=e[r];if(Kr(l,f)&&(r--,r<0))return n=a,ch(t,e,n,i)}throw new Error("Implementation error. This must be a bug in fzfFuzzyMatchV1")}const sn=16,nh=-3,Io=-1,an=sn/2,ih=sn/2,oh=an+Io,sh=4,ah=2;function lh(t,e){return t===0&&e!==0?an:t===1&&e==2||t!==3&&e==3?oh:e===0?ih:0}function ch(t,e,r,n){let i=0,o=0,s=!1,a=0,l=0,f=new Array(e.length),d=0;r>0&&(d=bi(t[r-1]));for(let p=r;p<n;p++){let m=t[p],C=bi(m);if(Kr(m,e[i])){f[i]=p,o+=sn;let y=lh(d,C);a==0?l=y:(y===an&&(l=y),y=Math.max(y,l,sh)),i===0?o+=y*ah:o+=y,s=!1,a++,i++}else s?o+=Io:o+=nh,s=!0,a=0,l=0;d=C}if(i!==e.length)throw new Error("fzfCalculateScore should only be called when pattern is found between sidx and eidx");let u=[[f[0],f[0]+1]];for(let p=1;p<f.length;p++){const m=f[p],C=u[u.length-1];C[1]===m?C[1]=m+1:u.push([m,m+1])}return{score:o,matchedRanges:u}}function hh({color:t="#9E9EA4"}){return c("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M13.9999 14L11.1332 11.1333M12.6666 7.33333C12.6666 10.2789 10.2788 12.6667 7.33325 12.6667C4.38773 12.6667 1.99992 10.2789 1.99992 7.33333C1.99992 4.38781 4.38773 2 7.33325 2C10.2788 2 12.6666 4.38781 12.6666 7.33333Z",stroke:t,"stroke-linecap":"round","stroke-linejoin":"round"})})}function uh(t,e,r){const n=[];let i=0;for(let o of e)n.push(t.slice(i,o[0])),n.push(c("span",{className:r,children:t.slice(o[0],o[1])})),i=o[1];return n.push(t.slice(i)),c("span",{children:n})}function fh({setProfileIndexToView:t,setHoveredProfileIndex:e,profile:r,selected:n,hovered:i,profileCount:o,nodeRef:s,closeProfileSelect:a,indexInProfileGroup:l,matchedRanges:f,indexInFilteredListView:d}){const u=Oo($()),p=D(()=>{a(),t(l)},[a,t,l]),m=D(h=>{e(l)},[e,l]),C=r.getName(),y=1+Math.floor(Math.log10(o)),_=b(u.highlighted),x=Y(()=>uh(C,f,_),[C,f,_]);return c("div",{ref:s,onMouseUp:p,onMouseEnter:m,title:C,className:b(u.profileRow,d%2===0&&u.profileRowEven,n&&u.profileRowSelected,i&&u.profileRowHovered),children:[n?c(ho,{}):c("div",{style:{width:"16px"}}),c("span",{className:b(u.profileIndex,n&&u.profileIndexSelected),style:{width:y+"em"},children:[l+1,":"]})," ",x]})}function Lr(t){t.stopPropagation()}function dh(t,e){const r=[];for(let n=0;n<t.length;n++){const i=t[n],o=Jc(i.getName(),e);o&&r.push({indexInProfileGroup:n,profile:i,...o})}return qt(r,n=>-n.score),r}function ph({profiles:t,closeProfileSelect:e,indexToView:r,visible:n,setProfileIndexToView:i}){const o=Oo($()),[s,a]=le(""),l=D(g=>{const w=g.target.value;a(w)},[a]),f=D(g=>{g&&(n?g.select():g.blur())},[n]),d=Y(()=>dh(t,s),[t,s]),[u,p]=le(0),m=te(null);fe(()=>{n&&(p(null),m.current!==null&&m.current.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}))},[n]);const C=D(g=>{g.stopPropagation();let w=null;switch(g.key){case"Enter":{u!=null&&(e(),i(u));break}case"Escape":{e();break}case"ArrowDown":{if(g.preventDefault(),w=0,u!=null){const v=d.findIndex(E=>E.indexInProfileGroup===u);v!==-1&&(w=v+1)}break}case"ArrowUp":{if(g.preventDefault(),w=d.length-1,u!=null){const v=d.findIndex(E=>E.indexInProfileGroup===u);v!==-1&&(w=v-1)}break}}if(w!=null&&w>=0&&w<d.length){const v=d[w].indexInProfileGroup;p(v),_(!0)}},[e,i,u,d]),[y,_]=le(!1);fe(()=>{d.length>0&&(p(d[0].indexInProfileGroup),_(!0))},[p,d]);const x=D(g=>{y&&g&&(g.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}),_(!1))},[y,_]),h=D(g=>{m.current=g,x(g)},[m,x]);return c("div",{className:b(o.profileSelectOuter),children:c("div",{className:b(o.profileSelectBox),children:[c("div",{className:b(o.filterInputContainer),children:[c(hh,{}),c("input",{type:"text",className:b(o.filterInput),ref:f,placeholder:"Filter...",value:s,onInput:l,onKeyDown:C,onKeyUp:Lr,onKeyPress:Lr,onFocus:Lr})]}),c("div",{className:b(o.filterBorder)}),c("div",{className:b(o.profileSelectScrolling),children:[d.map(({profile:g,matchedRanges:w,indexInProfileGroup:v},E)=>{let T;const L=v===r,k=v===u;return L&&k?T=h:L?T=m:k&&(T=x),c(fh,{setHoveredProfileIndex:p,indexInProfileGroup:v,indexInFilteredListView:E,hovered:v==u,selected:v===r,profile:g,profileCount:t.length,nodeRef:T,matchedRanges:w,setProfileIndexToView:i,closeProfileSelect:e})}),d.length===0?c("div",{className:b(o.profileRow),children:['No results match filter "',s,'"']}):null]})]})})}const Ei=10,Oo=ve(t=>pe.create({filterInputContainer:{display:"flex",flexDirection:"row",padding:"0px 8px",alignItems:"center",gap:"6px"},filterInput:{flexGrow:1,color:t.altFgPrimaryColor,background:t.altBgSecondaryColor,border:"none",borderRadius:5,padding:5,":focus":{border:"none",outline:"none"},"::selection":{color:t.altFgPrimaryColor,background:t.selectionPrimaryColor}},filterBorder:{margin:"4px 0",borderTop:"1px solid var(--colors-gray-1, #242424)"},highlighted:{background:t.selectionSecondaryColor},padding:{height:Ei,background:t.altBgPrimaryColor},profileRow:{height:N.FRAME_HEIGHT-2,border:"1px solid transparent",textAlign:"left",padding:"0px 8px",background:t.altBgPrimaryColor,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",gap:10,color:"var(--colors-gray-6, #D5D5D5)"},profileRowHovered:{backgroundColor:"var(--colors-gray-1, #242424)"},profileRowSelected:{color:"var(--colors-white, #FFFFFF)"},profileRowEven:{background:t.altBgSecondaryColor},profileSelectScrolling:{maxHeight:`min(calc(100vh - ${N.TOOLBAR_HEIGHT-2*Ei}px), ${20*N.FRAME_HEIGHT}px)`,overflow:"auto","::-webkit-scrollbar":{background:t.altBgPrimaryColor},"::-webkit-scrollbar-thumb":{background:t.altFgSecondaryColor,borderRadius:20,border:`3px solid ${t.altBgPrimaryColor}`,":hover":{background:t.altBgPrimaryColor}}},profileSelectBox:{width:"100%",paddingBottom:10,background:t.altBgPrimaryColor,color:t.altFgPrimaryColor},profileSelectOuter:{width:"100%",maxWidth:480,margin:"0 auto",position:"absolute",top:"calc(100% + 1px)",left:"-4px",zIndex:rn.PROFILE_SELECT,alignItems:"center",display:"flex",flexDirection:"column",border:"1px solid var(--colors-gray-1, #242424)"},profileIndex:{textAlign:"right",display:"inline-block",color:t.altFgSecondaryColor},profileIndexSelected:{color:t.altFgPrimaryColor}}));function Pr(t,e){return D(()=>t(e),[t,e])}function mh(t){const e=ln($()),r=Pr(Fe.set,q.CHRONO_FLAME_CHART),n=Pr(Fe.set,q.LEFT_HEAVY_FLAME_GRAPH),i=Pr(Fe.set,q.SANDWICH_VIEW);return t.activeProfileState?c("div",{className:b(e.toolbarLeft),children:[c("div",{className:b(e.toolbarTab,t.viewMode===q.CHRONO_FLAME_CHART&&e.toolbarTabActive),onClick:r,children:"Time Order"}),c("div",{className:b(e.toolbarTab,t.viewMode===q.LEFT_HEAVY_FLAME_GRAPH&&e.toolbarTabActive),onClick:n,children:"Left Heavy"}),c("div",{className:b(e.toolbarTab,t.viewMode===q.SANDWICH_VIEW&&e.toolbarTabActive),onClick:i,children:"Sandwich"})]}):null}const gh=(()=>{let t=null;return e=>{let r=(e==null?void 0:e.profiles.map(n=>n.profile))||null;return(t===null||r!=null&&!tn(t,r))&&(t=r),t}})();function _h(t){const e=ln($()),{activeProfileState:r,profileGroup:n}=t,i=gh(n),[o,s]=le(!1),a=D(()=>{s(!0)},[s]),l=D(()=>{s(!1)},[s]);return fe(()=>{const f=d=>{d.key==="t"&&(d.preventDefault(),s(!0))};return window.addEventListener("keypress",f),()=>{window.removeEventListener("keypress",f)}},[s]),fe(()=>{const f=d=>{d.key==="t"&&(d.preventDefault(),s(!0))};return window.addEventListener("keypress",f),()=>{window.removeEventListener("keypress",f)}},[s]),r&&n&&i?n.profiles.length===1?c("div",{className:b(e.toolbarCenter),children:c("div",{className:b(e.toolbarProfileName),children:[r.profile.getName()," ",Oe.get()?"":"(1/1)"]})}):c("div",{className:b(e.toolbarCenter),onMouseLeave:l,children:[c("span",{className:b(e.toolbarProfileName),onMouseOver:a,children:[r.profile.getName()," ",c("span",{className:b(e.toolbarProfileIndex),children:["(",r.index+1,"/",n.profiles.length,")"]}),c(co,{up:o})]}),c("div",{style:{display:o?"block":"none"},children:c(ph,{setProfileIndexToView:t.setProfileIndexToView,indexToView:n.indexToView,profiles:i,closeProfileSelect:l,visible:o})})]}):c(_e,{children:O(rr).title??"🔬speedscope"})}function wh(t){const e=ln($());return c("div",{className:b(e.toolbar),children:[c(_h,{...t}),c(mh,{...t})]})}const ln=ve(t=>pe.create({toolbar:{height:N.TOOLBAR_HEIGHT-1,borderTop:"1px solid var(--colors-gray-2, #2D2D2D)",borderBottom:"1px solid var(--colors-gray-2, #2D2D2D)",flexShrink:0,background:t.altBgPrimaryColor,color:t.altFgPrimaryColor,textAlign:"center",fontFamily:Ke.MONOSPACE,fontSize:K.TITLE,lineHeight:`${N.TOOLBAR_TAB_HEIGHT}px`,userSelect:"none",padding:"2px 4px"},toolbarLeft:{height:"fit-content",overflow:"hidden",margin:"auto 0",marginRight:2,textAlign:"center",border:"1px solid var(--colors-gray-1, #242424)",borderRadius:"4px",position:"absolute",right:0,top:(N.TOOLBAR_HEIGHT-N.TOOLBAR_TAB_HEIGHT)/2+1.5},toolbarCenter:{padding:"2px 4px",height:"22px",textAlign:"left",position:"relative",left:0},toolbarProfileName:{display:"flex",flexDirection:"row",alignItems:"center",gap:"7px",height:"100%",width:"fit-content",whiteSpace:"nowrap"},toolbarRight:{height:N.TOOLBAR_HEIGHT,overflow:"hidden",position:"absolute",top:0,right:0,marginRight:2,textAlign:"right"},toolbarProfileIndex:{color:t.altFgSecondaryColor},toolbarTab:{background:t.altBgSecondaryColor,height:N.TOOLBAR_TAB_HEIGHT,lineHeight:`${N.TOOLBAR_TAB_HEIGHT}px`,display:"inline-block",padding:"0px 8px",transition:`all ${sr.HOVER_CHANGE} ease-in`,":hover":{background:t.selectionSecondaryColor},":not(:first-child)":{borderLeft:"1px solid var(--colors-gray-1, #242424)"}},toolbarTabActive:{background:t.selectionPrimaryColor,":hover":{background:t.selectionPrimaryColor}},toolbarTabColorSchemeToggle:{display:"inline-block",textAlign:"center",minWidth:"50px"},emoji:{display:"inline-block",verticalAlign:"middle",paddingTop:"0px",marginRight:"0.3em"},noLinkStyle:{textDecoration:"none",color:"inherit"}})),vh=Ge(()=>import("./source-map-CIDONuhl.js").then(t=>t.s),[],import.meta.url);async function Ch(t,e){const r=await vh;let n=null,i=null;try{i=JSON.parse(t),n=new r.SourceMapConsumer(i)}catch{return null}const o=[];n.eachMapping(function(a){o.push({...a,generatedColumn:a.generatedColumn+1,originalColumn:a.originalColumn+1})},{},r.SourceMapConsumer.GENERATED_ORDER);const s=e.replace(/\.[^/]*$/,"");return a=>{var p;let l=!1;if((i!=null&&i.file&&(i==null?void 0:i.file)===a.file||("/"+((p=a.file)==null?void 0:p.replace(/\.[^/]*$/,""))).endsWith("/"+s))&&(l=!0),!l||a.line==null||a.col==null)return null;let f=Ts(o,m=>m.generatedLine>a.line?!0:m.generatedLine<a.line?!1:m.generatedColumn>=a.col);if(f===-1)f=o.length-1;else{if(f===0)return null;f--}const d=o[f],u={};if(d.name!=null)u.name=d.name;else if(d.source!=null){const m=n==null?void 0:n.sourceContentFor(d.source,!0);if(m){const y=m.split(`
`)[d.originalLine-1];if(y){const _=/\w+/.exec(y.substr(d.originalColumn-1));_&&(u.name=_[0])}}}switch(u.name){case"constructor":{u.name=a.name+" constructor";break}case"function":{u.name=a.name;break}case"const":case"export":{u.name=a.name;break}}return u.name&&a.name.includes(u.name)&&(u.name=a.name),d.source!=null&&(u.file=d.source,u.line=d.originalLine,u.col=d.originalColumn),u}}const yh=({items:t,axis:e,renderItems:r,className:n,initialIndexInView:i})=>{const[o,s]=le(null),[a,l]=le(0),f=te(null),d=e==="x"?"width":"height",u=e==="x"?"left":"top",p=e==="x"?"scrollLeft":"scrollTop",m=i?t.reduce((v,E,T)=>T<i?v+E.size:v,0):0,C=te(m),y=D(v=>{v?requestAnimationFrame(()=>{s(v.getBoundingClientRect()[d]),C.current!=null&&(v.scrollTo({[u]:C.current}),C.current=null)}):s(null),f.current=v},[s,d,u]),_=Y(()=>{if(f.current==null||o==null||a==null)return null;const v=a-o/4,E=a+o+o/4;let T=0,L=0,k=0;for(;k<t.length;k++){const B=t[k];if(L=T,T+=B.size,T>=v)break}const F=k;for(;k<t.length;k++){const B=t[k];if(T+=B.size,T>=E)break}const I=Math.min(k,t.length-1);return{firstVisibleIndex:F,lastVisibleIndex:I,invisiblePrefixSize:L}},[o,a,t]),x=Y(()=>t.reduce((v,E)=>v+E.size,0),[t]),h=D(()=>{f.current!=null&&l(f.current[p])},[p]);fe(()=>{const v=()=>{f.current!=null&&s(f.current.getBoundingClientRect()[d])};return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[d]);const g=Y(()=>_?r(_.firstVisibleIndex,_.lastVisibleIndex):null,[r,_]),w=Y(()=>c("div",{style:{height:x},children:c("div",{style:{transform:`translateY(${(_==null?void 0:_.invisiblePrefixSize)||0}px)`},children:g})}),[_,g,x]);return c("div",{className:n,ref:y,onScroll:h,children:w})};function Ti(t){const e=_r($());return c("div",{className:b(e.hBarDisplay),children:c("div",{className:b(e.hBarDisplayFilled),style:{width:`${t.perc}%`}})})}function Fr(t){const e=$(),r=_r(e),{activeDirection:n}=t,i=n===me.ASCENDING?e.fgPrimaryColor:e.fgSecondaryColor,o=n===me.DESCENDING?e.fgPrimaryColor:e.fgSecondaryColor;return c("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:b(r.sortIcon),children:[c("path",{d:"M0 4L4 0L8 4H0Z",fill:i}),c("path",{d:"M0 4L4 0L8 4H0Z",transform:"translate(0 10) scale(1 -1)",fill:o})]})}function Sh(t,e,r){const n=[];let i=0;for(let o of e)n.push(t.slice(i,o[0])),n.push(c("span",{className:r,children:t.slice(o[0],o[1])})),i=o[1];return n.push(t.slice(i)),c("span",{children:n})}const xh=({frame:t,matchedRanges:e,profile:r,index:n,selectedFrame:i,setSelectedFrame:o,getCSSColorForFrame:s})=>{const a=_r($()),l=t.getTotalWeight(),f=t.getSelfWeight(),d=100*l/r.getTotalNonIdleWeight(),u=100*f/r.getTotalNonIdleWeight(),p=t===i;return c("tr",{onClick:o.bind(null,t),className:b(a.tableRow,n%2==0&&a.tableRowEven,p&&a.tableRowSelected),children:[c("td",{className:b(a.numericCell),children:[r.formatValue(l)," (",Be(d),")",c(Ti,{perc:d})]}),c("td",{className:b(a.numericCell),children:[r.formatValue(f)," (",Be(u),")",c(Ti,{perc:u})]}),c("td",{title:t.file,className:b(a.textCell),children:[c(Lo,{color:s(t)}),e?Sh(t.name,e,b(a.matched,p&&a.matchedSelected)):t.name]})]},`${n}`)},bh=W(({profile:t,sortMethod:e,setSortMethod:r,selectedFrame:n,setSelectedFrame:i,getCSSColorForFrame:o,searchQuery:s,searchIsActive:a})=>{const l=_r($()),f=D((_,x)=>{if(x.preventDefault(),e.field==_)r({field:_,direction:e.direction===me.ASCENDING?me.DESCENDING:me.ASCENDING});else switch(_){case se.SYMBOL_NAME:{r({field:_,direction:me.ASCENDING});break}case se.SELF:{r({field:_,direction:me.DESCENDING});break}case se.TOTAL:{r({field:_,direction:me.DESCENDING});break}}},[e,r]),d=je(cn),u=D((_,x)=>{if(!d)return null;const h=[];for(let g=_;g<=x;g++){const w=d.rowList[g],v=d.getSearchMatchForFrame(w);h.push(xh({frame:w,matchedRanges:v??null,index:g,profile:t,selectedFrame:n,setSelectedFrame:i,getCSSColorForFrame:o}))}return h.length===0&&(a?h.push(c("tr",{children:c("td",{className:b(l.emptyState),children:['No symbol names match query "',s,'".']})})):h.push(c("tr",{children:c("td",{className:b(l.emptyState),children:"No symbols found."})}))),c("table",{className:b(l.tableView),children:h})},[d,t,n,i,o,a,s,l.emptyState,l.tableView]),p=Y(()=>d==null?[]:d.rowList.map(_=>({size:N.FRAME_HEIGHT})),[d]),m=D(_=>f(se.TOTAL,_),[f]),C=D(_=>f(se.SELF,_),[f]),y=D(_=>f(se.SYMBOL_NAME,_),[f]);return c("div",{className:b(ae.vbox,l.profileTableView),children:[c("table",{className:b(l.tableView),children:c("thead",{className:b(l.tableHeader),children:c("tr",{children:[c("th",{className:b(l.numericCell),onClick:m,children:[c(Fr,{activeDirection:e.field===se.TOTAL?e.direction:null}),"Total"]}),c("th",{className:b(l.numericCell),onClick:C,children:[c(Fr,{activeDirection:e.field===se.SELF?e.direction:null}),"Self"]}),c("th",{className:b(l.textCell),onClick:y,children:[c(Fr,{activeDirection:e.field===se.SYMBOL_NAME?e.direction:null}),"Symbol Name"]})]})})}),c(yh,{axis:"y",items:p,className:b(l.scrollView),renderItems:u,initialIndexInView:n==null?null:d==null?void 0:d.getIndexForFrame(n)})]})}),_r=ve(t=>pe.create({profileTableView:{background:t.altBgPrimaryColor,height:"100%"},scrollView:{overflowY:"auto",overflowX:"hidden",flexGrow:1,"::-webkit-scrollbar":{background:t.bgPrimaryColor},"::-webkit-scrollbar-thumb":{background:t.fgSecondaryColor,borderRadius:20,border:`3px solid ${t.bgPrimaryColor}`,":hover":{background:t.fgPrimaryColor}}},tableView:{width:"100%",fontSize:K.LABEL,background:t.altBgPrimaryColor},tableHeader:{borderBottom:`2px solid ${t.bgSecondaryColor}`,textAlign:"left",color:t.fgPrimaryColor,userSelect:"none",background:t.bgPrimaryColor},sortIcon:{position:"relative",top:1,marginRight:N.FRAME_HEIGHT/4},tableRow:{background:t.altBgPrimaryColor,height:N.FRAME_HEIGHT},tableRowEven:{background:t.bgSecondaryColor},tableRowSelected:{background:t.selectionPrimaryColor,color:t.altFgPrimaryColor},numericCell:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",position:"relative",textAlign:"right",paddingRight:N.FRAME_HEIGHT,width:6*N.FRAME_HEIGHT,minWidth:6*N.FRAME_HEIGHT},textCell:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"100%",maxWidth:0,textAlign:"start"},hBarDisplay:{position:"absolute",background:oe.fromCSSHex(t.weightColor).withAlpha(.2).toCSS(),bottom:2,height:2,width:`calc(100% - ${2*N.FRAME_HEIGHT}px)`,right:N.FRAME_HEIGHT},hBarDisplayFilled:{height:"100%",position:"absolute",background:t.weightColor,right:0},matched:{borderBottom:`2px solid ${t.fgPrimaryColor}`},matchedSelected:{borderColor:t.altFgPrimaryColor},emptyState:{textAlign:"center",fontWeight:"bold"}})),Eh=W(t=>{const{activeProfileState:e}=t,{profile:r,sandwichViewState:n}=e;if(!r)throw new Error("profile missing");const i=O(Hr),o=$(),{callerCallee:s}=n,a=s?s.selectedFrame:null,l=ft(r),f=ht({theme:o,frameToColorBucket:l}),d=D(m=>{ie.setSelectedFrame(m)},[]),u=O(Xt),p=O(Yt);return c(bh,{profile:r,selectedFrame:a,getCSSColorForFrame:f,sortMethod:i,setSelectedFrame:d,setSortMethod:Hr.set,searchIsActive:u,searchQuery:p})});class Ho extends mt{constructor(){super(...arguments),this.setConfigSpaceViewportRect=e=>{this.props.setConfigSpaceViewportRect(this.clampViewportToFlamegraph(e))},this.setLogicalSpaceViewportSize=e=>{this.props.setLogicalSpaceViewportSize(e)},this.transformViewport=e=>{this.setConfigSpaceViewportRect(e.transformRect(this.props.configSpaceViewportRect))},this.container=null,this.containerRef=e=>{this.container=e||null},this.setNodeHover=e=>{this.props.setNodeHover(e)}}clampViewportToFlamegraph(e){const{flamechart:r,renderInverted:n}=this.props;return r.getClampedConfigSpaceViewportRect({configSpaceViewportRect:e,renderInverted:n})}formatValue(e){const r=this.props.flamechart.getTotalWeight(),n=100*e/r,i=Be(n);return`${this.props.flamechart.formatValue(e)} (${i})`}renderTooltip(){if(!this.container)return null;const{hover:e}=this.props;if(!e)return null;const{width:r,height:n,left:i,top:o}=this.container.getBoundingClientRect(),s=new S(e.event.clientX-i,e.event.clientY-o),a=Th(this.props.theme),l=e.node.frame;return c(Fo,{containerSize:new S(r,n),offset:s,children:[c("span",{className:b(a.hoverCount),children:this.formatValue(e.node.getTotalWeight())})," ",l.name,l.file?c("div",{children:[l.file,":",l.line]}):void 0]})}render(){return c("div",{className:b(ae.fillY,ae.fillX,ae.vbox),ref:this.containerRef,children:[c(Po,{theme:this.props.theme,selectedNode:null,onNodeHover:this.setNodeHover,onNodeSelect:en,configSpaceViewportRect:this.props.configSpaceViewportRect,setConfigSpaceViewportRect:this.setConfigSpaceViewportRect,transformViewport:this.transformViewport,flamechart:this.props.flamechart,flamechartRenderer:this.props.flamechartRenderer,canvasContext:this.props.canvasContext,renderInverted:this.props.renderInverted,logicalSpaceViewportSize:this.props.logicalSpaceViewportSize,setLogicalSpaceViewportSize:this.setLogicalSpaceViewportSize,searchResults:null,enableTimestampPointer:!1}),this.renderTooltip()]})}}const Th=ve(t=>pe.create({hoverCount:{color:t.weightColor}})),Rh=we(({profile:t,frame:e,flattenRecursion:r})=>{let n=t.getInvertedProfileForCallersOf(e);return r?n.getProfileWithRecursionFlattened():n}),Lh=we(({invertedCallerProfile:t,getColorBucketForFrame:e})=>new pr({getTotalWeight:t.getTotalNonIdleWeight.bind(t),forEachCall:t.forEachCallGrouped.bind(t),formatValue:t.formatValue.bind(t),getColorBucketForFrame:e})),Ph=gr({inverted:!0}),Fh=W(t=>{const{activeProfileState:e}=t;let{profile:r,sandwichViewState:n}=e;const i=O(it),o=O(Jt),s=$();if(!r)throw new Error("profile missing");if(!o)throw new Error("glCanvas missing");const{callerCallee:a}=n;if(!a)throw new Error("callerCallee missing");const{selectedFrame:l}=a,f=ft(r),d=ct(f),u=ht({theme:s,frameToColorBucket:f}),p=ut({theme:s,canvas:o}),m=Lh({invertedCallerProfile:Rh({profile:r,frame:l,flattenRecursion:i}),getColorBucketForFrame:d}),C=Ph({canvasContext:p,flamechart:m});return c(Ho,{theme:s,renderInverted:!0,flamechart:m,flamechartRenderer:C,canvasContext:p,getCSSColorForFrame:u,...mr(lt.SANDWICH_INVERTED_CALLERS),...a.invertedCallerFlamegraph,setSelectedNode:en})}),Ah=we(({profile:t,frame:e,flattenRecursion:r})=>{let n=t.getProfileForCalleesOf(e);return r?n.getProfileWithRecursionFlattened():n}),kh=we(({calleeProfile:t,getColorBucketForFrame:e})=>new pr({getTotalWeight:t.getTotalNonIdleWeight.bind(t),forEachCall:t.forEachCallGrouped.bind(t),formatValue:t.formatValue.bind(t),getColorBucketForFrame:e})),Mh=gr(),Vh=W(t=>{const{activeProfileState:e}=t,{profile:r,sandwichViewState:n}=e,i=O(it),o=O(Jt),s=$();if(!r)throw new Error("profile missing");if(!o)throw new Error("glCanvas missing");const{callerCallee:a}=n;if(!a)throw new Error("callerCallee missing");const{selectedFrame:l}=a,f=ft(r),d=ct(f),u=ht({theme:s,frameToColorBucket:f}),p=ut({theme:s,canvas:o}),m=kh({calleeProfile:Ah({profile:r,frame:l,flattenRecursion:i}),getColorBucketForFrame:d}),C=Mh({canvasContext:p,flamechart:m});return c(Ho,{theme:s,renderInverted:!1,flamechart:m,flamechartRenderer:C,canvasContext:p,getCSSColorForFrame:u,...mr(lt.SANDWICH_CALLEES),...a.calleeFlamegraph,setSelectedNode:en})}),Nh=W(()=>{const t=je(cn),e=t!=null?t.rowList:null,r=(t==null?void 0:t.selectedFrame)!=null?t.getIndexForFrame(t.selectedFrame):null,n=e!=null?e.length:null,{selectPrev:i,selectNext:o}=Y(()=>e==null||n==null||n===0||t==null?{selectPrev:()=>{},selectNext:()=>{}}:{selectPrev:()=>{let s=r==null?n-1:r-1;s<0&&(s=n-1),t.setSelectedFrame(e[s])},selectNext:()=>{let s=r==null?0:r+1;s>=n&&(s=0),t.setSelectedFrame(e[s])}},[r,e,n,t]);return c(Eo,{resultIndex:r,numResults:n,selectPrev:i,selectNext:o})});class Ih extends mt{constructor(){super(...arguments),this.setSelectedFrame=e=>{this.props.setSelectedFrame(e)},this.onWindowKeyPress=e=>{e.key==="Escape"&&this.setSelectedFrame(null)}}componentDidMount(){window.addEventListener("keydown",this.onWindowKeyPress)}componentWillUnmount(){window.removeEventListener("keydown",this.onWindowKeyPress)}render(){const e=Oh(this.props.theme),{selectedFrame:r}=this.props;let n=null;return r&&(n=c("div",{className:b(ae.fillY,e.callersAndCallees,ae.vbox),children:[c("div",{className:b(ae.hbox,e.panZoomViewWraper),children:[c("div",{className:b(e.flamechartLabelParent),children:c("div",{className:b(e.flamechartLabel),children:"Callers"})}),c(Fh,{glCanvas:this.props.glCanvas,activeProfileState:this.props.activeProfileState})]}),c("div",{className:b(e.divider)}),c("div",{className:b(ae.hbox,e.panZoomViewWraper),children:[c("div",{className:b(e.flamechartLabelParent,e.flamechartLabelParentBottom),children:c("div",{className:b(e.flamechartLabel,e.flamechartLabelBottom),children:"Callees"})}),c(Vh,{glCanvas:this.props.glCanvas,activeProfileState:this.props.activeProfileState})]})]})),c("div",{className:b(ae.hbox,ae.fillY),children:[c("div",{className:b(e.tableView),children:[c(Eh,{activeProfileState:this.props.activeProfileState}),c(Nh,{})]}),n]})}}const Oh=ve(t=>pe.create({tableView:{position:"relative",flex:1},panZoomViewWraper:{flex:1},flamechartLabelParent:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start",fontSize:K.TITLE,width:K.TITLE*1.2,borderRight:`1px solid ${t.fgSecondaryColor}`},flamechartLabelParentBottom:{justifyContent:"flex-start"},flamechartLabel:{transform:"rotate(-90deg)",transformOrigin:"50% 50% 0",width:K.TITLE*1.2,flexShrink:1},flamechartLabelBottom:{transform:"rotate(-90deg)",display:"flex",justifyContent:"flex-end"},callersAndCallees:{flex:1,borderLeft:`${N.SEPARATOR_HEIGHT}px solid ${t.fgSecondaryColor}`},divider:{height:2,background:t.fgSecondaryColor}})),cn=cr(null),Hh=W(t=>{const{activeProfileState:e,glCanvas:r}=t,{sandwichViewState:n,index:i}=e,{callerCallee:o}=n,s=$(),a=D(_=>{ie.setSelectedFrame(_)},[]),l=e.profile,f=O(Hr),d=je(fr),u=o?o.selectedFrame:null,p=Y(()=>{const _=[];switch(l.forEachFrame(x=>{d&&!d.getMatchForFrame(x)||_.push(x)}),f.field){case se.SYMBOL_NAME:{qt(_,x=>x.name.toLowerCase());break}case se.SELF:{qt(_,x=>x.getSelfWeight());break}case se.TOTAL:{qt(_,x=>x.getTotalWeight());break}}return f.direction===me.DESCENDING&&_.reverse(),_},[l,d,f]),m=Y(()=>{const _=new Map;for(let x=0;x<p.length;x++)_.set(p[x],x);return x=>{const h=_.get(x);return h??null}},[p]),C=Y(()=>_=>d==null?null:d.getMatchForFrame(_),[d]),y={rowList:p,selectedFrame:u,setSelectedFrame:a,getIndexForFrame:m,getSearchMatchForFrame:C};return c(cn.Provider,{value:y,children:c(Ih,{theme:s,activeProfileState:e,glCanvas:r,setSelectedFrame:a,selectedFrame:u,profileIndex:i})})}),Dh=""+new URL("perf-vertx-stacks-01-collapsed-all-1_MAgNGf.txt",import.meta.url).href,Xe=Ge(()=>import("./index-a8zZl8e6.js"),[],import.meta.url);Xe.then(()=>{});Ge(()=>import("./index-DA4yW5Kz.js"),[],import.meta.url).then(()=>{});Ge(()=>import("./source-map-CIDONuhl.js").then(t=>t.s),[],import.meta.url).then(()=>{});async function Ri(t,e){return(await Xe).importProfileGroupFromText(t,e)}async function Bh(t,e){return(await Xe).importProfileGroupFromBase64(t,e)}async function Wh(t,e){return(await Xe).importProfilesFromArrayBuffer(t,e)}async function zh(t){return(await Xe).importProfilesFromFile(t)}async function $h(t){return(await Xe).importFromFileSystemDirectoryEntry(t)}function Uh(t){return t!=null&&t.isDirectory}class Gh extends mt{constructor(){super(...arguments),this.canvas=null,this.ref=e=>{e instanceof HTMLCanvasElement?this.canvas=e:this.canvas=null,this.props.setGLCanvas(this.canvas)},this.container=null,this.containerRef=e=>{e instanceof HTMLElement?this.container=e:this.container=null},this.maybeResize=()=>{if(!this.container||!this.props.canvasContext)return;let{width:e,height:r}=this.container.getBoundingClientRect();const n=e,i=r,o=e*window.devicePixelRatio,s=r*window.devicePixelRatio;this.props.canvasContext.gl.resize(o,s,n,i)},this.onWindowResize=()=>{this.props.canvasContext&&this.props.canvasContext.requestFrame()}}componentWillReceiveProps(e){this.props.canvasContext!==e.canvasContext&&(this.props.canvasContext&&this.props.canvasContext.removeBeforeFrameHandler(this.maybeResize),e.canvasContext&&(e.canvasContext.addBeforeFrameHandler(this.maybeResize),e.canvasContext.requestFrame()))}componentDidMount(){window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){this.props.canvasContext&&this.props.canvasContext.removeBeforeFrameHandler(this.maybeResize),window.removeEventListener("resize",this.onWindowResize)}render(){const e=Do(this.props.theme);return c("div",{ref:this.containerRef,className:b(e.glCanvasView),children:c("canvas",{ref:this.ref,width:1,height:1})})}}class jh extends mt{constructor(){super(...arguments),this.glCanvasRef=$o(),this.loadExample=()=>{this.loadProfile(async()=>{const e="perf-vertx-stacks-01-collapsed-all.txt",r=await fetch(Dh).then(n=>n.text());return await Ri(e,r)})},this.checkDragImportEnabled=()=>rr.get().dragImport??!0,this.onDrop=e=>{this.checkDragImportEnabled()&&(this.props.setDragActive(!1),e.preventDefault(),this.loadDropFile(e))},this.loadDropFile=e=>{if(!e.dataTransfer)return;const r=e.dataTransfer.items[0];if(r&&"webkitGetAsEntry"in r){const i=r.webkitGetAsEntry();if(i&&Uh(i)&&i.name.endsWith(".trace")){const o=i;this.loadProfile(async()=>await $h(o));return}}let n=e.dataTransfer.files.item(0);n&&this.loadFromFile(n)},this.onDragOver=e=>{this.checkDragImportEnabled()&&(this.props.setDragActive(!0),e.preventDefault())},this.onDragLeave=e=>{this.checkDragImportEnabled()&&(this.props.setDragActive(!1),e.preventDefault())},this.onWindowKeyPress=async e=>{if(e.key==="1")this.props.setViewMode(q.CHRONO_FLAME_CHART);else if(e.key==="2")this.props.setViewMode(q.LEFT_HEAVY_FLAME_GRAPH);else if(e.key==="3")this.props.setViewMode(q.SANDWICH_VIEW);else if(e.key==="r"){const{flattenRecursion:r}=this.props;this.props.setFlattenRecursion(!r)}else if(e.key==="n"){const{activeProfileState:r}=this.props;r&&this.props.setProfileIndexToView(r.index+1)}else if(e.key==="p"){const{activeProfileState:r}=this.props;r&&this.props.setProfileIndexToView(r.index-1)}},this.saveFile=()=>{if(this.props.profileGroup){const{name:e,indexToView:r,profiles:n}=this.props.profileGroup,i={name:e,indexToView:r,profiles:n.map(o=>o.profile)};Mc(i)}},this.browseForFile=(e,r)=>{const n=document.createElement("input");n.type="file";const i=ao.get();(i.onabort||r)&&n.addEventListener("cancel",o=>{r&&r(),i.onabort&&i.onabort()}),n.addEventListener("change",o=>{this.onFileSelect(o),e&&e(),i.onstart&&i.onstart()}),n.click()},this.onWindowKeyDown=async e=>{e.key==="s"&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),this.saveFile()):e.key==="o"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.browseForFile())},this.onDocumentPaste=e=>{if(document.activeElement!=null&&document.activeElement.nodeName==="INPUT")return;e.preventDefault(),e.stopPropagation();const r=e.clipboardData;if(!r)return;const n=r.getData("text");this.loadProfile(async()=>await Ri("From Clipboard",n))},this.onFileSelect=e=>{const r=e.target.files.item(0);r&&this.loadFromFile(r)},this.redrawCanvas=()=>{var e;(e=this.glCanvasRef.current)==null||e.onWindowResize()}}async loadProfile(e){var n,i,o;if(this.props.setError(!1),this.props.setLoading(!0),await new Promise(s=>setTimeout(s,0)),!this.props.glCanvas)return;let r=null;try{r=await e()}catch{this.props.setError(!0);return}if(r==null){alert("Unrecognized format! See documentation about supported formats."),this.props.setLoading(!1),this.props.setError(!0);return}else if(r.profiles.length===0&&(((n=tr.get())==null?void 0:n.length)??0)===0){alert("Successfully imported profile, but it's empty!"),this.props.setLoading(!1),this.props.setError(!0);return}else if(r.profiles.length===0){const s=((i=tr.get())==null?void 0:i.map(d=>d.ts).filter(Boolean))??[],a=Math.max(...s.length?s:[1]);Oe.set(!0);const l=new on(a),f={key:"no_trace",name:""};l.enterFrame(f,0),l.leaveFrame(f,a),r.profiles.push(l.build())}else Oe.set(!1);this.props.hashParams.title&&(r={...r,name:this.props.hashParams.title}),(((o=rr.get())==null?void 0:o.changeDocumentTile)??!0)&&(document.title=`${r.name} - speedscope`),this.props.hashParams.viewMode&&this.props.setViewMode(this.props.hashParams.viewMode);for(let s of r.profiles)await s.demangle();r.profiles.forEach((s,a)=>{const l=this.props.hashParams.title||s.getName();s.setName(l),l.startsWith("main (")&&(r.indexToView=a)}),setTimeout(()=>{var s;if(!this.glCanvasRef.current){this.props.setError(!0);return}(s=this.glCanvasRef.current.props.canvasContext)==null||s.flamechartColorPassRenderer.updateMaterial(this.glCanvasRef.current.props.canvasContext.gl,this.props.theme)}),this.props.setProfileGroup(r),this.props.setLoading(!1)}getStyle(){return Do(this.props.theme)}loadFromFile(e){this.loadProfile(async()=>{const r=await zh(e);if(r){for(let n of r.profiles)n.getName()||n.setName(e.name);return r}if(this.props.profileGroup&&this.props.activeProfileState){const n=new FileReader,i=new Promise(f=>{n.addEventListener("loadend",()=>{if(typeof n.result!="string")throw new Error("Expected reader.result to be a string");f(n.result)})});n.readAsText(e);const o=await i;let s=null;const a=Lc(o);a&&(s=a);const l=await Ch(o,e.name);if(!s&&l&&(s=l),s!=null)return{name:this.props.profileGroup.name||"profile",indexToView:this.props.profileGroup.indexToView,profiles:this.props.profileGroup.profiles.map(f=>{const d=f.profile.shallowClone();return d.remapSymbols(s),d})}}return null})}componentDidMount(){window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("keypress",this.onWindowKeyPress),document.addEventListener("paste",this.onDocumentPaste),this.maybeLoadHashParamProfile()}componentWillUnmount(){window.removeEventListener("keydown",this.onWindowKeyDown),window.removeEventListener("keypress",this.onWindowKeyPress),document.removeEventListener("paste",this.onDocumentPaste)}async maybeLoadHashParamProfile(){const{profileURL:e}=this.props.hashParams;if(e){if(!Ir){alert(`Cannot load a profile URL when loading from "${window.location.protocol}" URL protocol`);return}this.loadProfile(async()=>{const r=await fetch(e);let n=new URL(e,window.location.href).pathname;return n.includes("/")&&(n=n.slice(n.lastIndexOf("/")+1)),await Wh(n,await r.arrayBuffer())})}else if(this.props.hashParams.localProfilePath){window.speedscope={loadFileFromBase64:(n,i)=>{this.loadProfile(()=>Bh(n,i))}};const r=document.createElement("script");r.src=`file:///${this.props.hashParams.localProfilePath}`,document.head.appendChild(r)}}renderLanding(){const e=this.getStyle(),r=c("div",{className:b(e.browseButtonContainer),children:[c("input",{type:"file",name:"file",id:"file",onChange:this.onFileSelect,className:b(e.hide)}),c("label",{for:"file",className:b(e.browseButton),tabIndex:0,children:"Browse"})]});return c("div",{className:b(e.landingContainer),children:this.props.customWelcomeMessage.default?this.props.customWelcomeMessage.default(b(e.landingMessage),b(e.landingP),b(e.link),r):c("div",{className:b(e.landingMessage),children:[c("p",{className:b(e.landingP),children:["👋 Hi there! Welcome to 🔬speedscope, an interactive"," ",c("a",{className:b(e.link),href:"http://www.brendangregg.com/FlameGraphs/cpuflamegraphs.html",children:"flamegraph"})," ","visualizer. Use it to help you make your software faster."]}),Ir?c("p",{className:b(e.landingP),children:["Drag and drop a profile file onto this window to get started, click the big blue button below to browse for a profile to explore, or"," ",c("a",{tabIndex:0,className:b(e.link),onClick:this.loadExample,children:"click here"})," ","to load an example profile."]}):c("p",{className:b(e.landingP),children:"Drag and drop a profile file onto this window to get started, or click the big blue button below to browse for a profile to explore."}),r,c("p",{className:b(e.landingP),children:["See the"," ",c("a",{className:b(e.link),href:"https://github.com/jlfwong/speedscope#usage",target:"_blank",children:"documentation"})," ","for information about supported file formats, keyboard shortcuts, and how to navigate around the profile."]}),c("p",{className:b(e.landingP),children:["speedscope is open source. Please"," ",c("a",{className:b(e.link),target:"_blank",href:"https://github.com/jlfwong/speedscope/issues",children:"report any issues on GitHub"}),"."]})]})})}renderError(){const e=this.getStyle();return c("div",{className:b(e.error),children:[c("div",{children:"😿 Something went wrong."}),c("div",{children:"Check the JS console for more details."})]})}renderLoadingBar(){const e=this.getStyle();return c("div",{className:b(e.loading)})}renderContent(){const{viewMode:e,activeProfileState:r,error:n,loading:i,glCanvas:o}=this.props;if(n)return this.renderError();if(i)return this.renderLoadingBar();if(!r||!o)return this.renderLanding();switch(e){case q.CHRONO_FLAME_CHART:return c(Kc,{activeProfileState:r,glCanvas:o});case q.LEFT_HEAVY_FLAME_GRAPH:return c(Yc,{activeProfileState:r,glCanvas:o});case q.SANDWICH_VIEW:return c(Hh,{activeProfileState:r,glCanvas:o})}}render(){const e=this.getStyle(),r=O(Oe);return c("div",{onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,className:b(e.root,this.props.dragActive&&e.dragTargetRoot),children:[c(Gh,{ref:this.glCanvasRef,setGLCanvas:this.props.setGLCanvas,canvasContext:this.props.canvasContext,theme:this.props.theme}),c(wh,{saveFile:this.saveFile,browseForFile:this.browseForFile,...this.props}),c("div",{className:b(e.contentContainer),children:this.renderContent()}),this.props.dragActive&&c("div",{className:b(e.dragTarget)}),r&&c("div",{className:b(e.noTraceWatermark),children:[c("h1",{className:b(e.watermarkH1),children:"NO TRACE"}),c("p",{className:b(e.watermarkP),children:"This TEF does not come with any trace"})]})]})}}const Do=ve(t=>pe.create({glCanvasView:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:-1},error:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},loading:{height:3,marginBottom:-3,background:t.selectionPrimaryColor,transformOrigin:"0% 50%",animationName:[{from:{transform:"scaleX(0)"},to:{transform:"scaleX(1)"}}],animationTimingFunction:"cubic-bezier(0, 1, 0, 1)",animationDuration:"30s"},root:{width:"100%",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative",fontFamily:Ke.MONOSPACE,lineHeight:"20px",color:t.fgPrimaryColor},dragTargetRoot:{cursor:"copy"},dragTarget:{boxSizing:"border-box",position:"absolute",top:0,left:0,width:"100%",height:"100%",border:`5px dashed ${t.selectionPrimaryColor}`,pointerEvents:"none"},contentContainer:{position:"relative",display:"flex",overflow:"hidden",flexDirection:"column",flex:1},landingContainer:{display:"flex",alignItems:"center",justifyContent:"center",flex:1},landingMessage:{maxWidth:600},landingP:{marginBottom:16},hide:{display:"none"},browseButtonContainer:{display:"flex",alignItems:"center",justifyContent:"center"},browseButton:{marginBottom:16,height:72,flex:1,maxWidth:256,textAlign:"center",fontSize:K.BIG_BUTTON,lineHeight:"72px",background:t.selectionPrimaryColor,color:t.altFgPrimaryColor,transition:`all ${sr.HOVER_CHANGE} ease-in`,":hover":{background:t.selectionSecondaryColor}},link:{color:t.selectionPrimaryColor,cursor:"pointer",textDecoration:"none",transition:`all ${sr.HOVER_CHANGE} ease-in`,":hover":{color:t.selectionSecondaryColor}},noTraceWatermark:{backgroundColor:"transparent",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.5,display:"flex",flexDirection:"column",gap:"1.1rem",justifyContent:"center",alignItems:"center",textAlign:"center","user-select":"none","-webki-user-select":"none","-ms-user-select":"none"},watermarkH1:{fontSize:"7.5em",lineHeight:"6rem"},watermarkP:{fontSize:"1.4em"}})),qh=W(()=>{const t=O(Jt),e=$(),r=Y(()=>t?ut({theme:e,canvas:t}):null,[e,t]),n=te();return fe(()=>(n&&We.set(n),()=>We.set(null))),c(bc,{children:c(jh,{ref:n,activeProfileState:_o(),canvasContext:r,setGLCanvas:Jt.set,setLoading:Qt.set,setError:er.set,setProfileGroup:ie.setProfileGroup,setDragActive:In.set,setViewMode:Fe.set,setFlattenRecursion:it.set,setProfileIndexToView:ie.setProfileIndexToView,profileGroup:O(ie),theme:e,flattenRecursion:O(it),viewMode:O(Fe),hashParams:O(Is),glCanvas:t,dragActive:O(In),loading:O(Qt),error:O(er),customWelcomeMessage:O(Or)})})});function Kh({pClass:t,children:e}){const n={backgroundColor:$().selectionSecondaryColor};return c(_e,{children:[c("p",{className:t,children:"Drag and drop a trace in TEF (Trace Event Format) onto this window to get started, or click the big blue button below to browse for a file to explore."}),e,c("p",{className:t,children:["To convert CTF (Common Trace Format) trace received from Zephyr, use"," ",c("span",{style:n,className:re["welcome-message-code"],children:"west zpl-prepare-trace"})," ","command from the Zephelin library."]})]})}function Zh(t,e,r,n){return c("div",{className:t,children:[c("p",{className:e,children:["Hi there! Welcome to Zephelin Trace Viewer, an interactive visualizer for"," ",c("a",{className:r,href:"https://docs.zephyrproject.org/latest/services/tracing/index.html",target:"_blank",children:"Zephyr traces"}),"."]}),c(Kh,{pClass:e,aClass:r,children:n})]})}function Xh(){rr.set({title:"",dragImport:!1,changeDocumentTile:!1}),be.selectionPrimaryColor="#6e32ca",be.selectionSecondaryColor="#8a59d5",be.bgCanvas="#00000000",be.bgSecondaryColor="#242424",be.altBgPrimaryColor="#1a1a1a",be.altBgSecondaryColor="#1a1a1a",Ce.selectionPrimaryColor="#8a59d5",Ce.selectionSecondaryColor="#a781dd",Ce.bgCanvas="#00000000",Ce.bgSecondaryColor="#242424",Ce.altBgPrimaryColor="#1a1a1a",Ce.altBgSecondaryColor="#1a1a1a",Or.get().default===void 0&&Or.set({default:Zh}),nt.get()===Ie.SYSTEM&&nt.set(Ie.DARK)}const Yh=W(()=>{const t=()=>{var i;const n=(i=We.get())==null?void 0:i.current;n!==void 0&&n.redrawCanvas()},e=te(null),r=new ResizeObserver(n=>t());return fe(()=>(e.current!==null&&r.observe(e.current),document.body.addEventListener("scroll",t),()=>{r.disconnect(),document.body.removeEventListener("scroll",t)}),[]),c("div",{id:re["speedscope-container"],ref:e,children:c(qh,{})})},(t,e)=>!0),gu=Qs(Yh,"Flamegraph",{additionalProps:{minHeight:400,minWidth:540,enableClose:!1}}),Jh=rs(()=>Ge(()=>import("./tiling-layout-CD4cMF_A.js"),__vite__mapDeps([0,1]),import.meta.url));Xh();function Qh(){const t=te(null),[e,r]=le(!so);ao.set({onstart(){r(!1)}});const n=O(er),i=e||n;return c("div",{id:re.app,children:[c(Ds,{children:[c(la,{tilingRef:t,displayTitle:!i}),c(mo,{id:re["tiling-container"],enabled:!i,children:c(Gt,{fallback:c(pa,{}),children:c(Jh,{tilingRef:t})})}),i?c(da,{setWelcomeScreenSt:r}):null]}),c("div",{id:re.background})]})}rt(c(Qh,{}),document.getElementById("mountpoint"));export{tu as $,te as A,gu as B,ar as C,Qt as D,ea as E,ee as F,pu as G,du as H,fu as I,hu as J,qt as K,lu as L,W as M,on as N,Ee as O,iu as P,jr as Q,nn as R,mt as S,Tc as T,su as U,q as V,ou as W,Rc as X,xs as Y,au as Z,Wi as _,$o as a,$n as a0,ne as a1,Ki as a2,cu as a3,mu as a4,nu as b,en as c,le as d,ft as e,it as f,Rh as g,Os as h,ht as i,lt as j,_e as k,Oa as l,tr as m,ru as n,Ve as o,ie as p,uu as q,$ as r,Qe as s,Qs as t,c as u,Fe as v,re as w,he as x,fe as y,eu as z};
